sap.ui.define([],function(){"use strict";var e=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function t(e,t){return t={exports:{}},e(t,t.exports),t.expor+
ts}var i=t(function(t){                                                                                                                                                                                                                                        
/*!                                                                                                                                                                                                                                                            
	 * jQuery JavaScript Library v3.3.1                                                                                                                                                                                                                           
	 * https://jquery.com/                                                                                                                                                                                                                                        
	 *                                                                                                                                                                                                                                                            
	 * Includes Sizzle.js                                                                                                                                                                                                                                         
	 * https://sizzlejs.com/                                                                                                                                                                                                                                      
	 *                                                                                                                                                                                                                                                            
	 * Copyright JS Foundation and other contributors                                                                                                                                                                                                             
	 * Released under the MIT license                                                                                                                                                                                                                             
	 * https://jquery.org/license                                                                                                                                                                                                                                 
	 *                                                                                                                                                                                                                                                            
	 * Date: 2018-01-20T17:24Z                                                                                                                                                                                                                                    
	 */                                                                                                                                                                                                                                                           
(function(e,i){{t.exports=e.document?i(e,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return i(e)}}})(typeof window!=="undefined"?window:e,function(e,t){var i=[];var n=e.document;var r=Object.getPrototypeO+
f;var o=i.slice;var s=i.concat;var a=i.push;var l=i.indexOf;var u={};var h=u.toString;var c=u.hasOwnProperty;var d=c.toString;var f=d.call(Object);var p={};var m=function e(t){return typeof t==="function"&&typeof t.nodeType!=="number"};var g=function e(t+
){return t!=null&&t===t.window};var v={type:true,src:true,noModule:true};function _(e,t,i){t=t||n;var r,o=t.createElement("script");o.text=e;if(i){for(r in v){if(i[r]){o[r]=i[r]}}}t.head.appendChild(o).parentNode.removeChild(o)}function y(e){if(e==null){+
return e+""}return typeof e==="object"||typeof e==="function"?u[h.call(e)]||"object":typeof e}var w="3.3.1",b=function(e,t){return new b.fn.init(e,t)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;b.fn=b.prototype={jquery:w,constructor:b,length:0,toArray:functi+
on(){return o.call(this)},get:function(e){if(e==null){return o.call(this)}return e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);t.prevObject=this;return t},each:function(e){return b.each(this,e)},map:function(e+
){return this.pushStack(b.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?+
t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice};b.extend=b.fn.extend=function(){var e,t,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=false;if(typeof+
 s==="boolean"){u=s;s=arguments[a]||{};a++}if(typeof s!=="object"&&!m(s)){s={}}if(a===l){s=this;a--}for(;a<l;a++){if((e=arguments[a])!=null){for(t in e){i=s[t];n=e[t];if(s===n){continue}if(u&&n&&(b.isPlainObject(n)||(r=Array.isArray(n)))){if(r){r=false;o+
=i&&Array.isArray(i)?i:[]}else{o=i&&b.isPlainObject(i)?i:{}}s[t]=b.extend(u,o,n)}else if(n!==undefined){s[t]=n}}}}return s};b.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){+
},isPlainObject:function(e){var t,i;if(!e||h.call(e)!=="[object Object]"){return false}t=r(e);if(!t){return true}i=c.call(t,"constructor")&&t.constructor;return typeof i==="function"&&d.call(i)===f},isEmptyObject:function(e){var t;for(t in e){return fals+
e}return true},globalEval:function(e){_(e)},each:function(e,t){var i,n=0;if(L(e)){i=e.length;for(;n<i;n++){if(t.call(e[n],n,e[n])===false){break}}}else{for(n in e){if(t.call(e[n],n,e[n])===false){break}}}return e},trim:function(e){return e==null?"":(e+""+
).replace(x,"")},makeArray:function(e,t){var i=t||[];if(e!=null){if(L(Object(e))){b.merge(i,typeof e==="string"?[e]:e)}else{a.call(i,e)}}return i},inArray:function(e,t,i){return t==null?-1:l.call(t,e,i)},merge:function(e,t){var i=+t.length,n=0,r=e.length+
;for(;n<i;n++){e[r++]=t[n]}e.length=r;return e},grep:function(e,t,i){var n,r=[],o=0,s=e.length,a=!i;for(;o<s;o++){n=!t(e[o],o);if(n!==a){r.push(e[o])}}return r},map:function(e,t,i){var n,r,o=0,a=[];if(L(e)){n=e.length;for(;o<n;o++){r=t(e[o],o,i);if(r!=nu+
ll){a.push(r)}}}else{for(o in e){r=t(e[o],o,i);if(r!=null){a.push(r)}}}return s.apply([],a)},guid:1,support:p});if(typeof Symbol==="function"){b.fn[Symbol.iterator]=i[Symbol.iterator]}b.each("Boolean Number String Function Array Date RegExp Object Error +
Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});function L(e){var t=!!e&&"length"in e&&e.length,i=y(e);if(m(e)||g(e)){return false}return i==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}var k=                                 
/*!                                                                                                                                                                                                                                                            
	 * Sizzle CSS Selector Engine v2.3.3                                                                                                                                                                                                                          
	 * https://sizzlejs.com/                                                                                                                                                                                                                                      
	 *                                                                                                                                                                                                                                                            
	 * Copyright jQuery Foundation and other contributors                                                                                                                                                                                                         
	 * Released under the MIT license                                                                                                                                                                                                                             
	 * http://jquery.org/license                                                                                                                                                                                                                                  
	 *                                                                                                                                                                                                                                                            
	 * Date: 2016-08-08                                                                                                                                                                                                                                           
	 */                                                                                                                                                                                                                                                           
function(e){var t,i,n,r,o,s,a,l,u,h,c,d,f,p,m,g,v,_,y,w="sizzle"+1*new Date,b=e.document,x=0,L=0,k=se(),E=se(),T=se(),C=function(e,t){if(e===t){c=true}return 0},D={}.hasOwnProperty,S=[],M=S.pop,P=S.push,I=S.push,N=S.slice,A=function(e,t){var i=0,n=e.leng+
th;for(;i<n;i++){if(e[i]===t){return i}}return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+R+"*("+$+")+
(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+R+"*\\]",F=":("+$+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|"+".*"+")\\)|)",q=new RegExp(R+"+","g"),B=+
new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),U=new RegExp("^"+R+"*,"+R+"*"),H=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),V=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),j=new RegExp(F),Z=new RegExp("^"+$+"$"),W={ID:new RegExp("^#("+$+")"),C+
LASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\+
)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,K=+
/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)},te=/([\0-\x1f\x7f+
]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){if(t){if(e==="\0"){return"�"}return e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" "}return"\\"+e},ne=function(){d()},re=_e(function(e){return e.disabled===true&&("form"in e||"label"in +
e)},{dir:"parentNode",next:"legend"});try{I.apply(S=N.call(b.childNodes),b.childNodes);S[b.childNodes.length].nodeType}catch(e){I={apply:S.length?function(e,t){P.apply(e,N.call(t))}:function(e,t){var i=e.length,n=0;while(e[i++]=t[n++]){}e.length=i-1}}}fu+
nction oe(e,t,n,r){var o,a,u,h,c,p,v,_=t&&t.ownerDocument,x=t?t.nodeType:9;n=n||[];if(typeof e!=="string"||!e||x!==1&&x!==9&&x!==11){return n}if(!r){if((t?t.ownerDocument||t:b)!==f){d(t)}t=t||f;if(m){if(x!==11&&(c=K.exec(e))){if(o=c[1]){if(x===9){if(u=t.+
getElementById(o)){if(u.id===o){n.push(u);return n}}else{return n}}else{if(_&&(u=_.getElementById(o))&&y(t,u)&&u.id===o){n.push(u);return n}}}else if(c[2]){I.apply(n,t.getElementsByTagName(e));return n}else if((o=c[3])&&i.getElementsByClassName&&t.getEle+
mentsByClassName){I.apply(n,t.getElementsByClassName(o));return n}}if(i.qsa&&!T[e+" "]&&(!g||!g.test(e))){if(x!==1){_=t;v=e}else if(t.nodeName.toLowerCase()!=="object"){if(h=t.getAttribute("id")){h=h.replace(te,ie)}else{t.setAttribute("id",h=w)}p=s(e);a=+
p.length;while(a--){p[a]="#"+h+" "+ve(p[a])}v=p.join(",");_=Q.test(e)&&me(t.parentNode)||t}if(v){try{I.apply(n,_.querySelectorAll(v));return n}catch(e){}finally{if(h===w){t.removeAttribute("id")}}}}}}return l(e.replace(B,"$1"),t,n,r)}function se(){var e=+
[];function t(i,r){if(e.push(i+" ")>n.cacheLength){delete t[e.shift()]}return t[i+" "]=r}return t}function ae(e){e[w]=true;return e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return false}finally{if(t.parentNode){t.parentN+
ode.removeChild(t)}t=null}}function ue(e,t){var i=e.split("|"),r=i.length;while(r--){n.attrHandle[i[r]]=t}}function he(e,t){var i=t&&e,n=i&&e.nodeType===1&&t.nodeType===1&&e.sourceIndex-t.sourceIndex;if(n){return n}if(i){while(i=i.nextSibling){if(i===t){+
return-1}}}return e?1:-1}function ce(e){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===e}}function de(e){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===e}}function fe(e){retur+
n function(t){if("form"in t){if(t.parentNode&&t.disabled===false){if("label"in t){if("label"in t.parentNode){return t.parentNode.disabled===e}else{return t.disabled===e}}return t.isDisabled===e||t.isDisabled!==!e&&re(t)===e}return t.disabled===e}else if(+
"label"in t){return t.disabled===e}return false}}function pe(e){return ae(function(t){t=+t;return ae(function(i,n){var r,o=e([],i.length,t),s=o.length;while(s--){if(i[r=o[s]]){i[r]=!(n[r]=i[r])}}})})}function me(e){return e&&typeof e.getElementsByTagName+
!=="undefined"&&e}i=oe.support={};o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};d=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:b;if(s===f||s.nodeType!==9||!s.documentElement){return +
f}f=s;p=f.documentElement;m=!o(f);if(b!==f&&(r=f.defaultView)&&r.top!==r){if(r.addEventListener){r.addEventListener("unload",ne,false)}else if(r.attachEvent){r.attachEvent("onunload",ne)}}i.attributes=le(function(e){e.className="i";return!e.getAttribute(+
"className")});i.getElementsByTagName=le(function(e){e.appendChild(f.createComment(""));return!e.getElementsByTagName("*").length});i.getElementsByClassName=X.test(f.getElementsByClassName);i.getById=le(function(e){p.appendChild(e).id=w;return!f.getEleme+
ntsByName||!f.getElementsByName(w).length});if(i.getById){n.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}};n.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&m){var i=t.getElementById+
(e);return i?[i]:[]}}}else{n.filter["ID"]=function(e){var t=e.replace(J,ee);return function(e){var i=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return i&&i.value===t}};n.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefi+
ned"&&m){var i,n,r,o=t.getElementById(e);if(o){i=o.getAttributeNode("id");if(i&&i.value===e){return[o]}r=t.getElementsByName(e);n=0;while(o=r[n++]){i=o.getAttributeNode("id");if(i&&i.value===e){return[o]}}}return[]}}}n.find["TAG"]=i.getElementsByTagName?+
function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else if(i.qsa){return t.querySelectorAll(e)}}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if(e==="*"){while(i=o[r++]){if(i.nodeType===1){n.push(i)+
}}return n}return o};n.find["CLASS"]=i.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!=="undefined"&&m){return t.getElementsByClassName(e)}};v=[];g=[];if(i.qsa=X.test(f.querySelectorAll)){le(function(e){p.appendChild(e).innerHTM+
L="<a id='"+w+"'></a>"+"<select id='"+w+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){g.push("[*^$]="+R+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){g.push("\\["+
+R+"*(?:value|"+O+")")}if(!e.querySelectorAll("[id~="+w+"-]").length){g.push("~=")}if(!e.querySelectorAll(":checked").length){g.push(":checked")}if(!e.querySelectorAll("a#"+w+"+*").length){g.push(".#.+[+~]")}});le(function(e){e.innerHTML="<a href='' disa+
bled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){g.push("name"+R+"*[*^$|!~]?=")}if(e.+
querySelectorAll(":enabled").length!==2){g.push(":enabled",":disabled")}p.appendChild(e).disabled=true;if(e.querySelectorAll(":disabled").length!==2){g.push(":enabled",":disabled")}e.querySelectorAll("*,:x");g.push(",.*:")})}if(i.matchesSelector=X.test(_+
=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector)){le(function(e){i.disconnectedMatch=_.call(e,"*");_.call(e,"[s!='']:x");v.push("!=",F)})}g=g.length&&new RegExp(g.join("|"));v=v.length&&new RegExp(v.join+
("|"));t=X.test(p.compareDocumentPosition);y=t||X.test(p.contains)?function(e,t){var i=e.nodeType===9?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(i.contains?i.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition+
(n)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};C=t?function(e,t){if(e===t){c=true;return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition;if(n){return n}n=(e.ownerDocument||e)===(t.ownerDocument||t)+
?e.compareDocumentPosition(t):1;if(n&1||!i.sortDetached&&t.compareDocumentPosition(e)===n){if(e===f||e.ownerDocument===b&&y(b,e)){return-1}if(t===f||t.ownerDocument===b&&y(b,t)){return 1}return h?A(h,e)-A(h,t):0}return n&4?-1:1}:function(e,t){if(e===t){c+
=true;return 0}var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o){return e===f?-1:t===f?1:r?-1:o?1:h?A(h,e)-A(h,t):0}else if(r===o){return he(e,t)}i=e;while(i=i.parentNode){s.unshift(i)}i=t;while(i=i.parentNode){a.unshift(i)}while(s[n]===a[n]+
){n++}return n?he(s[n],a[n]):s[n]===b?-1:a[n]===b?1:0};return f};oe.matches=function(e,t){return oe(e,null,null,t)};oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f){d(e)}t=t.replace(V,"='$1']");if(i.matchesSelector&&m&&!T[t+" "]&&(!v||!v.tes+
t(t))&&(!g||!g.test(t))){try{var n=_.call(e,t);if(n||i.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(e){}}return oe(t,f,null,[e]).length>0};oe.contains=function(e,t){if((e.ownerDocument||e)!==f){d(e)}return y(e,t)};oe.attr=func+
tion(e,t){if((e.ownerDocument||e)!==f){d(e)}var r=n.attrHandle[t.toLowerCase()],o=r&&D.call(n.attrHandle,t.toLowerCase())?r(e,t,!m):undefined;return o!==undefined?o:i.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null};o+
e.escape=function(e){return(e+"").replace(te,ie)};oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};oe.uniqueSort=function(e){var t,n=[],r=0,o=0;c=!i.detectDuplicates;h=!i.sortStable&&e.slice(0);e.sort(C);if(c){while(t=e[+
o++]){if(t===e[o]){r=n.push(o)}}while(r--){e.splice(n[r],1)}}h=null;return e};r=oe.getText=function(e){var t,i="",n=0,o=e.nodeType;if(!o){while(t=e[n++]){i+=r(t)}}else if(o===1||o===9||o===11){if(typeof e.textContent==="string"){return e.textContent}else+
{for(e=e.firstChild;e;e=e.nextSibling){i+=r(e)}}}else if(o===3||o===4){return e.nodeValue}return i};n=oe.selectors={cacheLength:50,createPseudo:ae,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"+
previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(J,ee);e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[+
1].slice(0,3)==="nth"){if(!e[3]){oe.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){oe.error(e[0])}return e},PSEUDO:function(e){var t,i=!e[6]&&e[2];if(W["CHILD"].test(e[0])){return nul+
l}if(e[3]){e[2]=e[4]||e[5]||""}else if(i&&j.test(i)&&(t=s(i,true))&&(t=i.indexOf(")",i.length-t)-i.length)){e[0]=e[0].slice(0,t);e[2]=i.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return e==="*"?function()+
{return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&k(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttrib+
ute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=oe.attr(n,e);if(r==null){return t==="!="}if(!t){return true}r+="";return t==="="?r===i:t==="!="?r!==i:t==="^="?i&&r.indexOf(i)===0:t==="*="?i&&r.indexOf(i)>-+
1:t==="$="?i&&r.slice(-i.length)===i:t==="~="?(" "+r.replace(q," ")+" ").indexOf(i)>-1:t==="|="?r===i||r.slice(0,i.length+1)===i+"-":false}},CHILD:function(e,t,i,n,r){var o=e.slice(0,3)!=="nth",s=e.slice(-4)!=="last",a=t==="of-type";return n===1&&r===0?f+
unction(e){return!!e.parentNode}:function(t,i,l){var u,h,c,d,f,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),_=!l&&!a,y=false;if(g){if(o){while(m){d=t;while(d=d[m]){if(a?d.nodeName.toLowerCase()===v:d.nodeType===1+
){return false}}p=m=e==="only"&&!p&&"nextSibling"}return true}p=[s?g.firstChild:g.lastChild];if(s&&_){d=g;c=d[w]||(d[w]={});h=c[d.uniqueID]||(c[d.uniqueID]={});u=h[e]||[];f=u[0]===x&&u[1];y=f&&u[2];d=f&&g.childNodes[f];while(d=++f&&d&&d[m]||(y=f=0)||p.po+
p()){if(d.nodeType===1&&++y&&d===t){h[e]=[x,f,y];break}}}else{if(_){d=t;c=d[w]||(d[w]={});h=c[d.uniqueID]||(c[d.uniqueID]={});u=h[e]||[];f=u[0]===x&&u[1];y=f}if(y===false){while(d=++f&&d&&d[m]||(y=f=0)||p.pop()){if((a?d.nodeName.toLowerCase()===v:d.nodeT+
ype===1)&&++y){if(_){c=d[w]||(d[w]={});h=c[d.uniqueID]||(c[d.uniqueID]={});h[e]=[x,y]}if(d===t){break}}}}}y-=r;return y===n||y%n===0&&y/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);i+
f(r[w]){return r(t)}if(r.length>1){i=[e,e,"",t];return n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){var n,o=r(e,t),s=o.length;while(s--){n=A(e,o[s]);e[n]=!(i[n]=o[s])}}):function(e){return r(e,0,i)}}return r}},pseudos:{not:ae(function(e)+
{var t=[],i=[],n=a(e.replace(B,"$1"));return n[w]?ae(function(e,t,i,r){var o,s=n(e,null,r,[]),a=e.length;while(a--){if(o=s[a]){e[a]=!(t[a]=o)}}}):function(e,r,o){t[0]=e;n(t,null,o,i);t[0]=null;return!i.pop()}}),has:ae(function(e){return function(t){retur+
n oe(e,t).length>0}}),contains:ae(function(e){e=e.replace(J,ee);return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){if(!Z.test(e||"")){oe.error("unsupported lang: "+e)}e=e.replace(J,ee).toLowerCase();return fu+
nction(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){i=i.toLowerCase();return i===e||i.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var i=e.location&&e.location.hash;return+
 i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(false),disabled:fe(true),checked:function(e){var t=e.nodeName.toLowerCase();retur+
n t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:+
function(e){return!n.pseudos["empty"](e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){v+
ar t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,i){return[i<0?i+t:i]}),even:pe(function(+
e,t){var i=0;for(;i<t;i+=2){e.push(i)}return e}),odd:pe(function(e,t){var i=1;for(;i<t;i+=2){e.push(i)}return e}),lt:pe(function(e,t,i){var n=i<0?i+t:i;for(;--n>=0;){e.push(n)}return e}),gt:pe(function(e,t,i){var n=i<0?i+t:i;for(;++n<t;){e.push(n)}return+
 e})}};n.pseudos["nth"]=n.pseudos["eq"];for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){n.pseudos[t]=ce(t)}for(t in{submit:true,reset:true}){n.pseudos[t]=de(t)}function ge(){}ge.prototype=n.filters=n.pseudos;n.setFilters=new ge;s=o+
e.tokenize=function(e,t){var i,r,o,s,a,l,u,h=E[e+" "];if(h){return t?0:h.slice(0)}a=e;l=[];u=n.preFilter;while(a){if(!i||(r=U.exec(a))){if(r){a=a.slice(r[0].length)||a}l.push(o=[])}i=false;if(r=H.exec(a)){i=r.shift();o.push({value:i,type:r[0].replace(B,"+
 ")});a=a.slice(i.length)}for(s in n.filter){if((r=W[s].exec(a))&&(!u[s]||(r=u[s](r)))){i=r.shift();o.push({value:i,type:s,matches:r});a=a.slice(i.length)}}if(!i){break}}return t?a.length:a?oe.error(e):E(e,l).slice(0)};function ve(e){var t=0,i=e.length,n+
="";for(;t<i;t++){n+=e[t].value}return n}function _e(e,t,i){var n=t.dir,r=t.next,o=r||n,s=i&&o==="parentNode",a=L++;return t.first?function(t,i,r){while(t=t[n]){if(t.nodeType===1||s){return e(t,i,r)}}return false}:function(t,i,l){var u,h,c,d=[x,a];if(l){+
while(t=t[n]){if(t.nodeType===1||s){if(e(t,i,l)){return true}}}}else{while(t=t[n]){if(t.nodeType===1||s){c=t[w]||(t[w]={});h=c[t.uniqueID]||(c[t.uniqueID]={});if(r&&r===t.nodeName.toLowerCase()){t=t[n]||t}else if((u=h[o])&&u[0]===x&&u[1]===a){return d[2]+
=u[2]}else{h[o]=d;if(d[2]=e(t,i,l)){return true}}}}}return false}}function ye(e){return e.length>1?function(t,i,n){var r=e.length;while(r--){if(!e[r](t,i,n)){return false}}return true}:e[0]}function we(e,t,i){var n=0,r=t.length;for(;n<r;n++){oe(e,t[n],i)+
}return i}function be(e,t,i,n,r){var o,s=[],a=0,l=e.length,u=t!=null;for(;a<l;a++){if(o=e[a]){if(!i||i(o,n,r)){s.push(o);if(u){t.push(a)}}}}return s}function xe(e,t,i,n,r,o){if(n&&!n[w]){n=xe(n)}if(r&&!r[w]){r=xe(r,o)}return ae(function(o,s,a,l){var u,h,+
c,d=[],f=[],p=s.length,m=o||we(t||"*",a.nodeType?[a]:a,[]),g=e&&(o||!t)?be(m,d,e,a,l):m,v=i?r||(o?e:p||n)?[]:s:g;if(i){i(g,v,a,l)}if(n){u=be(v,f);n(u,[],a,l);h=u.length;while(h--){if(c=u[h]){v[f[h]]=!(g[f[h]]=c)}}}if(o){if(r||e){if(r){u=[];h=v.length;whi+
le(h--){if(c=v[h]){u.push(g[h]=c)}}r(null,v=[],u,l)}h=v.length;while(h--){if((c=v[h])&&(u=r?A(o,c):d[h])>-1){o[u]=!(s[u]=c)}}}}else{v=be(v===s?v.splice(p,v.length):v);if(r){r(null,s,v,l)}else{I.apply(s,v)}}})}function Le(e){var t,i,r,o=e.length,s=n.relat+
ive[e[0].type],a=s||n.relative[" "],l=s?1:0,h=_e(function(e){return e===t},a,true),c=_e(function(e){return A(t,e)>-1},a,true),d=[function(e,i,n){var r=!s&&(n||i!==u)||((t=i).nodeType?h(e,i,n):c(e,i,n));t=null;return r}];for(;l<o;l++){if(i=n.relative[e[l]+
.type]){d=[_e(ye(d),i)]}else{i=n.filter[e[l].type].apply(null,e[l].matches);if(i[w]){r=++l;for(;r<o;r++){if(n.relative[e[r].type]){break}}return xe(l>1&&ye(d),l>1&&ve(e.slice(0,l-1).concat({value:e[l-2].type===" "?"*":""})).replace(B,"$1"),i,l<r&&Le(e.sl+
ice(l,r)),r<o&&Le(e=e.slice(r)),r<o&&ve(e))}d.push(i)}}return ye(d)}function ke(e,t){var i=t.length>0,r=e.length>0,o=function(o,s,a,l,h){var c,p,g,v=0,_="0",y=o&&[],w=[],b=u,L=o||r&&n.find["TAG"]("*",h),k=x+=b==null?1:Math.random()||.1,E=L.length;if(h){u+
=s===f||s||h}for(;_!==E&&(c=L[_])!=null;_++){if(r&&c){p=0;if(!s&&c.ownerDocument!==f){d(c);a=!m}while(g=e[p++]){if(g(c,s||f,a)){l.push(c);break}}if(h){x=k}}if(i){if(c=!g&&c){v--}if(o){y.push(c)}}}v+=_;if(i&&_!==v){p=0;while(g=t[p++]){g(y,w,s,a)}if(o){if(+
v>0){while(_--){if(!(y[_]||w[_])){w[_]=M.call(l)}}}w=be(w)}I.apply(l,w);if(h&&!o&&w.length>0&&v+t.length>1){oe.uniqueSort(l)}}if(h){x=k;u=b}return y};return i?ae(o):o}a=oe.compile=function(e,t){var i,n=[],r=[],o=T[e+" "];if(!o){if(!t){t=s(e)}i=t.length;w+
hile(i--){o=Le(t[i]);if(o[w]){n.push(o)}else{r.push(o)}}o=T(e,ke(r,n));o.selector=e}return o};l=oe.select=function(e,t,i,r){var o,l,u,h,c,d=typeof e==="function"&&e,f=!r&&s(e=d.selector||e);i=i||[];if(f.length===1){l=f[0]=f[0].slice(0);if(l.length>2&&(u=+
l[0]).type==="ID"&&t.nodeType===9&&m&&n.relative[l[1].type]){t=(n.find["ID"](u.matches[0].replace(J,ee),t)||[])[0];if(!t){return i}else if(d){t=t.parentNode}e=e.slice(l.shift().value.length)}o=W["needsContext"].test(e)?0:l.length;while(o--){u=l[o];if(n.r+
elative[h=u.type]){break}if(c=n.find[h]){if(r=c(u.matches[0].replace(J,ee),Q.test(l[0].type)&&me(t.parentNode)||t)){l.splice(o,1);e=r.length&&ve(l);if(!e){I.apply(i,r);return i}break}}}}(d||a(e,f))(r,t,!m,i,!t||Q.test(e)&&me(t.parentNode)||t);return i};i+
.sortStable=w.split("").sort(C).join("")===w;i.detectDuplicates=!!c;d();i.sortDetached=le(function(e){return e.compareDocumentPosition(f.createElement("fieldset"))&1});if(!le(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("hr+
ef")==="#"})){ue("type|href|height|width",function(e,t,i){if(!i){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!i.attributes||!le(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("val+
ue")===""})){ue("value",function(e,t,i){if(!i&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!le(function(e){return e.getAttribute("disabled")==null})){ue(O,function(e,t,i){var n;if(!i){return e[t]===true?t.toLowerCase():(n=e.getAttribu+
teNode(t))&&n.specified?n.value:null}})}return oe}(e);b.find=k;b.expr=k.selectors;b.expr[":"]=b.expr.pseudos;b.uniqueSort=b.unique=k.uniqueSort;b.text=k.getText;b.isXMLDoc=k.isXML;b.contains=k.contains;b.escapeSelector=k.escape;var E=function(e,t,i){var +
n=[],r=i!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(r&&b(e).is(i)){break}n.push(e)}}return n};var T=function(e,t){var i=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){i.push(e)}}return i};var C=b.expr.match.needsContext;funct+
ion D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,i){if(m(t)){return b.grep(e,function(e,n){return!!t.call(e,n,e)!==i})}if(t.nodeType){return b.+
grep(e,function(e){return e===t!==i})}if(typeof t!=="string"){return b.grep(e,function(e){return l.call(t,e)>-1!==i})}return b.filter(t,e,i)}b.filter=function(e,t,i){var n=t[0];if(i){e=":not("+e+")"}if(t.length===1&&n.nodeType===1){return b.find.matchesS+
elector(n,e)?[n]:[]}return b.find.matches(e,b.grep(t,function(e){return e.nodeType===1}))};b.fn.extend({find:function(e){var t,i,n=this.length,r=this;if(typeof e!=="string"){return this.pushStack(b(e).filter(function(){for(t=0;t<n;t++){if(b.contains(r[t]+
,this)){return true}}}))}i=this.pushStack([]);for(t=0;t<n;t++){b.find(e,r[t],i)}return n>1?b.uniqueSort(i):i},filter:function(e){return this.pushStack(M(this,e||[],false))},not:function(e){return this.pushStack(M(this,e||[],true))},is:function(e){return!+
!M(this,typeof e==="string"&&C.test(e)?b(e):e||[],false).length}});var P,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,N=b.fn.init=function(e,t,i){var r,o;if(!e){return this}i=i||P;if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){r=[nul+
l,e,null]}else{r=I.exec(e)}if(r&&(r[1]||!t)){if(r[1]){t=t instanceof b?t[0]:t;b.merge(this,b.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:n,true));if(S.test(r[1])&&b.isPlainObject(t)){for(r in t){if(m(this[r])){this[r](t[r])}else{this.attr(r,t[r])}}}r+
eturn this}else{o=n.getElementById(r[2]);if(o){this[0]=o;this.length=1}return this}}else if(!t||t.jquery){return(t||i).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this[0]=e;this.length=1;return this}else if(m(e)){return i.ready!=+
=undefined?i.ready(e):e(b)}return b.makeArray(e,this)};N.prototype=b.fn;P=b(n);var A=/^(?:parents|prev(?:Until|All))/,O={children:true,contents:true,next:true,prev:true};b.fn.extend({has:function(e){var t=b(e,this),i=t.length;return this.filter(function(+
){var e=0;for(;e<i;e++){if(b.contains(this,t[e])){return true}}})},closest:function(e,t){var i,n=0,r=this.length,o=[],s=typeof e!=="string"&&b(e);if(!C.test(e)){for(;n<r;n++){for(i=this[n];i&&i!==t;i=i.parentNode){if(i.nodeType<11&&(s?s.index(i)>-1:i.nod+
eType===1&&b.find.matchesSelector(i,e))){o.push(i);break}}}}return this.pushStack(o.length>1?b.uniqueSort(o):o)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return l.call(b(e),this[+
0])}return l.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function R(e,t){while((e=e[t])&&e.nodeTy+
pe!==1){}return e}b.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,i){return E(e,"parentNode",i)},next:function(e){return R(e,"nextSibling")},prev:func+
tion(e){return R(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,i){return E(e,"nextSibling",i)},prevUntil:function(e,t,i){return E(e,"previousSibling",i)},sib+
lings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){if(D(e,"iframe")){return e.contentDocument}if(D(e,"template")){e=e.content||e}return b.merge([],e.childNodes)}},function(e,t){b+
.fn[e]=function(i,n){var r=b.map(this,t,i);if(e.slice(-5)!=="Until"){n=i}if(n&&typeof n==="string"){r=b.filter(n,r)}if(this.length>1){if(!O[e]){b.uniqueSort(r)}if(A.test(e)){r.reverse()}}return this.pushStack(r)}});var $=/[^\x20\t\r\n\f]+/g;function z(e)+
{var t={};b.each(e.match($)||[],function(e,i){t[i]=true});return t}b.Callbacks=function(e){e=typeof e==="string"?z(e):b.extend({},e);var t,i,n,r,o=[],s=[],a=-1,l=function(){r=r||e.once;n=t=true;for(;s.length;a=-1){i=s.shift();while(++a<o.length){if(o[a].+
apply(i[0],i[1])===false&&e.stopOnFalse){a=o.length;i=false}}}if(!e.memory){i=false}t=false;if(r){if(i){o=[]}else{o=""}}},u={add:function(){if(o){if(i&&!t){a=o.length-1;s.push(i)}(function t(i){b.each(i,function(i,n){if(m(n)){if(!e.unique||!u.has(n)){o.p+
ush(n)}}else if(n&&n.length&&y(n)!=="string"){t(n)}})})(arguments);if(i&&!t){l()}}return this},remove:function(){b.each(arguments,function(e,t){var i;while((i=b.inArray(t,o,i))>-1){o.splice(i,1);if(i<=a){a--}}});return this},has:function(e){return e?b.in+
Array(e,o)>-1:o.length>0},empty:function(){if(o){o=[]}return this},disable:function(){r=s=[];o=i="";return this},disabled:function(){return!o},lock:function(){r=s=[];if(!i&&!t){o=i=""}return this},locked:function(){return!!r},fireWith:function(e,i){if(!r+
){i=i||[];i=[e,i.slice?i.slice():i];s.push(i);if(!t){l()}}return this},fire:function(){u.fireWith(this,arguments);return this},fired:function(){return!!n}};return u};function F(e){return e}function q(e){throw e}function B(e,t,i,n){var r;try{if(e&&m(r=e.p+
romise)){r.call(e).done(t).fail(i)}else if(e&&m(r=e.then)){r.call(e,t,i)}else{t.apply(undefined,[e].slice(n))}}catch(e){i.apply(undefined,[e])}}b.extend({Deferred:function(t){var i=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["re+
solve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){o.done(arguments).fail(arg+
uments);return this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return b.Deferred(function(t){b.each(i,function(i,n){var r=m(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=r&&r.apply(this,arguments);if(e&&m(e.promise)){e.promise+
().progress(t.notify).done(t.resolve).fail(t.reject)}else{t[n[0]+"With"](this,r?[e]:arguments)}})});e=null}).promise()},then:function(t,n,r){var o=0;function s(t,i,n,r){return function(){var a=this,l=arguments,u=function(){var e,u;if(t<o){return}e=n.appl+
y(a,l);if(e===i.promise()){throw new TypeError("Thenable self-resolution")}u=e&&(typeof e==="object"||typeof e==="function")&&e.then;if(m(u)){if(r){u.call(e,s(o,i,F,r),s(o,i,q,r))}else{o++;u.call(e,s(o,i,F,r),s(o,i,q,r),s(o,i,F,i.notifyWith))}}else{if(n!+
==F){a=undefined;l=[e]}(r||i.resolveWith)(a,l)}},h=r?u:function(){try{u()}catch(e){if(b.Deferred.exceptionHook){b.Deferred.exceptionHook(e,h.stackTrace)}if(t+1>=o){if(n!==q){a=undefined;l=[e]}i.rejectWith(a,l)}}};if(t){h()}else{if(b.Deferred.getStackHook+
){h.stackTrace=b.Deferred.getStackHook()}e.setTimeout(h)}}}return b.Deferred(function(e){i[0][3].add(s(0,e,m(r)?r:F,e.notifyWith));i[1][3].add(s(0,e,m(t)?t:F));i[2][3].add(s(0,e,m(n)?n:q))}).promise()},promise:function(e){return e!=null?b.extend(e,r):r}}+
,o={};b.each(i,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add;if(a){s.add(function(){n=a},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock)}s.add(t[3].fire);o[t[0]]=function(){o[t[0]+"With"](this===o?undefined:this,arguments);return this};o[t+
[0]+"With"]=s.fireWith});r.promise(o);if(t){t.call(o,o)}return o},when:function(e){var t=arguments.length,i=t,n=Array(i),r=o.call(arguments),s=b.Deferred(),a=function(e){return function(i){n[e]=this;r[e]=arguments.length>1?o.call(arguments):i;if(!--t){s.+
resolveWith(n,r)}}};if(t<=1){B(e,s.done(a(i)).resolve,s.reject,!t);if(s.state()==="pending"||m(r[i]&&r[i].then)){return s.then()}}while(i--){B(r[i],a(i),s.reject)}return s.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Defe+
rred.exceptionHook=function(t,i){if(e.console&&e.console.warn&&t&&U.test(t.name)){e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)}};b.readyException=function(t){e.setTimeout(function(){throw t})};var H=b.Deferred();b.fn.ready=function(e+
){H.then(e).catch(function(e){b.readyException(e)});return this};b.extend({isReady:false,readyWait:1,ready:function(e){if(e===true?--b.readyWait:b.isReady){return}b.isReady=true;if(e!==true&&--b.readyWait>0){return}H.resolveWith(n,[b])}});b.ready.then=H.+
then;function V(){n.removeEventListener("DOMContentLoaded",V);e.removeEventListener("load",V);b.ready()}if(n.readyState==="complete"||n.readyState!=="loading"&&!n.documentElement.doScroll){e.setTimeout(b.ready)}else{n.addEventListener("DOMContentLoaded",+
V);e.addEventListener("load",V)}var j=function(e,t,i,n,r,o,s){var a=0,l=e.length,u=i==null;if(y(i)==="object"){r=true;for(a in i){j(e,t,a,i[a],true,o,s)}}else if(n!==undefined){r=true;if(!m(n)){s=true}if(u){if(s){t.call(e,n);t=null}else{u=t;t=function(e,+
t,i){return u.call(b(e),i)}}}if(t){for(;a<l;a++){t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)))}}}if(r){return e}if(u){return t.call(e)}return l?t(e[0],i):o};var Z=/^-ms-/,W=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function Y(e){return e.replace(Z,"ms-+
").replace(W,G)}var X=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function K(){this.expando=b.expando+K.uid++}K.uid=1;K.prototype={cache:function(e){var t=e[this.expando];if(!t){t={};if(X(e)){if(e.nodeType){e[this.expando]=t}else{Obj+
ect.defineProperty(e,this.expando,{value:t,configurable:true})}}}return t},set:function(e,t,i){var n,r=this.cache(e);if(typeof t==="string"){r[Y(t)]=i}else{for(n in t){r[Y(n)]=t[n]}}return r},get:function(e,t){return t===undefined?this.cache(e):e[this.ex+
pando]&&e[this.expando][Y(t)]},access:function(e,t,i){if(t===undefined||t&&typeof t==="string"&&i===undefined){return this.get(e,t)}this.set(e,t,i);return i!==undefined?i:t},remove:function(e,t){var i,n=e[this.expando];if(n===undefined){return}if(t!==und+
efined){if(Array.isArray(t)){t=t.map(Y)}else{t=Y(t);t=t in n?[t]:t.match($)||[]}i=t.length;while(i--){delete n[t[i]]}}if(t===undefined||b.isEmptyObject(n)){if(e.nodeType){e[this.expando]=undefined}else{delete e[this.expando]}}},hasData:function(e){var t=+
e[this.expando];return t!==undefined&&!b.isEmptyObject(t)}};var Q=new K;var J=new K;var ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ie(e){if(e==="true"){return true}if(e==="false"){return false}if(e==="null"){return null}if(e===+e+""){return++
e}if(ee.test(e)){return JSON.parse(e)}return e}function ne(e,t,i){var n;if(i===undefined&&e.nodeType===1){n="data-"+t.replace(te,"-$&").toLowerCase();i=e.getAttribute(n);if(typeof i==="string"){try{i=ie(i)}catch(e){}J.set(e,t,i)}else{i=undefined}}return +
i}b.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,i){return J.access(e,t,i)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,i){return Q.access(e,t,i)},_removeData:function(e,t){Q.remove(e,t)}});b.fn.extend({+
data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(e===undefined){if(this.length){r=J.get(o);if(o.nodeType===1&&!Q.get(o,"hasDataAttrs")){i=s.length;while(i--){if(s[i]){n=s[i].name;if(n.indexOf("data-")===0){n=Y(n.slice(5));ne(o,n,r[n])}}}Q.set(+
o,"hasDataAttrs",true)}}return r}if(typeof e==="object"){return this.each(function(){J.set(this,e)})}return j(this,function(t){var i;if(o&&t===undefined){i=J.get(o,e);if(i!==undefined){return i}i=ne(o,e);if(i!==undefined){return i}return}this.each(functi+
on(){J.set(this,e,t)})},null,t,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){J.remove(this,e)})}});b.extend({queue:function(e,t,i){var n;if(e){t=(t||"fx")+"queue";n=Q.get(e,t);if(i){if(!n||Array.isArray(i)){n=Q.access(+
e,t,b.makeArray(i))}else{n.push(i)}}return n||[]}},dequeue:function(e,t){t=t||"fx";var i=b.queue(e,t),n=i.length,r=i.shift(),o=b._queueHooks(e,t),s=function(){b.dequeue(e,t)};if(r==="inprogress"){r=i.shift();n--}if(r){if(t==="fx"){i.unshift("inprogress")+
}delete o.stop;r.call(e,s,o)}if(!n&&o){o.empty.fire()}},_queueHooks:function(e,t){var i=t+"queueHooks";return Q.get(e,i)||Q.access(e,i,{empty:b.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",i])})})}});b.fn.extend({queue:function(e,t){var +
i=2;if(typeof e!=="string"){t=e;e="fx";i--}if(arguments.length<i){return b.queue(this[0],e)}return t===undefined?this:this.each(function(){var i=b.queue(this,e,t);b._queueHooks(this,e);if(e==="fx"&&i[0]!=="inprogress"){b.dequeue(this,e)}})},dequeue:funct+
ion(e){return this.each(function(){b.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=b.Deferred(),o=this,s=this.length,a=function(){if(!--n){r.resolveWith(o,[o])}};if(typeof e!=="string"){t=e;e=u+
ndefined}e=e||"fx";while(s--){i=Q.get(o[s],e+"queueHooks");if(i&&i.empty){n++;i.empty.add(a)}}a();return r.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i");var se=["Top","Right","B+
ottom","Left"];var ae=function(e,t){e=t||e;return e.style.display==="none"||e.style.display===""&&b.contains(e.ownerDocument,e)&&b.css(e,"display")==="none"};var le=function(e,t,i,n){var r,o,s={};for(o in t){s[o]=e.style[o];e.style[o]=t[o]}r=i.apply(e,n|+
|[]);for(o in t){e.style[o]=s[o]}return r};function ue(e,t,i,n){var r,o,s=20,a=n?function(){return n.cur()}:function(){return b.css(e,t,"")},l=a(),u=i&&i[3]||(b.cssNumber[t]?"":"px"),h=(b.cssNumber[t]||u!=="px"&&+l)&&oe.exec(b.css(e,t));if(h&&h[3]!==u){l+
=l/2;u=u||h[3];h=+l||1;while(s--){b.style(e,t,h+u);if((1-o)*(1-(o=a()/l||.5))<=0){s=0}h=h/o}h=h*2;b.style(e,t,h+u);i=i||[]}if(i){h=+h||+l||0;r=i[1]?h+(i[1]+1)*i[2]:+i[2];if(n){n.unit=u;n.start=h;n.end=r}}return r}var he={};function ce(e){var t,i=e.ownerD+
ocument,n=e.nodeName,r=he[n];if(r){return r}t=i.body.appendChild(i.createElement(n));r=b.css(t,"display");t.parentNode.removeChild(t);if(r==="none"){r="block"}he[n]=r;return r}function de(e,t){var i,n,r=[],o=0,s=e.length;for(;o<s;o++){n=e[o];if(!n.style)+
{continue}i=n.style.display;if(t){if(i==="none"){r[o]=Q.get(n,"display")||null;if(!r[o]){n.style.display=""}}if(n.style.display===""&&ae(n)){r[o]=ce(n)}}else{if(i!=="none"){r[o]="none";Q.set(n,"display",i)}}}for(o=0;o<s;o++){if(r[o]!=null){e[o].style.dis+
play=r[o]}}return e}b.fn.extend({show:function(){return de(this,true)},hide:function(){return de(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(ae(this)){b(this).show()}else{b(this).hide+
()}})}});var fe=/^(?:checkbox|radio)$/i;var pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var me=/^$|^module$|\/(?:java|ecma)script/i;var ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgrou+
p></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option;ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead;ge.th=ge.td;function ve(e,t){var i;if(typeof e.getElem+
entsByTagName!=="undefined"){i=e.getElementsByTagName(t||"*")}else if(typeof e.querySelectorAll!=="undefined"){i=e.querySelectorAll(t||"*")}else{i=[]}if(t===undefined||t&&D(e,t)){return b.merge([e],i)}return i}function _e(e,t){var i=0,n=e.length;for(;i<n+
;i++){Q.set(e[i],"globalEval",!t||Q.get(t[i],"globalEval"))}}var ye=/<|&#?\w+;/;function we(e,t,i,n,r){var o,s,a,l,u,h,c=t.createDocumentFragment(),d=[],f=0,p=e.length;for(;f<p;f++){o=e[f];if(o||o===0){if(y(o)==="object"){b.merge(d,o.nodeType?[o]:o)}else+
 if(!ye.test(o)){d.push(t.createTextNode(o))}else{s=s||c.appendChild(t.createElement("div"));a=(pe.exec(o)||["",""])[1].toLowerCase();l=ge[a]||ge._default;s.innerHTML=l[1]+b.htmlPrefilter(o)+l[2];h=l[0];while(h--){s=s.lastChild}b.merge(d,s.childNodes);s=+
c.firstChild;s.textContent=""}}}c.textContent="";f=0;while(o=d[f++]){if(n&&b.inArray(o,n)>-1){if(r){r.push(o)}continue}u=b.contains(o.ownerDocument,o);s=ve(c.appendChild(o),"script");if(u){_e(s)}if(i){h=0;while(o=s[h++]){if(me.test(o.type||"")){i.push(o)+
}}}}return c}(function(){var e=n.createDocumentFragment(),t=e.appendChild(n.createElement("div")),i=n.createElement("input");i.setAttribute("type","radio");i.setAttribute("checked","checked");i.setAttribute("name","t");t.appendChild(i);p.checkClone=t.clo+
neNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";p.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue})();var be=n.documentElement;var xe=/^key/,Le=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ke=/^([^.]*)(?:+
\.(.+)|)/;function Ee(){return true}function Te(){return false}function Ce(){try{return n.activeElement}catch(e){}}function De(e,t,i,n,r,o){var s,a;if(typeof t==="object"){if(typeof i!=="string"){n=n||i;i=undefined}for(a in t){De(e,a,i,n,t[a],o)}return e+
}if(n==null&&r==null){r=i;n=i=undefined}else if(r==null){if(typeof i==="string"){r=n;n=undefined}else{r=n;n=i;i=undefined}}if(r===false){r=Te}else if(!r){return e}if(o===1){s=r;r=function(e){b().off(e);return s.apply(this,arguments)};r.guid=s.guid||(s.gu+
id=b.guid++)}return e.each(function(){b.event.add(this,t,r,n,i)})}b.event={global:{},add:function(e,t,i,n,r){var o,s,a,l,u,h,c,d,f,p,m,g=Q.get(e);if(!g){return}if(i.handler){o=i;i=o.handler;r=o.selector}if(r){b.find.matchesSelector(be,r)}if(!i.guid){i.gu+
id=b.guid++}if(!(l=g.events)){l=g.events={}}if(!(s=g.handle)){s=g.handle=function(t){return typeof b!=="undefined"&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):undefined}}t=(t||"").match($)||[""];u=t.length;while(u--){a=ke.exec(t[u])||+
[];f=m=a[1];p=(a[2]||"").split(".").sort();if(!f){continue}c=b.event.special[f]||{};f=(r?c.delegateType:c.bindType)||f;c=b.event.special[f]||{};h=b.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&b.expr.match.needsContex+
t.test(r),namespace:p.join(".")},o);if(!(d=l[f])){d=l[f]=[];d.delegateCount=0;if(!c.setup||c.setup.call(e,n,p,s)===false){if(e.addEventListener){e.addEventListener(f,s)}}}if(c.add){c.add.call(e,h);if(!h.handler.guid){h.handler.guid=i.guid}}if(r){d.splice+
(d.delegateCount++,0,h)}else{d.push(h)}b.event.global[f]=true}},remove:function(e,t,i,n,r){var o,s,a,l,u,h,c,d,f,p,m,g=Q.hasData(e)&&Q.get(e);if(!g||!(l=g.events)){return}t=(t||"").match($)||[""];u=t.length;while(u--){a=ke.exec(t[u])||[];f=m=a[1];p=(a[2]+
||"").split(".").sort();if(!f){for(f in l){b.event.remove(e,f+t[u],i,n,true)}continue}c=b.event.special[f]||{};f=(n?c.delegateType:c.bindType)||f;d=l[f]||[];a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");s=o=d.length;while(o--){h=d[o];if+
((r||m===h.origType)&&(!i||i.guid===h.guid)&&(!a||a.test(h.namespace))&&(!n||n===h.selector||n==="**"&&h.selector)){d.splice(o,1);if(h.selector){d.delegateCount--}if(c.remove){c.remove.call(e,h)}}}if(s&&!d.length){if(!c.teardown||c.teardown.call(e,p,g.ha+
ndle)===false){b.removeEvent(e,f,g.handle)}delete l[f]}}if(b.isEmptyObject(l)){Q.remove(e,"handle events")}},dispatch:function(e){var t=b.event.fix(e);var i,n,r,o,s,a,l=new Array(arguments.length),u=(Q.get(this,"events")||{})[t.type]||[],h=b.event.specia+
l[t.type]||{};l[0]=t;for(i=1;i<arguments.length;i++){l[i]=arguments[i]}t.delegateTarget=this;if(h.preDispatch&&h.preDispatch.call(this,t)===false){return}a=b.event.handlers.call(this,t,u);i=0;while((o=a[i++])&&!t.isPropagationStopped()){t.currentTarget=o+
.elem;n=0;while((s=o.handlers[n++])&&!t.isImmediatePropagationStopped()){if(!t.rnamespace||t.rnamespace.test(s.namespace)){t.handleObj=s;t.data=s.data;r=((b.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l);if(r!==undefined){if((t.result=+
r)===false){t.preventDefault();t.stopPropagation()}}}}}if(h.postDispatch){h.postDispatch.call(this,t)}return t.result},handlers:function(e,t){var i,n,r,o,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!(e.type==="click"&&e.button>=1)){for(;u!==thi+
s;u=u.parentNode||this){if(u.nodeType===1&&!(e.type==="click"&&u.disabled===true)){o=[];s={};for(i=0;i<l;i++){n=t[i];r=n.selector+" ";if(s[r]===undefined){s[r]=n.needsContext?b(r,this).index(u)>-1:b.find(r,this,null,[u]).length}if(s[r]){o.push(n)}}if(o.l+
ength){a.push({elem:u,handlers:o})}}}}u=this;if(l<t.length){a.push({elem:u,handlers:t.slice(l)})}return a},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:true,configurable:true,get:m(t)?function(){if(this.originalEvent){retur+
n t(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[e]}},set:function(t){Object.defineProperty(this,e,{enumerable:true,configurable:true,writable:true,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},s+
pecial:{load:{noBubble:true},focus:{trigger:function(){if(this!==Ce()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===Ce()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:+
function(){if(this.type==="checkbox"&&this.click&&D(this,"input")){this.click();return false}},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.re+
sult}}}}};b.removeEvent=function(e,t,i){if(e.removeEventListener){e.removeEventListener(t,i)}};b.Event=function(e,t){if(!(this instanceof b.Event)){return new b.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defa+
ultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?Ee:Te;this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target;this.currentTarget=e.currentTarget;this.relatedTarget=e.relatedTarget}else{this.type=e}if(t){b.extend(this,+
t)}this.timeStamp=e&&e.timeStamp||Date.now();this[b.expando]=true};b.Event.prototype={constructor:b.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:false,preventDefault:function(){var e=this.originalEvent;+
this.isDefaultPrevented=Ee;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.origin+
alEvent;this.isImmediatePropagationStopped=Ee;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};b.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:+
true,pageY:true,shiftKey:true,view:true,char:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true+
,touches:true,which:function(e){var t=e.button;if(e.which==null&&xe.test(e.type)){return e.charCode!=null?e.charCode:e.keyCode}if(!e.which&&t!==undefined&&Le.test(e.type)){if(t&1){return 1}if(t&2){return 3}if(t&4){return 2}return 0}return e.which}},b.eve+
nt.addProp);b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;if(!r||r!==+
n&&!b.contains(n,r)){e.type=o.origType;i=o.handler.apply(this,arguments);e.type=t}return i}}});b.fn.extend({on:function(e,t,i,n){return De(this,e,t,i,n)},one:function(e,t,i,n){return De(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&+
&e.handleObj){n=e.handleObj;b(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler);return this}if(typeof e==="object"){for(r in e){this.off(r,t,e[r])}return this}if(t===false||typeof t==="function"){i=t;t=undefine+
d}if(i===false){i=Te}return this.each(function(){b.event.remove(this,e,i,t)})}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Me=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\+
s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){if(D(e,"table")&&D(t.nodeType!==11?t:t.firstChild,"tr")){return b(e).children("tbody")[0]||e}return e}function Ae(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function Oe(e){if((e.+
type||"").slice(0,5)==="true/"){e.type=e.type.slice(5)}else{e.removeAttribute("type")}return e}function Re(e,t){var i,n,r,o,s,a,l,u;if(t.nodeType!==1){return}if(Q.hasData(e)){o=Q.access(e);s=Q.set(t,o);u=o.events;if(u){delete s.handle;s.events={};for(r i+
n u){for(i=0,n=u[r].length;i<n;i++){b.event.add(t,r,u[r][i])}}}}if(J.hasData(e)){a=J.access(e);l=b.extend({},a);J.set(t,l)}}function $e(e,t){var i=t.nodeName.toLowerCase();if(i==="input"&&fe.test(e.type)){t.checked=e.checked}else if(i==="input"||i==="tex+
tarea"){t.defaultValue=e.defaultValue}}function ze(e,t,i,n){t=s.apply([],t);var r,o,a,l,u,h,c=0,d=e.length,f=d-1,g=t[0],v=m(g);if(v||d>1&&typeof g==="string"&&!p.checkClone&&Pe.test(g)){return e.each(function(r){var o=e.eq(r);if(v){t[0]=g.call(this,r,o.h+
tml())}ze(o,t,i,n)})}if(d){r=we(t,e[0].ownerDocument,false,e,n);o=r.firstChild;if(r.childNodes.length===1){r=o}if(o||n){a=b.map(ve(r,"script"),Ae);l=a.length;for(;c<d;c++){u=r;if(c!==f){u=b.clone(u,true,true);if(l){b.merge(a,ve(u,"script"))}}i.call(e[c],+
u,c)}if(l){h=a[a.length-1].ownerDocument;b.map(a,Oe);for(c=0;c<l;c++){u=a[c];if(me.test(u.type||"")&&!Q.access(u,"globalEval")&&b.contains(h,u)){if(u.src&&(u.type||"").toLowerCase()!=="module"){if(b._evalUrl){b._evalUrl(u.src)}}else{_(u.textContent.repla+
ce(Ie,""),h,u)}}}}}}return e}function Fe(e,t,i){var n,r=t?b.filter(t,e):e,o=0;for(;(n=r[o])!=null;o++){if(!i&&n.nodeType===1){b.cleanData(ve(n))}if(n.parentNode){if(i&&b.contains(n.ownerDocument,n)){_e(ve(n,"script"))}n.parentNode.removeChild(n)}}return +
e}b.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,i){var n,r,o,s,a=e.cloneNode(true),l=b.contains(e.ownerDocument,e);if(!p.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!b.isXMLDoc(e)){s=ve(a);o=ve(e);for(n=0+
,r=o.length;n<r;n++){$e(o[n],s[n])}}if(t){if(i){o=o||ve(e);s=s||ve(a);for(n=0,r=o.length;n<r;n++){Re(o[n],s[n])}}else{Re(e,a)}}s=ve(a,"script");if(s.length>0){_e(s,!l&&ve(e,"script"))}return a},cleanData:function(e){var t,i,n,r=b.event.special,o=0;for(;(+
i=e[o])!==undefined;o++){if(X(i)){if(t=i[Q.expando]){if(t.events){for(n in t.events){if(r[n]){b.event.remove(i,n)}else{b.removeEvent(i,n,t.handle)}}}i[Q.expando]=undefined}if(i[J.expando]){i[J.expando]=undefined}}}}});b.fn.extend({detach:function(e){retu+
rn Fe(this,e,true)},remove:function(e){return Fe(this,e)},text:function(e){return j(this,function(e){return e===undefined?b.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e+
,arguments.length)},append:function(){return ze(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ne(this,e);t.appendChild(e)}})},prepend:function(){return ze(this,arguments,function(e){if(this.nodeType===1||th+
is.nodeType===11||this.nodeType===9){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return ze(this,arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return ze(this,arguments,functio+
n(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){b.cleanData(ve(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==nul+
l?e:t;return this.map(function(){return b.clone(this,e,t)})},html:function(e){return j(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!Me.test(e)&&!ge[(pe.exec(e)||["",""]+
)[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;i<n;i++){t=this[i]||{};if(t.nodeType===1){b.cleanData(ve(t,false));t.innerHTML=e}}t=0}catch(e){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,ar+
guments,function(t){var i=this.parentNode;if(b.inArray(this,e)<0){b.cleanData(ve(this));if(i){i.replaceChild(t,this)}}},e)}});b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){+
b.fn[e]=function(e){var i,n=[],r=b(e),o=r.length-1,s=0;for(;s<=o;s++){i=s===o?this:this.clone(true);b(r[s])[t](i);a.apply(n,i.get())}return this.pushStack(n)}});var qe=new RegExp("^("+re+")(?!px)[a-z%]+$","i");var Be=function(t){var i=t.ownerDocument.def+
aultView;if(!i||!i.opener){i=e}return i.getComputedStyle(t)};var Ue=new RegExp(se.join("|"),"i");(function(){function t(){if(!h){return}u.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";h.style.cssText="pos+
ition:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";be.appendChild(u).appendChild(h);var t=e.getComputedStyle(h);r=t.top!=="1%";l=i(t.marginLeft)===12;h.style.right="60%";a=i(t.rig+
ht)===36;o=i(t.width)===36;h.style.position="absolute";s=h.offsetWidth===36||"absolute";be.removeChild(u);h=null}function i(e){return Math.round(parseFloat(e))}var r,o,s,a,l,u=n.createElement("div"),h=n.createElement("div");if(!h.style){return}h.style.ba+
ckgroundClip="content-box";h.cloneNode(true).style.backgroundClip="";p.clearCloneStyle=h.style.backgroundClip==="content-box";b.extend(p,{boxSizingReliable:function(){t();return o},pixelBoxStyles:function(){t();return a},pixelPosition:function(){t();retu+
rn r},reliableMarginLeft:function(){t();return l},scrollboxSize:function(){t();return s}})})();function He(e,t,i){var n,r,o,s,a=e.style;i=i||Be(e);if(i){s=i.getPropertyValue(t)||i[t];if(s===""&&!b.contains(e.ownerDocument,e)){s=b.style(e,t)}if(!p.pixelBo+
xStyles()&&qe.test(s)&&Ue.test(t)){n=a.width;r=a.minWidth;o=a.maxWidth;a.minWidth=a.maxWidth=a.width=s;s=i.width;a.width=n;a.minWidth=r;a.maxWidth=o}}return s!==undefined?s+"":s}function Ve(e,t){return{get:function(){if(e()){delete this.get;return}return+
(this.get=t).apply(this,arguments)}}}var je=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","Moz","ms"],Xe=n.createElement("div").style;function Ke(e){+
if(e in Xe){return e}var t=e[0].toUpperCase()+e.slice(1),i=Ye.length;while(i--){e=Ye[i]+t;if(e in Xe){return e}}}function Qe(e){var t=b.cssProps[e];if(!t){t=b.cssProps[e]=Ke(e)||e}return t}function Je(e,t,i){var n=oe.exec(t);return n?Math.max(0,n[2]-(i||+
0))+(n[3]||"px"):t}function et(e,t,i,n,r,o){var s=t==="width"?1:0,a=0,l=0;if(i===(n?"border":"content")){return 0}for(;s<4;s+=2){if(i==="margin"){l+=b.css(e,i+se[s],true,r)}if(!n){l+=b.css(e,"padding"+se[s],true,r);if(i!=="padding"){l+=b.css(e,"border"+s+
e[s]+"Width",true,r)}else{a+=b.css(e,"border"+se[s]+"Width",true,r)}}else{if(i==="content"){l-=b.css(e,"padding"+se[s],true,r)}if(i!=="margin"){l-=b.css(e,"border"+se[s]+"Width",true,r)}}}if(!n&&o>=0){l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+
+t.slice(1)]-o-l-a-.5))}return l}function tt(e,t,i){var n=Be(e),r=He(e,t,n),o=b.css(e,"boxSizing",false,n)==="border-box",s=o;if(qe.test(r)){if(!i){return r}r="auto"}s=s&&(p.boxSizingReliable()||r===e.style[t]);if(r==="auto"||!parseFloat(r)&&b.css(e,"dis+
play",false,n)==="inline"){r=e["offset"+t[0].toUpperCase()+t.slice(1)];s=true}r=parseFloat(r)||0;return r+et(e,t,i||(o?"border":"content"),s,n,r)+"px"}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=He(e,"opacity");return i===""?"1":i}}}},cssN+
umber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{},style:function(e,t,i,n){if(!e||e.nodeT+
ype===3||e.nodeType===8||!e.style){return}var r,o,s,a=Y(t),l=Ze.test(t),u=e.style;if(!l){t=Qe(a)}s=b.cssHooks[t]||b.cssHooks[a];if(i!==undefined){o=typeof i;if(o==="string"&&(r=oe.exec(i))&&r[1]){i=ue(e,t,r);o="number"}if(i==null||i!==i){return}if(o==="n+
umber"){i+=r&&r[3]||(b.cssNumber[a]?"":"px")}if(!p.clearCloneStyle&&i===""&&t.indexOf("background")===0){u[t]="inherit"}if(!s||!("set"in s)||(i=s.set(e,i,n))!==undefined){if(l){u.setProperty(t,i)}else{u[t]=i}}}else{if(s&&"get"in s&&(r=s.get(e,false,n))!=+
=undefined){return r}return u[t]}},css:function(e,t,i,n){var r,o,s,a=Y(t),l=Ze.test(t);if(!l){t=Qe(a)}s=b.cssHooks[t]||b.cssHooks[a];if(s&&"get"in s){r=s.get(e,true,i)}if(r===undefined){r=He(e,t,n)}if(r==="normal"&&t in Ge){r=Ge[t]}if(i===""||i){o=parseF+
loat(r);return i===true||isFinite(o)?o||0:r}return r}});b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,i,n){if(i){return je.test(b.css(e,"display"))&&(!e.getClientRects().length||!e.getBoundingClientRect().width)?le(e,We,function()+
{return tt(e,t,n)}):tt(e,t,n)}},set:function(e,i,n){var r,o=Be(e),s=b.css(e,"boxSizing",false,o)==="border-box",a=n&&et(e,t,n,s,o);if(s&&p.scrollboxSize()===o.position){a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-et(e,t,"borde+
r",false,o)-.5)}if(a&&(r=oe.exec(i))&&(r[3]||"px")!=="px"){e.style[t]=i;i=b.css(e,t)}return Je(e,i,a)}}});b.cssHooks.marginLeft=Ve(p.reliableMarginLeft,function(e,t){if(t){return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-le(e,{margin+
Left:0},function(){return e.getBoundingClientRect().left}))+"px"}});b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(i){var n=0,r={},o=typeof i==="string"?i.split(" "):[i];for(;n<4;n++){r[e+se[n]+t]=o[n]||o[n-2]+
||o[0]}return r}};if(e!=="margin"){b.cssHooks[e+t].set=Je}});b.fn.extend({css:function(e,t){return j(this,function(e,t,i){var n,r,o={},s=0;if(Array.isArray(t)){n=Be(e);r=t.length;for(;s<r;s++){o[t[s]]=b.css(e,t[s],false,n)}return o}return i!==undefined?b+
.style(e,t,i):b.css(e,t)},e,t,arguments.length>1)}});function it(e,t,i,n,r){return new it.prototype.init(e,t,i,n,r)}b.Tween=it;it.prototype={constructor:it,init:function(e,t,i,n,r,o){this.elem=e;this.prop=i;this.easing=r||b.easing._default;this.options=t+
;this.start=this.now=this.cur();this.end=n;this.unit=o||(b.cssNumber[i]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,i=it.propHooks[this.prop];if(this.options.du+
ration){this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(i&&i.set){i.set(this)}els+
e{it.propHooks._default.set(this)}return this}};it.prototype.init.prototype=it.prototype;it.propHooks={_default:{get:function(e){var t;if(e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null){return e.elem[e.prop]}t=b.css(e.elem,e.prop,"+
");return!t||t==="auto"?0:t},set:function(e){if(b.fx.step[e.prop]){b.fx.step[e.prop](e)}else if(e.elem.nodeType===1&&(e.elem.style[b.cssProps[e.prop]]!=null||b.cssHooks[e.prop])){b.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};it.propHo+
oks.scrollTop=it.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"};b.fx=it.prototype.init;b.fx.s+
tep={};var nt,rt,ot=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function at(){if(rt){if(n.hidden===false&&e.requestAnimationFrame){e.requestAnimationFrame(at)}else{e.setTimeout(at,b.fx.interval)}b.fx.tick()}}function lt(){e.setTimeout(function(){nt=undefin+
ed});return nt=Date.now()}function ut(e,t){var i,n=0,r={height:e};t=t?1:0;for(;n<4;n+=2-t){i=se[n];r["margin"+i]=r["padding"+i]=e}if(t){r.opacity=r.width=e}return r}function ht(e,t,i){var n,r=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,s=r.length;f+
or(;o<s;o++){if(n=r[o].call(i,t,e)){return n}}}function ct(e,t,i){var n,r,o,s,a,l,u,h,c="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&ae(e),g=Q.get(e,"fxshow");if(!i.queue){s=b._queueHooks(e,"fx");if(s.unqueued==null){s.unqueued=0;a=s.emp+
ty.fire;s.empty.fire=function(){if(!s.unqueued){a()}}}s.unqueued++;d.always(function(){d.always(function(){s.unqueued--;if(!b.queue(e,"fx").length){s.empty.fire()}})})}for(n in t){r=t[n];if(ot.test(r)){delete t[n];o=o||r==="toggle";if(r===(m?"hide":"show+
")){if(r==="show"&&g&&g[n]!==undefined){m=true}else{continue}}f[n]=g&&g[n]||b.style(e,n)}}l=!b.isEmptyObject(t);if(!l&&b.isEmptyObject(f)){return}if(c&&e.nodeType===1){i.overflow=[p.overflow,p.overflowX,p.overflowY];u=g&&g.display;if(u==null){u=Q.get(e,"+
display")}h=b.css(e,"display");if(h==="none"){if(u){h=u}else{de([e],true);u=e.style.display||u;h=b.css(e,"display");de([e])}}if(h==="inline"||h==="inline-block"&&u!=null){if(b.css(e,"float")==="none"){if(!l){d.done(function(){p.display=u});if(u==null){h=+
p.display;u=h==="none"?"":h}}p.display="inline-block"}}}if(i.overflow){p.overflow="hidden";d.always(function(){p.overflow=i.overflow[0];p.overflowX=i.overflow[1];p.overflowY=i.overflow[2]})}l=false;for(n in f){if(!l){if(g){if("hidden"in g){m=g.hidden}}el+
se{g=Q.access(e,"fxshow",{display:u})}if(o){g.hidden=!m}if(m){de([e],true)}d.done(function(){if(!m){de([e])}Q.remove(e,"fxshow");for(n in f){b.style(e,n,f[n])}})}l=ht(m?g[n]:0,n,d);if(!(n in g)){g[n]=l.start;if(m){l.end=l.start;l.start=0}}}}function dt(e+
,t){var i,n,r,o,s;for(i in e){n=Y(i);r=t[n];o=e[i];if(Array.isArray(o)){r=o[1];o=e[i]=o[0]}if(i!==n){e[n]=o;delete e[i]}s=b.cssHooks[n];if(s&&"expand"in s){o=s.expand(o);delete e[n];for(i in o){if(!(i in e)){e[i]=o[i];t[i]=r}}}else{t[n]=r}}}function ft(e+
,t,i){var n,r,o=0,s=ft.prefilters.length,a=b.Deferred().always(function(){delete l.elem}),l=function(){if(r){return false}var t=nt||lt(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,o=1-n,s=0,l=u.tweens.length;for(;s<l;s++){u.tweens[s].run(o)+
}a.notifyWith(e,[u,o,i]);if(o<1&&l){return i}if(!l){a.notifyWith(e,[u,1,0])}a.resolveWith(e,[u]);return false},u=a.promise({elem:e,props:b.extend({},t),opts:b.extend(true,{specialEasing:{},easing:b.easing._default},i),originalProperties:t,originalOptions+
:i,startTime:nt||lt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=b.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);u.tweens.push(n);return n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r){return this}r=true;for(;i<n;i+
++){u.tweens[i].run(1)}if(t){a.notifyWith(e,[u,1,0]);a.resolveWith(e,[u,t])}else{a.rejectWith(e,[u,t])}return this}}),h=u.props;dt(h,u.opts.specialEasing);for(;o<s;o++){n=ft.prefilters[o].call(u,e,h,u.opts);if(n){if(m(n.stop)){b._queueHooks(u.elem,u.opts+
.queue).stop=n.stop.bind(n)}return n}}b.map(h,ht,u);if(m(u.opts.start)){u.opts.start.call(e,u)}u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always);b.fx.timer(b.extend(l,{elem:e,anim:u,queue:u.opts.queue})+
);return u}b.Animation=b.extend(ft,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);ue(i.elem,e,oe.exec(t),i);return i}]},tweener:function(e,t){if(m(e)){t=e;e=["*"]}else{e=e.match($)}var i,n=0,r=e.length;for(;n<r;n++){i=e[n];ft.tweeners[i]=ft.tw+
eeners[i]||[];ft.tweeners[i].unshift(t)}},prefilters:[ct],prefilter:function(e,t){if(t){ft.prefilters.unshift(e)}else{ft.prefilters.push(e)}}});b.speed=function(e,t,i){var n=e&&typeof e==="object"?b.extend({},e):{complete:i||!i&&t||m(e)&&e,duration:e,eas+
ing:i&&t||t&&!m(t)&&t};if(b.fx.off){n.duration=0}else{if(typeof n.duration!=="number"){if(n.duration in b.fx.speeds){n.duration=b.fx.speeds[n.duration]}else{n.duration=b.fx.speeds._default}}}if(n.queue==null||n.queue===true){n.queue="fx"}n.old=n.complete+
;n.complete=function(){if(m(n.old)){n.old.call(this)}if(n.queue){b.dequeue(this,n.queue)}};return n};b.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=b.+
isEmptyObject(e),o=b.speed(t,i,n),s=function(){var t=ft(this,b.extend({},e),o);if(r||Q.get(this,"finish")){t.stop(true)}};s.finish=s;return r||o.queue===false?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete +
e.stop;t(i)};if(typeof e!=="string"){i=t;t=e;e=undefined}if(t&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,r=e!=null&&e+"queueHooks",o=b.timers,s=Q.get(this);if(r){if(s[r]&&s[r].stop){n(s[r])}}else{for(r in s){if(s[r]&&s[r].s+
top&&st.test(r)){n(s[r])}}}for(r=o.length;r--;){if(o[r].elem===this&&(e==null||o[r].queue===e)){o[r].anim.stop(i);t=false;o.splice(r,1)}}if(t||!i){b.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,i=Q.get(+
this),n=i[e+"queue"],r=i[e+"queueHooks"],o=b.timers,s=n?n.length:0;i.finish=true;b.queue(this,e,[]);if(r&&r.stop){r.stop.call(this,true)}for(t=o.length;t--;){if(o[t].elem===this&&o[t].queue===e){o[t].anim.stop(true);o.splice(t,1)}}for(t=0;t<s;t++){if(n[t+
]&&n[t].finish){n[t].finish.call(this)}}delete i.finish})}});b.each(["toggle","show","hide"],function(e,t){var i=b.fn[t];b.fn[t]=function(e,n,r){return e==null||typeof e==="boolean"?i.apply(this,arguments):this.animate(ut(t,true),e,n,r)}});b.each({slideD+
own:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}});b.timers=[];b.fx.tick=function(){var e,t=0,i=+
b.timers;nt=Date.now();for(;t<i.length;t++){e=i[t];if(!e()&&i[t]===e){i.splice(t--,1)}}if(!i.length){b.fx.stop()}nt=undefined};b.fx.timer=function(e){b.timers.push(e);b.fx.start()};b.fx.interval=13;b.fx.start=function(){if(rt){return}rt=true;at()};b.fx.s+
top=function(){rt=null};b.fx.speeds={slow:600,fast:200,_default:400};b.fn.delay=function(t,i){t=b.fx?b.fx.speeds[t]||t:t;i=i||"fx";return this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})};(function(){var e=n.creat+
eElement("input"),t=n.createElement("select"),i=t.appendChild(n.createElement("option"));e.type="checkbox";p.checkOn=e.value!=="";p.optSelected=i.selected;e=n.createElement("input");e.value="t";e.type="radio";p.radioValue=e.value==="t"})();var pt,mt=b.ex+
pr.attrHandle;b.fn.extend({attr:function(e,t){return j(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}});b.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(o===3||o===8||o===2){return}if+
(typeof e.getAttribute==="undefined"){return b.prop(e,t,i)}if(o!==1||!b.isXMLDoc(e)){r=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?pt:undefined)}if(i!==undefined){if(i===null){b.removeAttr(e,t);return}if(r&&"set"in r&&(n=r.set(e,i,t))!==unde+
fined){return n}e.setAttribute(t,i+"");return i}if(r&&"get"in r&&(n=r.get(e,t))!==null){return n}n=b.find.attr(e,t);return n==null?undefined:n},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&t==="radio"&&D(e,"input")){var i=e.value;e.setAttribute("+
type",t);if(i){e.value=i}return t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match($);if(r&&e.nodeType===1){while(i=r[n++]){e.removeAttribute(i)}}}});pt={set:function(e,t,i){if(t===false){b.removeAttr(e,i)}else{e.setAttribute(i,i)}return i}};b.each(b.+
expr.match.bool.source.match(/\w+/g),function(e,t){var i=mt[t]||b.find.attr;mt[t]=function(e,t,n){var r,o,s=t.toLowerCase();if(!n){o=mt[s];mt[s]=r;r=i(e,t,n)!=null?s:null;mt[s]=o}return r}});var gt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i+
;b.fn.extend({prop:function(e,t){return j(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}});b.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(o===3||o===8||o===2){return}if(o!==+
1||!b.isXMLDoc(e)){t=b.propFix[t]||t;r=b.propHooks[t]}if(i!==undefined){if(r&&"set"in r&&(n=r.set(e,i,t))!==undefined){return n}return e[t]=i}if(r&&"get"in r&&(n=r.get(e,t))!==null){return n}return e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.+
attr(e,"tabindex");if(t){return parseInt(t,10)}if(gt.test(e.nodeName)||vt.test(e.nodeName)&&e.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!p.optSelected){b.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.paren+
tNode){t.parentNode.selectedIndex}return null},set:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}}}}b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","fr+
ameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this});function _t(e){var t=e.match($)||[];return t.join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function wt(e){if(Array.isArray(e)){return e}if(typeof +
e==="string"){return e.match($)||[]}return[]}b.fn.extend({addClass:function(e){var t,i,n,r,o,s,a,l=0;if(m(e)){return this.each(function(t){b(this).addClass(e.call(this,t,yt(this)))})}t=wt(e);if(t.length){while(i=this[l++]){r=yt(i);n=i.nodeType===1&&" "+_+
t(r)+" ";if(n){s=0;while(o=t[s++]){if(n.indexOf(" "+o+" ")<0){n+=o+" "}}a=_t(n);if(r!==a){i.setAttribute("class",a)}}}}return this},removeClass:function(e){var t,i,n,r,o,s,a,l=0;if(m(e)){return this.each(function(t){b(this).removeClass(e.call(this,t,yt(t+
his)))})}if(!arguments.length){return this.attr("class","")}t=wt(e);if(t.length){while(i=this[l++]){r=yt(i);n=i.nodeType===1&&" "+_t(r)+" ";if(n){s=0;while(o=t[s++]){while(n.indexOf(" "+o+" ")>-1){n=n.replace(" "+o+" "," ")}}a=_t(n);if(r!==a){i.setAttrib+
ute("class",a)}}}}return this},toggleClass:function(e,t){var i=typeof e,n=i==="string"||Array.isArray(e);if(typeof t==="boolean"&&n){return t?this.addClass(e):this.removeClass(e)}if(m(e)){return this.each(function(i){b(this).toggleClass(e.call(this,i,yt(+
this),t),t)})}return this.each(function(){var t,r,o,s;if(n){r=0;o=b(this);s=wt(e);while(t=s[r++]){if(o.hasClass(t)){o.removeClass(t)}else{o.addClass(t)}}}else if(e===undefined||i==="boolean"){t=yt(this);if(t){Q.set(this,"__className__",t)}if(this.setAttr+
ibute){this.setAttribute("class",t||e===false?"":Q.get(this,"__className__")||"")}}})},hasClass:function(e){var t,i,n=0;t=" "+e+" ";while(i=this[n++]){if(i.nodeType===1&&(" "+_t(yt(i))+" ").indexOf(t)>-1){return true}}return false}});var bt=/\r/g;b.fn.ex+
tend({val:function(e){var t,i,n,r=this[0];if(!arguments.length){if(r){t=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()];if(t&&"get"in t&&(i=t.get(r,"value"))!==undefined){return i}i=r.value;if(typeof i==="string"){return i.replace(bt,"")}return +
i==null?"":i}return}n=m(e);return this.each(function(i){var r;if(this.nodeType!==1){return}if(n){r=e.call(this,i,b(this).val())}else{r=e}if(r==null){r=""}else if(typeof r==="number"){r+=""}else if(Array.isArray(r)){r=b.map(r,function(e){return e==null?""+
:e+""})}t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,r,"value")===undefined){this.value=r}})}});b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return t!=null?t:_t(b.text(e))}},+
select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,s=e.type==="select-one",a=s?null:[],l=s?o+1:r.length;if(o<0){n=l}else{n=s?o:0}for(;n<l;n++){i=r[n];if((i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!D(i.parentNode,"optgroup")))+
{t=b(i).val();if(s){return t}a.push(t)}}return a},set:function(e,t){var i,n,r=e.options,o=b.makeArray(t),s=r.length;while(s--){n=r[s];if(n.selected=b.inArray(b.valHooks.option.get(n),o)>-1){i=true}}if(!i){e.selectedIndex=-1}return o}}}});b.each(["radio",+
"checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t)){return e.checked=b.inArray(b(e).val(),t)>-1}}};if(!p.checkOn){b.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});p.focusin="onfocusin"in +
e;var xt=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,i,r,o){var s,a,l,u,h,d,f,p,v=[r||n],_=c.call(t,"type")?t.type:t,y=c.call(t,"namespace")?t.namespace.split("."):[];a=p=l=r=r||n;if(r.nodeTy+
pe===3||r.nodeType===8){return}if(xt.test(_+b.event.triggered)){return}if(_.indexOf(".")>-1){y=_.split(".");_=y.shift();y.sort()}h=_.indexOf(":")<0&&"on"+_;t=t[b.expando]?t:new b.Event(_,typeof t==="object"&&t);t.isTrigger=o?2:3;t.namespace=y.join(".");t+
.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=r}i=i==null?[t]:b.makeArray(i,[t]);f=b.event.special[_]||{};if(!o&&f.trigger&&f.trigger.apply(r,i)===false){return}if(!o&&!f.no+
Bubble&&!g(r)){u=f.delegateType||_;if(!xt.test(u+_)){a=a.parentNode}for(;a;a=a.parentNode){v.push(a);l=a}if(l===(r.ownerDocument||n)){v.push(l.defaultView||l.parentWindow||e)}}s=0;while((a=v[s++])&&!t.isPropagationStopped()){p=a;t.type=s>1?u:f.bindType||+
_;d=(Q.get(a,"events")||{})[t.type]&&Q.get(a,"handle");if(d){d.apply(a,i)}d=h&&a[h];if(d&&d.apply&&X(a)){t.result=d.apply(a,i);if(t.result===false){t.preventDefault()}}}t.type=_;if(!o&&!t.isDefaultPrevented()){if((!f._default||f._default.apply(v.pop(),i)+
===false)&&X(r)){if(h&&m(r[_])&&!g(r)){l=r[h];if(l){r[h]=null}b.event.triggered=_;if(t.isPropagationStopped()){p.addEventListener(_,Lt)}r[_]();if(t.isPropagationStopped()){p.removeEventListener(_,Lt)}b.event.triggered=undefined;if(l){r[h]=l}}}}return t.r+
esult},simulate:function(e,t,i){var n=b.extend(new b.Event,i,{type:e,isSimulated:true});b.event.trigger(n,null,t)}});b.fn.extend({trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if+
(i){return b.event.trigger(e,t,i,true)}}});if(!p.focusin){b.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=Q.access+
(n,t);if(!r){n.addEventListener(e,i,true)}Q.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Q.access(n,t)-1;if(!r){n.removeEventListener(e,i,true);Q.remove(n,t)}else{Q.access(n,t,r)}}}})}var kt=e.location;var Et=Date.now();var +
Tt=/\?/;b.parseXML=function(t){var i;if(!t||typeof t!=="string"){return null}try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=undefined}if(!i||i.getElementsByTagName("parsererror").length){b.error("Invalid XML: "+t)}return i};var Ct=/\[\]+
$/,Dt=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Pt(e,t,i,n){var r;if(Array.isArray(t)){b.each(t,function(t,r){if(i||Ct.test(e)){n(e,r)}else{Pt(e+"["+(typeof r==="object"&&r!=null?t:"")+"]",r,i,n)+
}})}else if(!i&&y(t)==="object"){for(r in t){Pt(e+"["+r+"]",t[r],i,n)}}else{n(e,t)}}b.param=function(e,t){var i,n=[],r=function(e,t){var i=m(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(i==null?"":i)};if(Array.isArray(e)||e.jquery&&!+
b.isPlainObject(e)){b.each(e,function(){r(this.name,this.value)})}else{for(i in e){Pt(i,e[i],t,r)}}return n.join("&")};b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.p+
rop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&Mt.test(this.nodeName)&&!St.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var i=b(this).val();if(i==null){return +
null}if(Array.isArray(i)){return b.map(i,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}})}return{name:t.name,value:i.replace(Dt,"\r\n")}}).get()}});var It=/%20/g,Nt=/#.*$/,At=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:about|app|a+
pp-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,zt=/^\/\//,Ft={},qt={},Bt="*/".concat("*"),Ut=n.createElement("a");Ut.href=kt.href;function Ht(e){return function(t,i){if(typeof t!=="string"){i=t;t="*"}var n,r=0,o=t.toLowerCase().match($)|+
|[];if(m(i)){while(n=o[r++]){if(n[0]==="+"){n=n.slice(1)||"*";(e[n]=e[n]||[]).unshift(i)}else{(e[n]=e[n]||[]).push(i)}}}}}function Vt(e,t,i,n){var r={},o=e===qt;function s(a){var l;r[a]=true;b.each(e[a]||[],function(e,a){var u=a(t,i,n);if(typeof u==="str+
ing"&&!o&&!r[u]){t.dataTypes.unshift(u);s(u);return false}else if(o){return!(l=u)}});return l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function jt(e,t){var i,n,r=b.ajaxSettings.flatOptions||{};for(i in t){if(t[i]!==undefined){(r[i]?e:n||(n={}))[i]=t[i]}+
}if(n){b.extend(true,e,n)}return e}function Zt(e,t,i){var n,r,o,s,a=e.contents,l=e.dataTypes;while(l[0]==="*"){l.shift();if(n===undefined){n=e.mimeType||t.getResponseHeader("Content-Type")}}if(n){for(r in a){if(a[r]&&a[r].test(n)){l.unshift(r);break}}}if+
(l[0]in i){o=l[0]}else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}if(!s){s=r}}o=o||s}if(o){if(o!==l[0]){l.unshift(o)}return i[o]}}function Wt(e,t,i,n){var r,o,s,a,l,u={},h=e.dataTypes.slice();if(h[1]){for(s in e.converters){u[s.toLowerCase+
()]=e.converters[s]}}o=h.shift();while(o){if(e.responseFields[o]){i[e.responseFields[o]]=t}if(!l&&n&&e.dataFilter){t=e.dataFilter(t,e.dataType)}l=o;o=h.shift();if(o){if(o==="*"){o=l}else if(l!=="*"&&l!==o){s=u[l+" "+o]||u["* "+o];if(!s){for(r in u){a=r.s+
plit(" ");if(a[1]===o){s=u[l+" "+a[0]]||u["* "+a[0]];if(s){if(s===true){s=u[r]}else if(u[r]!==true){o=a[0];h.unshift(a[1])}break}}}}if(s!==true){if(s&&e.throws){t=s(t)}else{try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l++
" to "+o}}}}}}}return{state:"success",data:t}}b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:Rt.test(kt.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF+
-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJS+
ON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?jt(jt(e,b.ajaxSettings),t):jt(b.ajaxSettings,e)},ajaxPrefilter:Ht(Ft),ajaxTransport:Ht(q+
t),ajax:function(t,i){if(typeof t==="object"){i=t;t=undefined}i=i||{};var r,o,s,a,l,u,h,c,d,f,p=b.ajaxSetup({},i),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?b(m):b.event,v=b.Deferred(),_=b.Callbacks("once memory"),y=p.statusCode||{},w={},x={},L="+
canceled",k={readyState:0,getResponseHeader:function(e){var t;if(h){if(!a){a={};while(t=Ot.exec(s)){a[t[1].toLowerCase()]=t[2]}}t=a[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(e,t){i+
f(h==null){e=x[e.toLowerCase()]=x[e.toLowerCase()]||e;w[e]=t}return this},overrideMimeType:function(e){if(h==null){p.mimeType=e}return this},statusCode:function(e){var t;if(e){if(h){k.always(e[k.status])}else{for(t in e){y[t]=[y[t],e[t]]}}}return this},a+
bort:function(e){var t=e||L;if(r){r.abort(t)}E(0,t);return this}};v.promise(k);p.url=((t||p.url||kt.href)+"").replace(zt,kt.protocol+"//");p.type=i.method||i.type||p.method||p.type;p.dataTypes=(p.dataType||"*").toLowerCase().match($)||[""];if(p.crossDoma+
in==null){u=n.createElement("a");try{u.href=p.url;u.href=u.href;p.crossDomain=Ut.protocol+"//"+Ut.host!==u.protocol+"//"+u.host}catch(e){p.crossDomain=true}}if(p.data&&p.processData&&typeof p.data!=="string"){p.data=b.param(p.data,p.traditional)}Vt(Ft,p,+
i,k);if(h){return k}c=b.event&&p.global;if(c&&b.active++===0){b.event.trigger("ajaxStart")}p.type=p.type.toUpperCase();p.hasContent=!$t.test(p.type);o=p.url.replace(Nt,"");if(!p.hasContent){f=p.url.slice(o.length);if(p.data&&(p.processData||typeof p.data+
==="string")){o+=(Tt.test(o)?"&":"?")+p.data;delete p.data}if(p.cache===false){o=o.replace(At,"$1");f=(Tt.test(o)?"&":"?")+"_="+Et+++f}p.url=o+f}else if(p.data&&p.processData&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0){p.data=p+
.data.replace(It,"+")}if(p.ifModified){if(b.lastModified[o]){k.setRequestHeader("If-Modified-Since",b.lastModified[o])}if(b.etag[o]){k.setRequestHeader("If-None-Match",b.etag[o])}}if(p.data&&p.hasContent&&p.contentType!==false||i.contentType){k.setReques+
tHeader("Content-Type",p.contentType)}k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(p.dataTypes[0]!=="*"?", "+Bt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers){k.setRequestHeader(d,p.headers[d])}if(p+
.beforeSend&&(p.beforeSend.call(m,k,p)===false||h)){return k.abort()}L="abort";_.add(p.complete);k.done(p.success);k.fail(p.error);r=Vt(qt,p,i,k);if(!r){E(-1,"No Transport")}else{k.readyState=1;if(c){g.trigger("ajaxSend",[k,p])}if(h){return k}if(p.async&+
&p.timeout>0){l=e.setTimeout(function(){k.abort("timeout")},p.timeout)}try{h=false;r.send(w,E)}catch(e){if(h){throw e}E(-1,e)}}function E(t,i,n,a){var u,d,f,w,x,L=i;if(h){return}h=true;if(l){e.clearTimeout(l)}r=undefined;s=a||"";k.readyState=t>0?4:0;u=t>+
=200&&t<300||t===304;if(n){w=Zt(p,k,n)}w=Wt(p,w,k,u);if(u){if(p.ifModified){x=k.getResponseHeader("Last-Modified");if(x){b.lastModified[o]=x}x=k.getResponseHeader("etag");if(x){b.etag[o]=x}}if(t===204||p.type==="HEAD"){L="nocontent"}else if(t===304){L="n+
otmodified"}else{L=w.state;d=w.data;f=w.error;u=!f}}else{f=L;if(t||!L){L="error";if(t<0){t=0}}}k.status=t;k.statusText=(i||L)+"";if(u){v.resolveWith(m,[d,L,k])}else{v.rejectWith(m,[k,L,f])}k.statusCode(y);y=undefined;if(c){g.trigger(u?"ajaxSuccess":"ajax+
Error",[k,p,u?d:f])}_.fireWith(m,[k,L]);if(c){g.trigger("ajaxComplete",[k,p]);if(!--b.active){b.event.trigger("ajaxStop")}}}return k},getJSON:function(e,t,i){return b.get(e,t,i,"json")},getScript:function(e,t){return b.get(e,undefined,t,"script")}});b.ea+
ch(["get","post"],function(e,t){b[t]=function(e,i,n,r){if(m(i)){r=r||n;n=i;i=undefined}return b.ajax(b.extend({url:e,type:t,dataType:r,data:i,success:n},b.isPlainObject(e)&&e))}});b._evalUrl=function(e){return b.ajax({url:e,type:"GET",dataType:"script",c+
ache:true,async:false,global:false,throws:true})};b.fn.extend({wrapAll:function(e){var t;if(this[0]){if(m(e)){e=e.call(this[0])}t=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;whil+
e(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(e){if(m(e)){return this.each(function(t){b(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=b(this),i=t.contents();if(i.length){i.wrap+
All(e)}else{t.append(e)}})},wrap:function(e){var t=m(e);return this.each(function(i){b(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){this.parent(e).not("body").each(function(){b(this).replaceWith(this.childNodes)});return this}});b.expr.pseudos+
.hidden=function(e){return!b.expr.pseudos.visible(e)};b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)};b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204}+
,Yt=b.ajaxSettings.xhr();p.cors=!!Yt&&"withCredentials"in Yt;p.ajax=Yt=!!Yt;b.ajaxTransport(function(t){var i,n;if(p.cors||Yt&&!t.crossDomain){return{send:function(r,o){var s,a=t.xhr();a.open(t.type,t.url,t.async,t.username,t.password);if(t.xhrFields){fo+
r(s in t.xhrFields){a[s]=t.xhrFields[s]}}if(t.mimeType&&a.overrideMimeType){a.overrideMimeType(t.mimeType)}if(!t.crossDomain&&!r["X-Requested-With"]){r["X-Requested-With"]="XMLHttpRequest"}for(s in r){a.setRequestHeader(s,r[s])}i=function(e){return funct+
ion(){if(i){i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null;if(e==="abort"){a.abort()}else if(e==="error"){if(typeof a.status!=="number"){o(0,"error")}else{o(a.status,a.statusText)}}else{o(Gt[a.status]||a.status,a.statusText,(a.res+
ponseType||"text")!=="text"||typeof a.responseText!=="string"?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders())}}}};a.onload=i();n=a.onerror=a.ontimeout=i("error");if(a.onabort!==undefined){a.onabort=n}else{a.onreadystatechange=functio+
n(){if(a.readyState===4){e.setTimeout(function(){if(i){n()}})}}}i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i){throw e}}},abort:function(){if(i){i()}}}}});b.ajaxPrefilter(function(e){if(e.crossDomain){e.contents.script=false}});b.ajax+
Setup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){b.globalEval(e);return e}}});b.ajaxPrefilter("script"+
,function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});b.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(r,o){t=b("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=func+
tion(e){t.remove();i=null;if(e){o(e.type==="error"?404:200,e.type)}});n.head.appendChild(t[0])},abort:function(){if(i){i()}}}}});var Xt=[],Kt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||b.expando+"_"+Et++;th+
is[e]=true;return e}});b.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,s,a=t.jsonp!==false&&(Kt.test(t.url)?"url":typeof t.data==="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Kt.test(t.data)&&"data");if(a||t.dataTy+
pes[0]==="jsonp"){r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(a){t[a]=t[a].replace(Kt,"$1"+r)}else if(t.jsonp!==false){t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+r}t.converters["script json"]=function(){if(!s){b.error(r+" w+
as not called")}return s[0]};t.dataTypes[0]="json";o=e[r];e[r]=function(){s=arguments};n.always(function(){if(o===undefined){b(e).removeProp(r)}else{e[r]=o}if(t[r]){t.jsonpCallback=i.jsonpCallback;Xt.push(r)}if(s&&m(o)){o(s[0])}s=o=undefined});return"scr+
ipt"}});p.createHTMLDocument=function(){var e=n.implementation.createHTMLDocument("").body;e.innerHTML="<form></form><form></form>";return e.childNodes.length===2}();b.parseHTML=function(e,t,i){if(typeof e!=="string"){return[]}if(typeof t==="boolean"){i=+
t;t=false}var r,o,s;if(!t){if(p.createHTMLDocument){t=n.implementation.createHTMLDocument("");r=t.createElement("base");r.href=n.location.href;t.head.appendChild(r)}else{t=n}}o=S.exec(e);s=!i&&[];if(o){return[t.createElement(o[1])]}o=we([e],t,s);if(s&&s.+
length){b(s).remove()}return b.merge([],o.childNodes)};b.fn.load=function(e,t,i){var n,r,o,s=this,a=e.indexOf(" ");if(a>-1){n=_t(e.slice(a));e=e.slice(0,a)}if(m(t)){i=t;t=undefined}else if(t&&typeof t==="object"){r="POST"}if(s.length>0){b.ajax({url:e,typ+
e:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments;s.html(n?b("<div>").append(b.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})})}return this};b.each(["ajaxStart","ajaxStop","ajax+
Complete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}});b.expr.pseudos.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length};b.offset={setOffset:function(e,t,i){var n,r,o,s,a,+
l,u,h=b.css(e,"position"),c=b(e),d={};if(h==="static"){e.style.position="relative"}a=c.offset();o=b.css(e,"top");l=b.css(e,"left");u=(h==="absolute"||h==="fixed")&&(o+l).indexOf("auto")>-1;if(u){n=c.position();s=n.top;r=n.left}else{s=parseFloat(o)||0;r=p+
arseFloat(l)||0}if(m(t)){t=t.call(e,i,b.extend({},a))}if(t.top!=null){d.top=t.top-a.top+s}if(t.left!=null){d.left=t.left-a.left+r}if("using"in t){t.using.call(e,d)}else{c.css(d)}}};b.fn.extend({offset:function(e){if(arguments.length){return e===undefined+
?this:this.each(function(t){b.offset.setOffset(this,e,t)})}var t,i,n=this[0];if(!n){return}if(!n.getClientRects().length){return{top:0,left:0}}t=n.getBoundingClientRect();i=n.ownerDocument.defaultView;return{top:t.top+i.pageYOffset,left:t.left+i.pageXOff+
set}},position:function(){if(!this[0]){return}var e,t,i,n=this[0],r={top:0,left:0};if(b.css(n,"position")==="fixed"){t=n.getBoundingClientRect()}else{t=this.offset();i=n.ownerDocument;e=n.offsetParent||i.documentElement;while(e&&(e===i.body||e===i.docume+
ntElement)&&b.css(e,"position")==="static"){e=e.parentNode}if(e&&e!==n&&e.nodeType===1){r=b(e).offset();r.top+=b.css(e,"borderTopWidth",true);r.left+=b.css(e,"borderLeftWidth",true)}}return{top:t.top-r.top-b.css(n,"marginTop",true),left:t.left-r.left-b.c+
ss(n,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&b.css(e,"position")==="static"){e=e.offsetParent}return e||be})}});b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i+
="pageYOffset"===t;b.fn[e]=function(n){return j(this,function(e,n,r){var o;if(g(e)){o=e}else if(e.nodeType===9){o=e.defaultView}if(r===undefined){return o?o[t]:e[n]}if(o){o.scrollTo(!i?r:o.pageXOffset,i?r:o.pageYOffset)}else{e[n]=r}},e,n,arguments.length+
)}});b.each(["top","left"],function(e,t){b.cssHooks[t]=Ve(p.pixelPosition,function(e,i){if(i){i=He(e,t);return qe.test(i)?b(e).position()[t]+"px":i}})});b.each({Height:"height",Width:"width"},function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e+
},function(i,n){b.fn[n]=function(r,o){var s=arguments.length&&(i||typeof r!=="boolean"),a=i||(r===true||o===true?"margin":"border");return j(this,function(t,i,r){var o;if(g(t)){return n.indexOf("outer")===0?t["inner"+e]:t.document.documentElement["client+
"+e]}if(t.nodeType===9){o=t.documentElement;return Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])}return r===undefined?b.css(t,i,a):b.style(t,i,r,a)},t,s?r:undefined,s)}})});b.each(("blur focus focusin focusout +
resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(e,t){b.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i)+
:this.trigger(t)}});b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});b.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e+
,i,n)},undelegate:function(e,t,i){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",i)}});b.proxy=function(e,t){var i,n,r;if(typeof t==="string"){i=e[t];t=e;e=i}if(!m(e)){return undefined}n=o.call(arguments,2);r=function(){return e.apply(t|+
|this,n.concat(o.call(arguments)))};r.guid=e.guid=e.guid||b.guid++;return r};b.holdReady=function(e){if(e){b.readyWait++}else{b.ready(true)}};b.isArray=Array.isArray;b.parseJSON=JSON.parse;b.nodeName=D;b.isFunction=m;b.isWindow=g;b.camelCase=Y;b.type=y;b+
.now=Date.now;b.isNumeric=function(e){var t=b.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))};var Qt=e.jQuery,Jt=e.$;b.noConflict=function(t){if(e.$===b){e.$=Jt}if(t&&e.jQuery===b){e.jQuery=Qt}return b};if(!t){e.jQuery=e.$=b}return b+
})});const n=navigator.userAgent;const r={get ios(){return/iPad|iPhone|iPod/i.test(n)},get android(){return/android/i.test(n)}};const o={};let s=false;["date","datetime","time","month"].forEach(e=>{const t=document.createElement("input");t.setAttribute("+
type",e);o[e]=t.type!=="text"});if(r.ios||r.android){s=true;document.documentElement.classList.add("touch")}var a={get inputTypes(){return o},get touch(){return s},set touch(e){s=e}};var l=t(function(t,i){                                                  
/**                                                                                                                                                                                                                                                            
	 * XML merging class                                                                                                                                                                                                                                          
	 * Merge multiple XML sources                                                                                                                                                                                                                                 
	 *&nbsp;                                                                                                                                                                                                                                                      
	 * @package     MergeXML                                                                                                                                                                                                                                      
	 * @author      Vallo Reima                                                                                                                                                                                                                                   
	 * @copyright   (C)2014-2016                                                                                                                                                                                                                                  
	 */                                                                                                                                                                                                                                                           
(function(e,i){{t.exports=i()}})(e,function(){return function(e){var t;var i;var n;var r;var o;var s;var a="_";var l;var u;var h;var c=1;var d=3;var f=8;var p=7;var m=this;m.Init=function(){m.dom=null;m.nsp={};m.count=0;u[1]=false;if(t>0){m.error={code:"+
",text:""}}return t>0};m.AddFile=function(e){var t;if(!e||!e.target){t=E("nof")}else if(!e.target.result){t=E("emf")}else{t=m.AddSource(e.target.result)}return t};m.AddSource=function(e){var i,n;if(typeof e==="object"){n=m.Get(1,e)?e:false;if(n&&(t===1&&+
!window.DOMParser||t===2&&!n.selectSingleNode("/"))){n=null}}else{try{n=g(e)}catch(e){n=false}}if(n===null){i=E("nos")}else if(n===false){i=E("inv")}else if(n===true){m.nsp=b(m.dom.documentElement);m.count=1;i=m.dom}else if(_(n)){y(n,"/");if(u[1]===true)+
{var r=m.dom.createTextNode("\r\n");m.dom.documentElement.appendChild(r)}m.count++;i=m.dom}else{i=false}return i};var g=function(e){var r,o;if(t===1){if(m.dom){o=n.parseFromString(e,"text/xml");r=v(o)?o:false}else{m.dom=n.parseFromString(e,"text/xml");r=+
v(m.dom)?true:false}}else if(m.dom){o=new ActiveXObject(i);o.async=false;r=o.loadXML(e)?o:false}else{m.dom=new ActiveXObject(i);m.dom.async=false;m.dom.setProperty("SelectionLanguage","XPath");r=m.dom.loadXML(e)?true:false}return r};var v=function(e){ret+
urn e.getElementsByTagNameNS(r,"parsererror").length===0};var _=function(e){var i=true;var n=m.dom.characterSet||m.dom.inputEncoding||m.dom.xmlEncoding;var r=e.characterSet||e.inputEncoding||e.xmlEncoding;if(r!==n){i=E("enc")}else if(e.documentElement.na+
mespaceURI!==m.dom.documentElement.namespaceURI){i=E("nse")}else if(e.documentElement.nodeName!==m.dom.documentElement.nodeName){if(!u[0]){i=E("dif")}else if(!u[1]){var o=typeof n!=="undefined"?n:"UTF-8";var a=m.dom.xmlVersion?m.dom.xmlVersion:"1.0";var +
l='<?xml version="'+a+'" encoding="'+o+'"?>\r\n<'+u[0]+">\r\n</"+u[0]+">";var c=g(l);if(c){var d=m.dom.documentElement.cloneNode(true);c.documentElement.appendChild(d);d=c.createTextNode("\r\n");c.documentElement.appendChild(d);m.dom=c;u[1]=true}else{i=E+
("jne");u[1]=null}}}if(i){var f=b(e.documentElement);for(var p in f){if(!m.nsp[p]){if(typeof m.dom.documentElement.setAttributeNS!=="undefined"){m.dom.documentElement.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+p,f[p])}else{m.dom.documentElem+
ent.setAttribute("xmlns:"+p,f[p])}m.nsp[p]=f[p]}}if(!h){s=null}else if(t===1){s=x}else{L()}}return i};var y=function(e,t){for(var i=0;i<e.childNodes.length;i++){var n;var r=e.childNodes[i];var o=w(e.childNodes,r,t,i);var s=m.Query(o);if(r.nodeType===c){v+
ar a=true;if(s===null||s.namespaceURI!==r.namespaceURI){n=r.cloneNode(true);s=m.Query(t);s.appendChild(n)}else{if(k(s.getAttribute("stay"),l)!==false){a=false}if(a){try{for(var u=0;u<r.attributes.length;u++){if(r.attributes[u].namespaceURI&&typeof r.setA+
ttributeNS!=="undefined"){s.setAttributeNS(r.attributes[u].namespaceURI,r.attributes[u].nodeName,r.attributes[u].nodeValue)}else{s.setAttribute(r.attributes[u].nodeName,r.attributes[u].nodeValue)}}}catch(e){}}}if(r.hasChildNodes()&&a){y(r,o)}}else if(r.n+
odeType===d||r.nodeType===f){if(s===null||s.nodeType!==r.nodeType){s=m.Query(t);if(r.nodeType===d){n=m.dom.createTextNode(r.nodeValue)}else{n=m.dom.createComment(r.nodeValue)}s.appendChild(n)}else{s.nodeValue=r.nodeValue}}}};var w=function(e,i,n,r){var o+
,s;var l=0;if(i.nodeType===c){for(s=0;s<=r;s++){if(h&&e[s].nodeType===i.nodeType&&e[s].nodeName===i.nodeName||!h&&e[s].nodeType!==p){l++}}if(h){var u=false;var g=b(i);for(var v in g){if(v!==a){m.nsp[v]=g[v];u=t===2}}if(u){L()}if(i.prefix){o=i.prefix+":"}+
else if(m.nsp[a]){o=a+":"}else{o=""}o+=i.localName?i.localName:i.baseName}else{o="node()"}}else if(i.nodeType===d||i.nodeType===f){for(s=0;s<=r;s++){if(e[s].nodeType===i.nodeType){l++}}o=i.nodeType===d?"text()":"comment()"}else{o=n}if(l){o=n+(n.slice(-1)+
==="/"?"":"/")+o+"["+l+"]"}return o};var b=function(e){var t={};var i=e.attributes;for(var n=0;n<i.length;++n){var r=i[n].name.split(":");if(r[0]==="xmlns"){var o=r[1]?r[1]:a;t[o]=i[n].value}}return t};m.Query=function(e){var i;if(u[1]){e="/"+m.dom.docum+
entElement.nodeName+(e==="/"?"":e)}try{if(t===1){i=o.evaluate(e,m.dom,s,XPathResult.FIRST_ORDERED_NODE_TYPE,null);i=i.singleNodeValue}else{i=m.dom.selectSingleNode(e)}}catch(e){i=null}return i};var x=function(e){return m.nsp[e]||null};var L=function(){va+
r e="";for(var t in m.nsp){e+=" xmlns:"+t+"="+"'"+m.nsp[t]+"'"}if(e){m.dom.setProperty("SelectionNamespaces",e.substr(1))}};var k=function(e,t){var i=false;for(var n in t){if(t[n]===e){i=n;break}}return i};m.Get=function(e,t){var i;if(e&&!t){t=m.dom}if(!+
e){i=m.dom}else if(!t){i=""}else if(t.xml){i=t.xml}else{try{i=(new XMLSerializer).serializeToString(t)}catch(e){i=null}}if(i&&e===2){if(u[1]){var n=i.indexOf("<"+u[0]);i=i.substr(0,n)+"\r\n"+i.substr(n)}i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").repla+
ce(/ |\t/g,"&nbsp;");i=i.replace(/(\r\n|\n|\r)/g,"<br>")}return i};var E=function(e){var t={nod:"XML DOM is not supported in this browser",nox:"xPath is not supported in this browser",nos:"Incompatible source object",nof:"File not found",emf:"File is emp+
ty",inv:"Invalid XML source",enc:"Different encoding",dif:"Different root nodes",jne:"Invalid join parameter",nse:"Namespace incompatibility",und:"Undefined error"};m.error.code=t[e]?e:"und";m.error.text=t[m.error.code];return false};var T=function(){var+
 e;var t=false;var s=["MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","Microsoft.XmlDom"];var a=s.length;for(var l=0;l<a;l++){try{var u=new ActiveXObject(s[l]);u.async=false;t=true;if(u.loadXML("<x></x>")&&u.selectSingleNode("/")){+
break}}catch(h){}}if(t){if(l<a){i=s[l];e=2}else{e="nox"}}else if(!window.DOMParser){e="nod"}else if(!window.XPathEvaluator){e="nox"}else{n=new DOMParser;var h=n.parseFromString("Invalid","text/xml");r=h.getElementsByTagName("parsererror")[0].namespaceURI+
;o=new XPathEvaluator;e=1}return e};if(typeof e!=="object"){e={}}if(typeof e.stay==="undefined"){l=["all"]}else if(!e.stay){l=[]}else if(typeof e.stay==="object"&&e.stay instanceof Array){l=e.stay}else{l=[e.stay]}if(typeof e.join==="undefined"){u=["root"+
]}else{u=[e.join?String(e.join):false]}if(typeof e.updn==="undefined"){h=true}else{h=e.updn}t=T();if(typeof t==="string"){m.error={};E(t);t=0}m.Init()}})});let u;function h(e,t){let i;let n;let r;let o;let s;let a;const l=new RegExp(`${t}\\s*\\(`,"g");co+
nst u=[];if(!e||!t){return u}while((n=l.exec(e))!==null){r=1;a=[];o=n.index;s=l.lastIndex;i=s-1;while(r!==0&&i<e.length){i++;if(e[i]==="("){r++}else if(e[i]===")"){r--}else if(e[i]===","&&r===1){a.push(e.substring(s,i).trim());s=i+1}}if(s<i){a.push(e.sub+
string(s,i).trim())}u.push([e.substring(o,i+1),a])}return u}function c(e){if(/^".+"$/.test(e)||/^'.+'$/.test(e)){return e.substring(1,e.length-1)}return e}function d(e,t){let i;if(typeof e==="object"&&e!==null&&e.name){t=t||"";i=e.name.split(".");if(i.le+
ngth>1){i[i.length-2]+=t}else if(i.length===1){i[0]+=t}return i.join(".")}return""}function f(e){const t=[];for(let i=e.length>>>0;i--;){t[i]=e[i]}return t}function p(e){return!isNaN(parseFloat(e))&&isFinite(e)}function m(e){let t;let i;let n;if(u){retur+
n u[e]}t=document.cookie.split("; ");u={};for(n=t.length-1;n>=0;n--){i=t[n].split("=");i[1]=decodeURIComponent(i[1]);if(i[1].substr(0,2)==="s:"){i[1]=i[1].slice(2);i[1]=i[1].slice(0,i[1].lastIndexOf("."))}u[i[0]]=decodeURIComponent(i[1])}return u[e]}func+
tion g(e){let t;let i;let n;let r;t=atob(e.split(",")[1]);i=e.split(",")[0].split(":")[1].split(";")[0];n=new ArrayBuffer(t.length);r=new Uint8Array(n);for(let e=0;e<t.length;e++){r[e]=t.charCodeAt(e)}return new Blob([r],{type:i})}function v(e){const t=e+
.originalEvent.clipboardData||window.clipboardData;return t?t.getData("text"):null}function _(e,t,i){if(window.updateDownloadLinkIe11){return window.updateDownloadLinkIe11(...arguments)}e.setAttribute("href",t||"");e.setAttribute("download",i||"")}functi+
on y(e,t){return new Promise((i,n)=>{let r=new Image;r.src=URL.createObjectURL(e);r.onload=(()=>{let n=r.width;let o=r.height;if(n<=t&&o<=t){i(e)}let s;let a;if(n>o){a=o*(t/n);s=t}else{s=n*(t/o);a=t}let l=document.createElement("canvas");l.width=s;l.heig+
ht=a;let u=l.getContext("2d");u.drawImage(r,0,0,s,a);l.toBlob(i,e.type)});r.onerror=n})}function w(e,t){return x(e,t,[e])}function b(e,t){return x(e,t)}function x(e,t="*",i=[]){const n=i;let r=e.previousElementSibling;let o=e.nextElementSibling;while(r){+
if(r.matches(t)){n.unshift(r)}r=r.previousElementSibling}while(o){if(o.matches(t)){n.push(o)}o=o.nextElementSibling}return n}function k(e,t="*"){const i=[];let n=e.parentElement;while(n){if(n.matches(t)){i.unshift(n)}n=n.parentElement}return i}function E+
(e,t,i){let n=e.parentElement;let r=null;while(n&&!r){if(n.matches(t)){r=n}n=i&&n.matches(i)?null:n.parentElement}return r}function T(e){[...e.children].forEach(e=>e.remove())}const C={_storage:new WeakMap,put:function(e,t,i){if(!this._storage.has(e)){th+
is._storage.set(e,new Map)}this._storage.get(e).set(t,i)},get:function(e,t){const i=this._storage.get(e);return i?i.get(t):i},has:function(e,t){const i=this._storage.get(e);return i&&i.has(t)},remove:function(e,t){var i=this._storage.get(e).delete(t);if(+
!this._storage.get(t).size===0){this._storage.delete(e)}return i}};function D(e){this.message=e||"unknown";this.name="FormLogicError";this.stack=(new Error).stack}D.prototype=Object.create(Error.prototype);D.prototype.constructor=D;var S={maps:[{tiles:["+
https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"],name:"streets",attribution:"© <a href='http://openstreetmap.org'>OpenStreetMap</a> | <a href='www.openstreetmap.org/copyright'>Terms</a>"},{tiles:"GOOGLE_SATELLITE",name:"satellite"}],googleApiKey:"",r+
epeatOrdinals:false,validateContinuously:false,validatePage:true,swipePage:true,arcGis:{jsUrl:"",cssUrl:"",webMapId:"",hasZ:true,basemaps:["streets"]},textMaxChars:2e3};let M=navigator.language;const P="0-9٠-٩";const I=`[:${P}]+`;const N=`[^: ${P}]+`;con+
st A=new RegExp(`^(${I} ?(${N}))|((${N}) ?${I})$`);function O(e){e=typeof e=="undefined"?new Date:e;return R(e.toLocaleTimeString(M))}function R(e){return e.replace(/[\u200E\u200F]/g,"")}const $={get hour12(){return this.hasMeridian(O())},get pmNotation(+
){return this.meridianNotation(new Date(2e3,1,1,23,0,0))},get amNotation(){return this.meridianNotation(new Date(2e3,1,1,1,0,0))},meridianNotation(e){let t=O(e).match(A);if(t&&t.length){t=t.filter(e=>!!e);return t[t.length-1].trim()}return null},hasMerid+
ian(e){return A.test(R(e))}};const z={string:{convert(e){return e.replace(/^\s+$/,"")},validate(){return true}},select:{validate(){return true}},select1:{validate(){return true}},decimal:{convert(e){const t=Number(e);if(isNaN(t)||t===Number.POSITIVE_INFI+
NITY||t===Number.NEGATIVE_INFINITY){return""}return t},validate(e){const t=Number(e);return!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY}},int:{convert(e){const t=Number(e);if(isNaN(t)||t===Number.POSITIVE_INFINITY||t===Number.NEG+
ATIVE_INFINITY){return""}return t>=0?Math.floor(t):-Math.floor(Math.abs(t))},validate(e){const t=Number(e);return!isNaN(t)&&t!==Number.POSITIVE_INFINITY&&t!==Number.NEGATIVE_INFINITY&&Math.round(t)===t&&t.toString()===e.toString()}},date:{validate(e){con+
st t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/;const i=t.exec(e);if(i&&i.length===4){const e=Number(i[1]);const t=Number(i[2])-1;const n=Number(i[3]);const r=new Date(e,t,n);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n}return false},convert(e+
){if(p(e)){const t=new Date(e*24*60*60*1e3);return t.toString()==="Invalid Date"?"":`${t.getFullYear().toString().pad(4)}-${(t.getMonth()+1).toString().pad(2)}-${t.getDate().toString().pad(2)}`}else{if(/[0-9]T[0-9]/.test(e)){e=e.split("T")[0]}return this+
.validate(e)?e:""}}},datetime:{validate(e){const t=e.split("T");if(t.length===2){return z.date.validate(t[0])&&z.time.validate(t[1],false)}return z.data.validate(t[0])},convert(e){let t="Invalid Date";const i=e.split("T");if(p(e)){t=new Date(e*24*60*60*1+
e3)}else if(/[0-9]T[0-9]/.test(e)&&i.length===2){const e=z.date.convert(i[0]);const t=z.time.convert(i[1],false);if(e&&t){return`${e}T${t}`}}else{const e=z.date.convert(i[0]);if(e){return`${e}T00:00:00.000${(new Date).getTimezoneOffsetAsTime()}`}}return +
t.toString()!=="Invalid Date"?t.toISOLocalString():""}},time:{validate(e,t){let i=e.match(/^(\d\d):(\d\d):(\d\d)\.\d\d\d(\+|-)(\d\d):(\d\d)$/);t=typeof t!=="boolean"?true:t;if(!i&&!t){i=e.match(/^(\d\d):(\d\d):(\d\d)(\+|-)(\d\d):(\d\d)$/)}if(!i){return f+
alse}return i[1]<24&&i[1]>=0&&i[2]<60&&i[2]>=0&&i[3]<60&&i[3]>=0&&i[5]<24&&i[5]>=0&&i[6]<60&&i[6]>=0},convert(e,t){let i;const n={};let r;let o;let s;let a;let l;const u=/^[0-9]{1,2}:[0-9]{1,2}(:[0-9.]*)?/;t=typeof t!=="boolean"?true:t;if(!u.test(e)){i=n+
ew Date(e);if(i.toString()!=="Invalid Date"){e=`${i.getHours()}:${i.getMinutes()}:${i.getSeconds()}.${i.getMilliseconds()}${i.getTimezoneOffsetAsTime()}`}else{return""}}r=e.toString().split(/(\+|-|Z)/);if(r.length<1){return""}o=r[0].split(":");a=r[2]?[r[+
1]].concat(r[2].split(":")):r[1]==="Z"?["+","00","00"]:[];n.hours=o[0].pad(2);n.minutes=o[1].pad(2);s=o[2]?o[2].split("."):["00"];n.seconds=s[0];n.milliseconds=s[1]||(t?"000":undefined);if(a.length===0){l=(new Date).getTimezoneOffsetAsTime()}else{l=`${a[+
0]+a[1].pad(2)}:${a[2]?a[2].pad(2):"00"}`}e=`${n.hours}:${n.minutes}:${n.seconds}${n.milliseconds?`.${n.milliseconds}`:""}${l}`;return this.validate(e,t)?e:""},convertMeridian(e){e=e.trim();if($.hasMeridian(e)){const t=e.split(" ");const i=t[0].split(":"+
);if(t.length>0){if(t[1]===$.pmNotation){i[0]=(Number(i[0])%12+12).toString().pad(2)}else if(t[1]===$.amNotation){i[0]=(Number(i[0])%12).toString().pad(2)}e=i.join(":")}}return e}},barcode:{validate(){return true}},geopoint:{validate(e){const t=e.toStrin+
g().trim().split(" ");return t[0]!==""&&t[0]>=-90&&t[0]<=90&&(t[1]!==""&&t[1]>=-360&&t[1]<=360)&&(typeof t[2]==="undefined"||!isNaN(t[2]))&&(typeof t[3]==="undefined"||!isNaN(t[3])&&t[3]>=0)},convert(e){return e.toString().trim()}},geotrace:{validate(e){+
const t=e.toString().split(";");return t.length>=2&&t.every(e=>z.geopoint.validate(e))},convert(e){return e.toString().trim()}},geoshape:{validate(e){const t=e.toString().split(";");return t.length>=4&&t[0]===t[t.length-1]&&t.every(e=>z.geopoint.validate+
(e))},convert(e){return e.toString().trim()}},binary:{validate(){return true}}};function F(e){return new CustomEvent("dataupdate",{detail:e})}function q(){return new CustomEvent("fakefocus",{bubbles:true})}function B(){return new CustomEvent("applyfocus"+
)}function U(){return new CustomEvent("pageflip",{bubbles:true})}function H(e){return new CustomEvent("removed",{detail:e,bubbles:true})}function V(e){return new CustomEvent("addrepeat",{detail:e,bubbles:true})}function j(){return new CustomEvent("remove+
repeat",{bubbles:true})}function Z(){return new CustomEvent("changelanguage",{bubbles:true})}function W(){return new Event("change",{bubbles:true})}function G(){return new Event("input",{bubbles:true})}function Y(){return new CustomEvent("inputupdate",{b+
ubbles:true})}function X(){return new CustomEvent("edited",{bubbles:true})}function K(){return new CustomEvent("validationcomplete",{bubbles:true})}function Q(){return new CustomEvent("invalidated",{bubbles:true})}function J(e){return new CustomEvent("pr+
ogressupdate",{detail:e,bubbles:true})}function ee(){return new CustomEvent("gotohidden",{bubbles:true})}var te={DataUpdate:F,FakeFocus:q,ApplyFocus:B,PageFlip:U,Removed:H,AddRepeat:V,RemoveRepeat:j,ChangeLanguage:Z,Change:W,Input:G,InputUpdate:Y,Edited:+
X,ValidationComplete:K,Invalidated:Q,ProgressUpdate:J,GoToHidden:ee};Date.prototype.toISOLocalString=function(){if(this.toString()==="Invalid Date"){return this.toString()}var e=new Date(this.getTime()-this.getTimezoneOffset()*60*1e3).toISOString().repla+
ce("Z",this.getTimezoneOffsetAsTime());if(e.indexOf("T00:00:00.000")>0){return e.split("T")[0]}else{return e}};Date.prototype.getTimezoneOffsetAsTime=function(){var e;var t;var i;var n;var r=function(e){return e<10?"0"+e:e};if(this.toString()==="Invalid +
Date"){return this.toString()}e=this.getTimezoneOffset();n=e<0?"+":"-";t=r(Math.abs(Math.floor(e/60)));i=r(Math.abs(Math.floor(e%60)));return n+t+":"+i};String.prototype.pad=function(e){let t=this;while(t.length<e){t=`0${t}`}return t};if(typeof console.d+
eprecate==="undefined"){console.deprecate=((e,t)=>{console.warn(`${e} is deprecated. Use ${t} instead.`)})}var ie=function(){function e(e,t){function i(){this.constructor=e}i.prototype=t.prototype;e.prototype=new i}function t(e,i,n,r){this.message=e;this+
.expected=i;this.found=n;this.location=r;this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,t)}}e(t,Error);function i(e){var i=arguments.length>1?arguments[1]:{},n={},r={XPath:Li},o=Li,s=function(e){retur+
n{tree:e,nsPrefixes:pn}},a="/",l={type:"literal",value:"/",description:'"/"'},u=function(e){return{type:"/",args:[null,e?e[1]:null]}},h="//",c={type:"literal",value:"//",description:'"//"'},d=function(e,t){var i;for(i=0;i<t.length;i++){e=_n(t[i][1],e,t[i+
][3])}return e},f=function(e,t,i){return fn({type:"step",args:[e,t]},e,i,1)},p="::",m={type:"literal",value:"::",description:'"::"'},g=function(e){return e},v=function(e){return e.length?e:"child"},_="ancestor-or-self",y={type:"literal",value:"ancestor-o+
r-self",description:'"ancestor-or-self"'},w="ancestor",b={type:"literal",value:"ancestor",description:'"ancestor"'},x="attribute",L={type:"literal",value:"attribute",description:'"attribute"'},k="child",E={type:"literal",value:"child",description:'"child+
"'},T="descendant-or-self",C={type:"literal",value:"descendant-or-self",description:'"descendant-or-self"'},D="descendant",S={type:"literal",value:"descendant",description:'"descendant"'},M="following-sibling",P={type:"literal",value:"following-sibling",+
description:'"following-sibling"'},I="following",N={type:"literal",value:"following",description:'"following"'},A="namespace",O={type:"literal",value:"namespace",description:'"namespace"'},R="parent",$={type:"literal",value:"parent",description:'"parent"+
'},z="preceding-sibling",F={type:"literal",value:"preceding-sibling",description:'"preceding-sibling"'},q="preceding",B={type:"literal",value:"preceding",description:'"preceding"'},U="self",H={type:"literal",value:"self",description:'"self"'},V="(",j={ty+
pe:"literal",value:"(",description:'"("'},Z=")",W={type:"literal",value:")",description:'")"'},G=function(e){return{type:"nodeType",args:[e,[]]}},Y="processing-instruction",X={type:"literal",value:"processing-instruction",description:'"processing-instruc+
tion"'},K=function(e,t){return{type:"nodeType",args:[e,[t]]}},Q=function(e){return e},J="[",ee={type:"literal",value:"[",description:'"["'},te="]",ie={type:"literal",value:"]",description:'"]"'},ne=function(e){return e},re=function(e){return _n("//",null+
,e)},oe="..",se={type:"literal",value:"..",description:'".."'},ae=".",le={type:"literal",value:".",description:'"."'},ue=function(e){var t={type:"step",args:["self",{type:"nodeType",args:["node",[]]}]};if(e==".."){t.args[0]="parent"}return t},he="@",ce={+
type:"literal",value:"@",description:'"@"'},de=function(e){return e?"attribute":""},fe=function(e){return e},pe=function(e){return e},me=function(e){return e},ge=",",ve={type:"literal",value:",",description:'","'},_e=function(e,t){var i,n=[];if(t){n.push+
(t[1]);for(i=0;i<t[2].length;i++){n.push(t[2][i][3])}}return{type:"function",args:[e,n]}},ye="|",we={type:"literal",value:"|",description:'"|"'},be=function(e,t){return dn(e,t,1,3)},xe=function(e,t){if(!t)return e;return _n(t[1],e,t[3])},Le=function(e){r+
eturn e},ke=function(e,t){return fn(e,"child",t,1)},Ee="or",Te={type:"literal",value:"or",description:'"or"'},Ce="and",De={type:"literal",value:"and",description:'"and"'},Se="=",Me={type:"literal",value:"=",description:'"="'},Pe="!=",Ie={type:"literal",v+
alue:"!=",description:'"!="'},Ne="<=",Ae={type:"literal",value:"<=",description:'"<="'},Oe="<",Re={type:"literal",value:"<",description:'"<"'},$e=">=",ze={type:"literal",value:">=",description:'">="'},Fe=">",qe={type:"literal",value:">",description:'">"'+
},Be="+",Ue={type:"literal",value:"+",description:'"+"'},He="-",Ve={type:"literal",value:"-",description:'"-"'},je="div",Ze={type:"literal",value:"div",description:'"div"'},We="mod",Ge={type:"literal",value:"mod",description:'"mod"'},Ye=function(e){retur+
n{type:"*",args:[{type:"number",args:[-1]},e]}},Xe='"',Ke={type:"literal",value:'"',description:'"\\""'},Qe=/^[^"]/,Je={type:"class",value:'[^"]',description:'[^"]'},et=function(e){return{type:"string",args:[e.join("")]}},tt="'",it={type:"literal",value:+
"'",description:'"\'"'},nt=/^[^']/,rt={type:"class",value:"[^']",description:"[^']"},ot=function(e,t){return{type:"number",args:[t?parseFloat(e+"."+t[1]):parseInt(e)]}},st=function(e){return{type:"number",args:[parseFloat("."+e)]}},at=/^[0-9]/,lt={type:"+
class",value:"[0-9]",description:"[0-9]"},ut=function(e){return e.join("")},ht="*",ct={type:"literal",value:"*",description:'"*"'},dt=function(e){var t;if(gn.args[0]===null){for(t=0;t<vn.length;t++){if(gn.args[1]==vn[t]){return false}}}return true},ft=fu+
nction(e){e.args[0]===""?e={type:e.type,args:[null,e.args[1]]}:mn(e.args[0]);return e},pt="$",mt={type:"literal",value:"$",description:'"$"'},gt=function(e){mn(e.args[0]);return{type:"$",args:[e]}},vt=function(){return{type:"name",args:[null,null]}},_t="+
:",yt={type:"literal",value:":",description:'":"'},wt=function(e){mn(e);return{type:"name",args:[e,null]}},bt=function(e){mn(e.args[0]);return e},xt="comment",Lt={type:"literal",value:"comment",description:'"comment"'},kt="text",Et={type:"literal",value:+
"text",description:'"text"'},Tt="node",Ct={type:"literal",value:"node",description:'"node"'},Dt=/^[ \t\r\n]/,St={type:"class",value:"[\\u0020\\u0009\\u000D\\u000A]",description:"[\\u0020\\u0009\\u000D\\u000A]"},Mt=function(e){gn=e;return e},Pt=function(e+
,t){return{type:"name",args:[e,t]}},It=function(e){return{type:"name",args:[null,e]}},Nt=/^[A-Z]/,At={type:"class",value:"[A-Z]",description:"[A-Z]"},Ot="_",Rt={type:"literal",value:"_",description:'"_"'},$t=/^[a-z]/,zt={type:"class",value:"[a-z]",descri+
ption:"[a-z]"},Ft=/^[\xC0-\xD6]/,qt={type:"class",value:"[\\u00C0-\\u00D6]",description:"[\\u00C0-\\u00D6]"},Bt=/^[\xD8-\xF6]/,Ut={type:"class",value:"[\\u00D8-\\u00F6]",description:"[\\u00D8-\\u00F6]"},Ht=/^[\xF8-\u02FF]/,Vt={type:"class",value:"[\\u00F+
8-\\u02FF]",description:"[\\u00F8-\\u02FF]"},jt=/^[\u0370-\u037D]/,Zt={type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},Wt=/^[\u037F-\u1FFF]/,Gt={type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},Yt=/^[\u200C-+
\u200D]/,Xt={type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},Kt=/^[\u2070-\u218F]/,Qt={type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},Jt=/^[\u2C00-\u2FEF]/,ei={type:"class",value:"[\\u2C00-\\u2FEF]",descri+
ption:"[\\u2C00-\\u2FEF]"},ti=/^[\u3001-\uD7FF]/,ii={type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},ni=/^[\uF900-\uFDCF]/,ri={type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},oi=/^[\uFDF0-\uFFFD]/,si={type:+
"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},ai=/^[\xB7]/,li={type:"class",value:"[\\u00B7]",description:"[\\u00B7]"},ui=/^[\u0300-\u036F]/,hi={type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},ci=/^[\u203F-\u2+
040]/,di={type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},fi=function(e,t){return e+t.join("")},pi=0,mi=[{line:1,column:1,seenCR:false}],gi=0,vi=[],_i;if("startRule"in i){if(!(i.startRule in r)){throw new Error("Can't start parsin+
g from rule \""+i.startRule+'".')}o=r[i.startRule]}function yi(t){var i=mi[t],n,r;if(i){return i}else{n=t-1;while(!mi[n]){n--}i=mi[n];i={line:i.line,column:i.column,seenCR:i.seenCR};while(n<t){r=e.charAt(n);if(r==="\n"){if(!i.seenCR){i.line++}i.column=1;+
i.seenCR=false}else if(r==="\r"||r==="\u2028"||r==="\u2029"){i.line++;i.column=1;i.seenCR=true}else{i.column++;i.seenCR=false}n++}mi[t]=i;return i}}function wi(e,t){var i=yi(e),n=yi(t);return{start:{offset:e,line:i.line,column:i.column},end:{offset:t,lin+
e:n.line,column:n.column}}}function bi(e){if(pi<gi){return}if(pi>gi){gi=pi;vi=[]}vi.push(e)}function xi(e,i,n,r){function o(e){var t=1;e.sort(function(e,t){if(e.description<t.description){return-1}else if(e.description>t.description){return 1}else{return+
 0}});while(t<e.length){if(e[t-1]===e[t]){e.splice(t,1)}else{t++}}}function s(e,t){function i(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t"+
).replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).+
replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}var n=new Array(e.length),r,o,s;for(s=0;s<e.length;s++){n[s]=e[s].description}r=e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0];o=t?'"'+i(t)+'"':"end of input";return"Expected "+r+" +
but "+o+" found."}if(i!==null){o(i)}return new t(e!==null?e:s(i,n),i,n,r)}function Li(){var e,t,i,r;e=pi;t=rn();if(t!==n){i=Oi();if(i!==n){r=rn();if(r!==n){t=s(i);e=t}else{pi=e;e=n}}else{pi=e;e=n}}else{pi=e;e=n}return e}function ki(){var e;e=Ti();if(e===+
n){e=Ei()}return e}function Ei(){var t,i,r,o,s;t=Ii();if(t===n){t=pi;if(e.charCodeAt(pi)===47){i=a;pi++}else{i=n;{bi(l)}}if(i!==n){r=pi;o=rn();if(o!==n){s=Ti();if(s!==n){o=[o,s];r=o}else{pi=r;r=n}}else{pi=r;r=n}if(r===n){r=null}if(r!==n){i=u(r);t=i}else{+
pi=t;t=n}}else{pi=t;t=n}}return t}function Ti(){var t,i,r,o,s,u,f,p;t=pi;i=Ci();if(i!==n){r=[];o=pi;s=rn();if(s!==n){if(e.substr(pi,2)===h){u=h;pi+=2}else{u=n;{bi(c)}}if(u===n){if(e.charCodeAt(pi)===47){u=a;pi++}else{u=n;{bi(l)}}}if(u!==n){f=rn();if(f!==+
n){p=Ci();if(p!==n){s=[s,u,f,p];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){if(e.substr(pi,2)===h){u=h;pi+=2}else{u=n;{bi(c)}}if(u===n){if(e.charCodeAt(pi)===47){u=a;pi++}else{u=n;{bi(l)}}}i+
f(u!==n){f=rn();if(f!==n){p=Ci();if(p!==n){s=[s,u,f,p];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(r!==n){i=d(i,r);t=i}else{pi=t;t=n}}else{pi=t;t=n}return t}function Ci(){var e,t,i,r,o,s,a,l;e=pi;t=Di();if(t!==n){i=rn();if(i!==n){r+
=Mi();if(r!==n){o=[];s=pi;a=rn();if(a!==n){l=Pi();if(l!==n){a=[a,l];s=a}else{pi=s;s=n}}else{pi=s;s=n}while(s!==n){o.push(s);s=pi;a=rn();if(a!==n){l=Pi();if(l!==n){a=[a,l];s=a}else{pi=s;s=n}}else{pi=s;s=n}}if(o!==n){t=f(t,r,o);e=t}else{pi=e;e=n}}else{pi=e+
;e=n}}else{pi=e;e=n}}else{pi=e;e=n}if(e===n){e=Ni()}return e}function Di(){var t,i,r,o;t=pi;i=Si();if(i!==n){r=rn();if(r!==n){if(e.substr(pi,2)===p){o=p;pi+=2}else{o=n;{bi(m)}}if(o!==n){i=g(i);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}if(t===n){t=p+
i;i=Ai();if(i!==n){i=v(i)}t=i}return t}function Si(){var t;if(e.substr(pi,16)===_){t=_;pi+=16}else{t=n;{bi(y)}}if(t===n){if(e.substr(pi,8)===w){t=w;pi+=8}else{t=n;{bi(b)}}if(t===n){if(e.substr(pi,9)===x){t=x;pi+=9}else{t=n;{bi(L)}}if(t===n){if(e.substr(p+
i,5)===k){t=k;pi+=5}else{t=n;{bi(E)}}if(t===n){if(e.substr(pi,18)===T){t=T;pi+=18}else{t=n;{bi(C)}}if(t===n){if(e.substr(pi,10)===D){t=D;pi+=10}else{t=n;{bi(S)}}if(t===n){if(e.substr(pi,17)===M){t=M;pi+=17}else{t=n;{bi(P)}}if(t===n){if(e.substr(pi,9)===I+
){t=I;pi+=9}else{t=n;{bi(N)}}if(t===n){if(e.substr(pi,9)===A){t=A;pi+=9}else{t=n;{bi(O)}}if(t===n){if(e.substr(pi,6)===R){t=R;pi+=6}else{t=n;{bi($)}}if(t===n){if(e.substr(pi,17)===z){t=z;pi+=17}else{t=n;{bi(F)}}if(t===n){if(e.substr(pi,9)===q){t=q;pi+=9}+
else{t=n;{bi(B)}}if(t===n){if(e.substr(pi,4)===U){t=U;pi+=4}else{t=n;{bi(H)}}}}}}}}}}}}}}return t}function Mi(){var t,i,r,o,s,a,l,u;t=pi;i=tn();if(i!==n){r=rn();if(r!==n){if(e.charCodeAt(pi)===40){o=V;pi++}else{o=n;{bi(j)}}if(o!==n){s=rn();if(s!==n){if(e+
.charCodeAt(pi)===41){a=Z;pi++}else{a=n;{bi(W)}}if(a!==n){i=G(i);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}if(t===n){t=pi;if(e.substr(pi,22)===Y){i=Y;pi+=22}else{i=n;{bi(X)}}if(i!==n){r=rn();if(r!==n){if(e.charCodeAt(p+
i)===40){o=V;pi++}else{o=n;{bi(j)}}if(o!==n){s=rn();if(s!==n){a=Gi();if(a!==n){l=rn();if(l!==n){if(e.charCodeAt(pi)===41){u=Z;pi++}else{u=n;{bi(W)}}if(u!==n){i=K(i,a);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=+
t;t=n}}else{pi=t;t=n}if(t===n){t=pi;i=en();if(i!==n){i=Q(i)}t=i}}return t}function Pi(){var t,i,r,o,s,a;t=pi;if(e.charCodeAt(pi)===91){i=J;pi++}else{i=n;{bi(ee)}}if(i!==n){r=rn();if(r!==n){o=Oi();if(o!==n){s=rn();if(s!==n){if(e.charCodeAt(pi)===93){a=te;+
pi++}else{a=n;{bi(ie)}}if(a!==n){i=ne(o);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}return t}function Ii(){var t,i,r,o;t=pi;if(e.substr(pi,2)===h){i=h;pi+=2}else{i=n;{bi(c)}}if(i!==n){r=rn();if(r!==n){o=Ti();if(o!==n){i+
=re(o);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}return t}function Ni(){var t,i;t=pi;if(e.substr(pi,2)===oe){i=oe;pi+=2}else{i=n;{bi(se)}}if(i===n){if(e.charCodeAt(pi)===46){i=ae;pi++}else{i=n;{bi(le)}}}if(i!==n){i=ue(i)}t=i;return t}function Ai(){+
var t,i;t=pi;if(e.charCodeAt(pi)===64){i=he;pi++}else{i=n;{bi(ce)}}if(i===n){i=null}if(i!==n){i=de(i)}t=i;return t}function Oi(){var e,t;e=pi;t=Bi();if(t!==n){t=ne(t)}e=t;return e}function Ri(){var t,i,r,o,s,a;t=pi;i=Ji();if(i!==n){i=fe(i)}t=i;if(t===n){+
t=pi;if(e.charCodeAt(pi)===40){i=V;pi++}else{i=n;{bi(j)}}if(i!==n){r=rn();if(r!==n){o=Oi();if(o!==n){s=rn();if(s!==n){if(e.charCodeAt(pi)===41){a=Z;pi++}else{a=n;{bi(W)}}if(a!==n){i=ne(o);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}el+
se{pi=t;t=n}if(t===n){t=pi;i=Gi();if(i!==n){i=pe(i)}t=i;if(t===n){t=pi;i=Yi();if(i!==n){i=me(i)}t=i;if(t===n){t=$i()}}}}return t}function $i(){var t,i,r,o,s,a,l,u,h,c,d,f,p;t=pi;i=Qi();if(i!==n){r=rn();if(r!==n){if(e.charCodeAt(pi)===40){o=V;pi++}else{o=+
n;{bi(j)}}if(o!==n){s=pi;a=rn();if(a!==n){l=Oi();if(l!==n){u=[];h=pi;c=rn();if(c!==n){if(e.charCodeAt(pi)===44){d=ge;pi++}else{d=n;{bi(ve)}}if(d!==n){f=rn();if(f!==n){p=Oi();if(p!==n){c=[c,d,f,p];h=c}else{pi=h;h=n}}else{pi=h;h=n}}else{pi=h;h=n}}else{pi=h+
;h=n}while(h!==n){u.push(h);h=pi;c=rn();if(c!==n){if(e.charCodeAt(pi)===44){d=ge;pi++}else{d=n;{bi(ve)}}if(d!==n){f=rn();if(f!==n){p=Oi();if(p!==n){c=[c,d,f,p];h=c}else{pi=h;h=n}}else{pi=h;h=n}}else{pi=h;h=n}}else{pi=h;h=n}}if(u!==n){a=[a,l,u];s=a}else{p+
i=s;s=n}}else{pi=s;s=n}}else{pi=s;s=n}if(s===n){s=null}if(s!==n){a=rn();if(a!==n){if(e.charCodeAt(pi)===41){l=Z;pi++}else{l=n;{bi(W)}}if(l!==n){i=_e(i,s);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}return +
t}function zi(){var t,i,r,o,s,a,l,u;t=pi;i=Fi();if(i!==n){r=[];o=pi;s=rn();if(s!==n){if(e.charCodeAt(pi)===124){a=ye;pi++}else{a=n;{bi(we)}}if(a!==n){l=rn();if(l!==n){u=Fi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o+
;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){if(e.charCodeAt(pi)===124){a=ye;pi++}else{a=n;{bi(we)}}if(a!==n){l=rn();if(l!==n){u=Fi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(r!==n){i=be(i,r);t=i}else{+
pi=t;t=n}}else{pi=t;t=n}return t}function Fi(){var t,i,r,o,s,u,d;t=pi;i=qi();if(i!==n){r=pi;o=rn();if(o!==n){if(e.substr(pi,2)===h){s=h;pi+=2}else{s=n;{bi(c)}}if(s===n){if(e.charCodeAt(pi)===47){s=a;pi++}else{s=n;{bi(l)}}}if(s!==n){u=rn();if(u!==n){d=Ti(+
);if(d!==n){o=[o,s,u,d];r=o}else{pi=r;r=n}}else{pi=r;r=n}}else{pi=r;r=n}}else{pi=r;r=n}if(r===n){r=null}if(r!==n){i=xe(i,r);t=i}else{pi=t;t=n}}else{pi=t;t=n}if(t===n){t=pi;i=ki();if(i!==n){i=Le(i)}t=i}return t}function qi(){var e,t,i,r,o,s;e=pi;t=Ri();if+
(t!==n){i=[];r=pi;o=rn();if(o!==n){s=Pi();if(s!==n){o=[o,s];r=o}else{pi=r;r=n}}else{pi=r;r=n}while(r!==n){i.push(r);r=pi;o=rn();if(o!==n){s=Pi();if(s!==n){o=[o,s];r=o}else{pi=r;r=n}}else{pi=r;r=n}}if(i!==n){t=ke(t,i);e=t}else{pi=e;e=n}}else{pi=e;e=n}retu+
rn e}function Bi(){var t,i,r,o,s,a,l,u;t=pi;i=Ui();if(i!==n){r=[];o=pi;s=rn();if(s!==n){if(e.substr(pi,2)===Ee){a=Ee;pi+=2}else{a=n;{bi(Te)}}if(a!==n){l=rn();if(l!==n){u=Ui();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=+
o;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){if(e.substr(pi,2)===Ee){a=Ee;pi+=2}else{a=n;{bi(Te)}}if(a!==n){l=rn();if(l!==n){u=Ui();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(r!==n){i=be(i,r);t=i}else{p+
i=t;t=n}}else{pi=t;t=n}return t}function Ui(){var t,i,r,o,s,a,l,u;t=pi;i=Hi();if(i!==n){r=[];o=pi;s=rn();if(s!==n){if(e.substr(pi,3)===Ce){a=Ce;pi+=3}else{a=n;{bi(De)}}if(a!==n){l=rn();if(l!==n){u=Hi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o+
=n}}else{pi=o;o=n}}else{pi=o;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){if(e.substr(pi,3)===Ce){a=Ce;pi+=3}else{a=n;{bi(De)}}if(a!==n){l=rn();if(l!==n){u=Hi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(+
r!==n){i=be(i,r);t=i}else{pi=t;t=n}}else{pi=t;t=n}return t}function Hi(){var t,i,r,o,s,a,l,u;t=pi;i=Vi();if(i!==n){r=[];o=pi;s=rn();if(s!==n){if(e.charCodeAt(pi)===61){a=Se;pi++}else{a=n;{bi(Me)}}if(a===n){if(e.substr(pi,2)===Pe){a=Pe;pi+=2}else{a=n;{bi(+
Ie)}}}if(a!==n){l=rn();if(l!==n){u=Vi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){if(e.charCodeAt(pi)===61){a=Se;pi++}else{a=n;{bi(Me)}}if(a===n){if(e.substr(pi,2)===+
Pe){a=Pe;pi+=2}else{a=n;{bi(Ie)}}}if(a!==n){l=rn();if(l!==n){u=Vi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(r!==n){i=be(i,r);t=i}else{pi=t;t=n}}else{pi=t;t=n}return t}function Vi(){var t,i,r,o,s,a,l,u;t=pi+
;i=ji();if(i!==n){r=[];o=pi;s=rn();if(s!==n){if(e.substr(pi,2)===Ne){a=Ne;pi+=2}else{a=n;{bi(Ae)}}if(a===n){if(e.charCodeAt(pi)===60){a=Oe;pi++}else{a=n;{bi(Re)}}if(a===n){if(e.substr(pi,2)===$e){a=$e;pi+=2}else{a=n;{bi(ze)}}if(a===n){if(e.charCodeAt(pi)+
===62){a=Fe;pi++}else{a=n;{bi(qe)}}}}}if(a!==n){l=rn();if(l!==n){u=ji();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){if(e.substr(pi,2)===Ne){a=Ne;pi+=2}else{a=n;{bi(Ae)}+
}if(a===n){if(e.charCodeAt(pi)===60){a=Oe;pi++}else{a=n;{bi(Re)}}if(a===n){if(e.substr(pi,2)===$e){a=$e;pi+=2}else{a=n;{bi(ze)}}if(a===n){if(e.charCodeAt(pi)===62){a=Fe;pi++}else{a=n;{bi(qe)}}}}}if(a!==n){l=rn();if(l!==n){u=ji();if(u!==n){s=[s,a,l,u];o=s+
}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(r!==n){i=be(i,r);t=i}else{pi=t;t=n}}else{pi=t;t=n}return t}function ji(){var t,i,r,o,s,a,l,u;t=pi;i=Zi();if(i!==n){r=[];o=pi;s=rn();if(s!==n){if(e.charCodeAt(pi)===43){a=Be;pi++}else{a=n;{bi+
(Ue)}}if(a===n){if(e.charCodeAt(pi)===45){a=He;pi++}else{a=n;{bi(Ve)}}}if(a!==n){l=rn();if(l!==n){u=Zi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){if(e.charCodeAt(pi)+
===43){a=Be;pi++}else{a=n;{bi(Ue)}}if(a===n){if(e.charCodeAt(pi)===45){a=He;pi++}else{a=n;{bi(Ve)}}}if(a!==n){l=rn();if(l!==n){u=Zi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(r!==n){i=be(i,r);t=i}else{pi=t;+
t=n}}else{pi=t;t=n}return t}function Zi(){var t,i,r,o,s,a,l,u;t=pi;i=Wi();if(i!==n){r=[];o=pi;s=rn();if(s!==n){a=Ki();if(a===n){if(e.substr(pi,3)===je){a=je;pi+=3}else{a=n;{bi(Ze)}}if(a===n){if(e.substr(pi,3)===We){a=We;pi+=3}else{a=n;{bi(Ge)}}}}if(a!==n+
){l=rn();if(l!==n){u=Wi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}while(o!==n){r.push(o);o=pi;s=rn();if(s!==n){a=Ki();if(a===n){if(e.substr(pi,3)===je){a=je;pi+=3}else{a=n;{bi(Ze)}}if(a===n){if(e.substr(pi,3)=+
==We){a=We;pi+=3}else{a=n;{bi(Ge)}}}}if(a!==n){l=rn();if(l!==n){u=Wi();if(u!==n){s=[s,a,l,u];o=s}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}else{pi=o;o=n}}if(r!==n){i=be(i,r);t=i}else{pi=t;t=n}}else{pi=t;t=n}return t}function Wi(){var t,i,r,o;t=pi;i=zi+
();if(i!==n){i=ne(i)}t=i;if(t===n){t=pi;if(e.charCodeAt(pi)===45){i=He;pi++}else{i=n;{bi(Ve)}}if(i!==n){r=rn();if(r!==n){o=Wi();if(o!==n){i=Ye(o);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}return t}function Gi(){var t,i,r,o;t=pi;if(e.charCodeAt(pi)+
===34){i=Xe;pi++}else{i=n;{bi(Ke)}}if(i!==n){r=[];if(Qe.test(e.charAt(pi))){o=e.charAt(pi);pi++}else{o=n;{bi(Je)}}while(o!==n){r.push(o);if(Qe.test(e.charAt(pi))){o=e.charAt(pi);pi++}else{o=n;{bi(Je)}}}if(r!==n){if(e.charCodeAt(pi)===34){o=Xe;pi++}else{o+
=n;{bi(Ke)}}if(o!==n){i=et(r);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}if(t===n){t=pi;if(e.charCodeAt(pi)===39){i=tt;pi++}else{i=n;{bi(it)}}if(i!==n){r=[];if(nt.test(e.charAt(pi))){o=e.charAt(pi);pi++}else{o=n;{bi(rt)}}while(o!==n){r.push(o);if(nt+
.test(e.charAt(pi))){o=e.charAt(pi);pi++}else{o=n;{bi(rt)}}}if(r!==n){if(e.charCodeAt(pi)===39){o=tt;pi++}else{o=n;{bi(it)}}if(o!==n){i=et(r);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}}return t}function Yi(){var t,i,r,o,s;t=pi;i=Xi();if(i!==n){r=pi+
;if(e.charCodeAt(pi)===46){o=ae;pi++}else{o=n;{bi(le)}}if(o!==n){s=Xi();if(s===n){s=null}if(s!==n){o=[o,s];r=o}else{pi=r;r=n}}else{pi=r;r=n}if(r===n){r=null}if(r!==n){i=ot(i,r);t=i}else{pi=t;t=n}}else{pi=t;t=n}if(t===n){t=pi;if(e.charCodeAt(pi)===46){i=a+
e;pi++}else{i=n;{bi(le)}}if(i!==n){r=Xi();if(r!==n){i=st(r);t=i}else{pi=t;t=n}}else{pi=t;t=n}}return t}function Xi(){var t,i,r;t=pi;i=[];if(at.test(e.charAt(pi))){r=e.charAt(pi);pi++}else{r=n;{bi(lt)}}if(r!==n){while(r!==n){i.push(r);if(at.test(e.charAt(+
pi))){r=e.charAt(pi);pi++}else{r=n;{bi(lt)}}}}else{i=n}if(i!==n){i=ut(i)}t=i;return t}function Ki(){var t;if(e.charCodeAt(pi)===42){t=ht;pi++}else{t=n;{bi(ct)}}return t}function Qi(){var e,t,i;e=pi;t=on();if(t!==n){i=dt();if(i){i=void 0}else{i=n}if(i!==n+
){t=ft(t);e=t}else{pi=e;e=n}}else{pi=e;e=n}return e}function Ji(){var t,i,r;t=pi;if(e.charCodeAt(pi)===36){i=pt;pi++}else{i=n;{bi(mt)}}if(i!==n){r=on();if(r!==n){i=gt(r);t=i}else{pi=t;t=n}}else{pi=t;t=n}return t}function en(){var t,i,r,o;t=pi;if(e.charCo+
deAt(pi)===42){i=ht;pi++}else{i=n;{bi(ct)}}if(i!==n){i=vt()}t=i;if(t===n){t=pi;i=ln();if(i!==n){if(e.charCodeAt(pi)===58){r=_t;pi++}else{r=n;{bi(yt)}}if(r!==n){if(e.charCodeAt(pi)===42){o=ht;pi++}else{o=n;{bi(ct)}}if(o!==n){i=wt(i);t=i}else{pi=t;t=n}}els+
e{pi=t;t=n}}else{pi=t;t=n}if(t===n){t=pi;i=on();if(i!==n){i=bt(i)}t=i}}return t}function tn(){var t;if(e.substr(pi,7)===xt){t=xt;pi+=7}else{t=n;{bi(Lt)}}if(t===n){if(e.substr(pi,4)===kt){t=kt;pi+=4}else{t=n;{bi(Et)}}if(t===n){if(e.substr(pi,22)===Y){t=Y;+
pi+=22}else{t=n;{bi(X)}}if(t===n){if(e.substr(pi,4)===Tt){t=Tt;pi+=4}else{t=n;{bi(Ct)}}}}}return t}function nn(){var t,i;t=[];if(Dt.test(e.charAt(pi))){i=e.charAt(pi);pi++}else{i=n;{bi(St)}}if(i!==n){while(i!==n){t.push(i);if(Dt.test(e.charAt(pi))){i=e.c+
harAt(pi);pi++}else{i=n;{bi(St)}}}}else{t=n}return t}function rn(){var e;e=nn();if(e===n){e=null}return e}function on(){var e,t;e=pi;t=sn();if(t===n){t=an()}if(t!==n){t=Mt(t)}e=t;return e}function sn(){var t,i,r,o;t=pi;i=ln();if(i!==n){if(e.charCodeAt(pi+
)===58){r=_t;pi++}else{r=n;{bi(yt)}}if(r!==n){o=ln();if(o!==n){i=Pt(i,o);t=i}else{pi=t;t=n}}else{pi=t;t=n}}else{pi=t;t=n}return t}function an(){var e,t;e=pi;t=ln();if(t!==n){t=It(t)}e=t;return e}function ln(){var e;e=cn();return e}function un(){var t;if(+
Nt.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(At)}}if(t===n){if(e.charCodeAt(pi)===95){t=Ot;pi++}else{t=n;{bi(Rt)}}if(t===n){if($t.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(zt)}}if(t===n){if(Ft.test(e.charAt(pi))){t=e.charAt(pi);pi+++
}else{t=n;{bi(qt)}}if(t===n){if(Bt.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(Ut)}}if(t===n){if(Ht.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(Vt)}}if(t===n){if(jt.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(Zt)}}if(t===n){if(+
Wt.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(Gt)}}if(t===n){if(Yt.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(Xt)}}if(t===n){if(Kt.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(Qt)}}if(t===n){if(Jt.test(e.charAt(pi))){t=e.charA+
t(pi);pi++}else{t=n;{bi(ei)}}if(t===n){if(ti.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(ii)}}if(t===n){if(ni.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(ri)}}if(t===n){if(oi.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(si)}}}}}+
}}}}}}}}}}return t}function hn(){var t;t=un();if(t===n){if(e.charCodeAt(pi)===45){t=He;pi++}else{t=n;{bi(Ve)}}if(t===n){if(e.charCodeAt(pi)===46){t=ae;pi++}else{t=n;{bi(le)}}if(t===n){if(at.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(lt)}}if(t==+
=n){if(ai.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(li)}}if(t===n){if(ui.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(hi)}}if(t===n){if(ci.test(e.charAt(pi))){t=e.charAt(pi);pi++}else{t=n;{bi(di)}}}}}}}}return t}function cn(){var e,t,i+
,r;e=pi;t=un();if(t!==n){i=[];r=hn();while(r!==n){i.push(r);r=hn()}if(i!==n){t=fi(t,i);e=t}else{pi=e;e=n}}else{pi=e;e=n}return e}var dn=function(e,t,i,n){var r,o,s={type:"",args:[]};s.args.push(e);for(r=0;r<t.length;r++){switch(typeof i){case"string":s.t+
ype=i;break;case"object":s.type=t[r][i[0]];for(o=1;o<i.length;o++){s.type=s.type[i[o]]}break;default:s.type=t[r][i];break}s.args.push(typeof n=="undefined"?t[r]:t[r][n]);s={type:"",args:[s]}}return s.args[0]},fn=function(e,t,i,n){var r,o=[];if(i.length<1+
){return e}for(r=0;r<i.length;r++){o.push(i[r][n])}return{type:"predicate",args:[t,e,o]}},pn=[],mn=function(e){var t,i=false;if(e===null)return;for(t=0;t<pn.length;t++){if(pn[t]===e){i=true;break}}if(!i){pn.push(e)}},gn,vn=["comment","text","processing-i+
nstruction","node"],_n=function(e,t,i){if(e=="/"){return{type:"/",args:[t,i]}}return{type:"/",args:[{type:"/",args:[t,{type:"step",args:["descendant-or-self",{type:"nodeType",args:["node",[]]}]}]},i]}};_i=o();if(_i!==n&&pi===e.length){return _i}else{if(_+
i!==n&&pi<e.length){bi({type:"end",description:"end of input"})}throw xi(null,vi,gi<e.length?e.charAt(gi):null,gi<e.length?wi(gi,gi+1):wi(gi,gi))}}return{SyntaxError:t,parse:i}}();var ne=2147483647;var re=16807;function oe(e,t){var i;var n=[];if(typeof t+
!=="undefined"){if(!Number.isInteger(t)){throw new Error("Invalid seed argument. Integer required.")}var r=new se(t);i=r.nextFloat.bind(r)}else{i=Math.random}for(var o=0;o<e.length;++o){var s=Math.floor(i()*(o+1));if(s!==o){n[o]=n[s]}n[s]=e[o]}return n}N+
umber.isInteger=Number.isInteger||function(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e};function se(e){this._seed=e%ne;if(this._seed<=0){this._seed+=ne-1}}se.prototype.next=function(){return this._seed=this._seed*re%ne};se.prototype.nex+
tFloat=function(){return(this.next()-1)/(ne-1)};var ae=oe;var le=6378100;var ue=100;function he(e){return e.map(function(e){return e.trim().split(" ")})}function ce(e){return e*Math.PI/180}function de(e){return e.every(function(e){return e[0]!==""&&e[0]>+
=-90&&e[0]<=90&&(e[1]!==""&&e[1]>=-180&&e[1]<=180)&&(typeof e[2]=="undefined"||!isNaN(e[2]))&&(typeof e[3]=="undefined"||!isNaN(e[3])&&e[3]>=0)})}function fe(e,t){var i=ce(e.lng-t.lng);var n=ce(e.lat);var r=ce(t.lat);return Math.acos(Math.sin(n)*Math.sin+
(r)+Math.cos(n)*Math.cos(r)*Math.cos(i))*le}function pe(e){var t=he(e);if(!de(t)){return Number.NaN}var i=t.length;var n=0;if(i>2){for(var r=0;r<i;r++){var o={lat:t[r][0],lng:t[r][1]};var s={lat:t[(r+1)%i][0],lng:t[(r+1)%i][1]};n+=ce(s.lng-o.lng)*(2+Math+
.sin(ce(o.lat))+Math.sin(ce(s.lat)))}n=n*le*le/2}return Math.abs(Math.round(n*ue))/ue}function me(e){var t=he(e);if(!de(t)){return Number.NaN}var i=t.length;var n=0;if(i>1){for(var r=1;r<i;r++){var o={lat:t[r-1][0],lng:t[r-1][1]};var s={lat:t[r][0],lng:t+
[r][1]};n+=fe(o,s)}}return Math.abs(Math.round(n*ue))/ue}var ge={area:pe,distance:me};                                                                                                                                                                         
/**                                                                                                                                                                                                                                                            
	 * Original copyright notice for XPathJS:                                                                                                                                                                                                                     
	 *                                                                                                                                                                                                                                                            
	 * Copyright (C) 2011 Andrej Pavlovic for XPathJS                                                                                                                                                                                                             
	 *                                                                                                                                                                                                                                                            
	 * This file is part of XPathJS.                                                                                                                                                                                                                              
	 *                                                                                                                                                                                                                                                            
	 * XPathJS is free software: you can redistribute it and/or modify it under                                                                                                                                                                                   
	 * the terms of the GNU Affero General Public License as published by the Free                                                                                                                                                                                
	 * Software Foundation, version 3 of the License.                                                                                                                                                                                                             
	 *                                                                                                                                                                                                                                                            
	 * XPathJS is distributed in the hope that it will be useful, but WITHOUT ANY                                                                                                                                                                                 
	 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR                                                                                                                                                                              
	 * A PARTICULAR PURPOSE. See the GNU Affero General Public License for more                                                                                                                                                                                   
	 * details.                                                                                                                                                                                                                                                   
	 *                                                                                                                                                                                                                                                            
	 * You should have received a copy of the GNU Affero General Public License along                                                                                                                                                                             
	 * with this program. If not, see <http://www.gnu.org/licenses/>.                                                                                                                                                                                             
	 */var ve=function(){var e,t,i,n,r,o,s,a,l,u,h,c=[],d="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",p="http://www.w3.org/1999/xhtml",m,g,v,_,y,w,b,x=function(e){var t=[],i=function(e,t){var i,n,r=[];for(n=0;n<e.length;n++){i=e+
.item(n);if(false!==U(i.nodeType,t)){r.push(i)}}return r};switch(e.nodeType){case 1:t=i(e.childNodes,[1,3,4,7,8]);break;case 9:t=i(e.childNodes,[1,7,8]);break;case 2:case 3:case 4:case 7:case 8:case 13:break;default:throw new Error("Internal Error: nodeC+
hildren - unsupported node type: "+e.nodeType)}return t},L=function(e){var t,i,n=[];t=x(e);for(i=0;i<t.length;i++){n.push(t[i]);n.push.apply(n,L(t[i]))}return n},k=function(e){var t;switch(e.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:return e.pa+
rentNode;case 2:if(e.ownerElement){return e.ownerElement}t=z(e.ownerDocument,true,function(t,i){if(i===e){return true}});return t;case 13:return e.ownerElement;default:throw new Error("Internal Error: nodeParent - node type not supported: "+e.type)}},E=f+
unction(e){var t,i=[];while(t=k(e)){i.push(t);e=t}return i},T=function(e){return D(e,"nextSibling")},C=function(e){return D(e,"previousSibling")},D=function(e,t){var i,n=[];while(i=e[t]){switch(i.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:n.push+
(i);break;default:break}e=i}return n},S=function(e){var t=[],i,n,r,o;i=E(e);i.unshift(e);for(n=0;n<i.length;n++){r=T(i[n]);for(o=0;o<r.length;o++){t.push(r[o]);t.push.apply(t,L(r[o]))}}return t},M=function(e){var t=[],i,n,r,o;i=E(e);i.unshift(e);for(n=0;+
n<i.length;n++){r=C(i[n]);for(o=0;o<r.length;o++){t.push.apply(t,L(r[o]).reverse());t.push(r[o])}}return t},P=function(e){switch(e.nodeType){case 9:return e;default:return e.ownerDocument}},I=function(e){var t=[],i;if(e.nodeType===1){for(i=0;i<e.attribut+
es.length;i++){if(!e.attributes[i].specified){continue}t.push(e.attributes[i])}}if(t.length>1&&t[0].compareDocumentPosition){t.sort(function(e,t){var i=e.compareDocumentPosition(t);if((i&2)==2)return 1;else if((i&4)==4)return-1;else return 0})}return t},+
N=function(e){var t=I(e),i=[],n;for(n=0;n<t.length;n++){if(false===R(t[n])){i.push(t[n])}}return i},A=function(e,t){var i=t||[],n,r,o,s;if(e.nodeType===1){if(e.ownerDocument.documentElement===e&&typeof e.ownerDocument.namespaces==="object"){for(r=e.owner+
Document.namespaces.length-1;r>=0;r--){s=e.ownerDocument.namespaces.item(r);O.call(this,i,s.name,s.urn,e)}}n=I(e);for(r=n.length-1;r>=0;r--){if(false===(o=R(n[r]))){continue}if(o.length===1){O.call(this,i,"",n[r].nodeValue,e);continue}O.call(this,i,o[1],+
n[r].nodeValue,e)}A.call(this,e.parentNode,i);if(t===undefined){O.call(this,i,"xml",d,e);if(i[0]&&i[0].prefix===""&&i[0].namespaceURI===""){i.shift()}}if(t===undefined){for(r=0;r<i.length;r++){if(i[r].ownerElement!==e){i[r]=G(i[r].prefix,i[r].nodeValue,e+
)}}}}return i},O=function(e,t,i,n){var r,o;if(!this.opts["case-sensitive"]){t=t.toLowerCase()}for(r=0;r<e.length;r++){if(e[r].prefix===t){return false}}o=G(t,i,n);if(t===""&&i!==null){e.unshift(o)}else{e.push(o)}return true},R=function(e){var t=e.nodeNam+
e.split(":");if(t[0]==="xmlns"){return t}return false},$=function(e,t){var i,n,r,o,s,a;if(e.nodeType===1){r=!t?N(e):[t];o=A.call(this,e);for(i=0;i<r.length;i++){a=r[i].nodeName.split(":");if(a.length===1){a[1]=a[0];a[0]=""}s=null;for(n=0;n<o.length;n++){+
if(o[n].prefix===a[0]){s=o[n].namespaceURI;break}}if(s===null)s="";if(this.opts["unique-ids"][s]===a[1]){return r[i]}}}return null},z=function(e,t,i){var n,r,o,s,a=[];o=e.getElementsByTagName("*");for(n=0;n<o.length;n++){s=o.item(n);if(s.nodeType!=1){con+
tinue}for(r=0;r<s.attributes.length;r++){if(!s.attributes[r].specified){continue}if(i(s,s.attributes[r])===true){if(t){return s}else{a.push(s);break}}}}if(t){return null}else{return a}},F=function(e){var t,i,n,r;switch(e.nodeType){case 1:if(typeof e.scop+
eName!="undefined"&&!document.addEventListener){r={prefix:e.scopeName=="HTML"?"":e.scopeName,name:e.nodeName}}else{t=e.nodeName.split(":");if(t.length==1){r={prefix:"",name:t[0]}}else{r={prefix:t[0],name:t[1]}}}if(!this.opts["case-sensitive"]){r.prefix=r+
.prefix.toLowerCase();r.name=r.name.toLowerCase()}i=A.call(this,e);for(n=0;n<i.length;n++){if(i[n].prefix===r.prefix){r.ns=i[n].namespaceURI;return r}}if(r.prefix===""){r.ns=null;return r}throw new Error('Internal Error: nodeExpandedName - Failed to expa+
nd namespace prefix "'+r.prefix+'" on element: '+e.nodeName);case 2:t=e.nodeName.split(":");if(t.length==1){return{prefix:"",ns:null,name:t[0]}}r={prefix:t[0],name:t[1]};if(!this.opts["case-sensitive"]){r.prefix=r.prefix.toLowerCase();r.name=r.name.toLow+
erCase()}i=A.call(this,k(e));for(n=0;n<i.length;n++){if(i[n].prefix===r.prefix){r.ns=i[n].namespaceURI;return r}}throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+r.prefix+'" on attribute: '+e.nodeName);case 13:retu+
rn{prefix:null,ns:null,name:!this.opts["case-sensitive"]?e.prefix:e.prefix.toLowerCase()};case 7:return{prefix:null,ns:null,name:!this.opts["case-sensitive"]?e.target:e.target.toLowerCase()};default:return false}},q=function(e){var t,i,n="";switch(e.node+
Type){case 9:case 1:i=a(new h(e,1,1,{},{},{}),{type:"step",args:["descendant",{type:"nodeType",args:["text",[]]}]});i.sortDocumentOrder();for(t=0;t<i.value.length;t++){n+=i.value[t].data}return n;case 2:return e.nodeValue;case 13:return e.namespaceURI;ca+
se 7:case 8:case 3:case 4:return e.data;default:throw new Error("Internal Error: nodeStringValue does not support node type: "+e.nodeType)}},B=function(e,t,i){var n=new Error(i);n.name=t;n.code=e;return n},U=function(e,t){var i=t.length;while(i--){if(t[i+
]===e){return i}}return false},H=function(e,t,i,n){var r,o,s,a,l;if(e instanceof y){if(t instanceof y){a=t.stringValues();s=e.stringValues();for(r=0;r<s.length;r++){for(o=0;o<a.length;o++){l=H(s[r],a[o],i,n);if(l.toBoolean()){return l}}}}else{if(t instan+
ceof _){s=e.stringValues();for(r=0;r<s.length;r++){l=H(new _(s[r].toNumber()),t,i,n);if(l.toBoolean()){return l}}}else if(t instanceof w||t instanceof v&&t.isDateString()){if(t instanceof v){t=new w(t)}s=e.stringValues();for(r=0;r<s.length;r++){l=H(new w+
(s[r].toDate()),t,i,n);if(l.toBoolean()){return l}}}else if(t instanceof v){s=e.stringValues();for(r=0;r<s.length;r++){l=H(s[r],t,i,n);if(l.toBoolean()){return l}}}else{return H(new g(e.toBoolean()),t,i,n)}}}else{if(t instanceof y){if(e instanceof _){a=t+
.stringValues();for(r=0;r<a.length;r++){l=H(e,new _(a[r].toNumber()),i,n);if(l.toBoolean()){return l}}}else if(e instanceof w||e instanceof v&&e.isDateString()){if(e instanceof v){e=new w(e)}a=t.stringValues();for(r=0;r<a.length;r++){l=H(e,new w(a[r].toD+
ate()),i,n);if(l.toBoolean()){return l}}}else if(e instanceof v){a=t.stringValues();for(r=0;r<a.length;r++){l=H(e,a[r],i,n);if(l.toBoolean()){return l}}}else{return H(e,new g(t.toBoolean()),i,n)}}else{switch(i){case"=":case"!=":if(e instanceof g||t insta+
nceof g){return new g(n(e.toBoolean(),t.toBoolean()))}else if(e instanceof _||t instanceof _){return new g(n(e.toNumber(),t.toNumber()))}else if(e instanceof w||t instanceof w||e instanceof v&&e.isDateString()||t instanceof v&&t.isDateString()){return ne+
w g(n(e.toNumber(),t.toNumber()))}return new g(n(e.toString(),t.toString()));default:return new g(n(e.toNumber(),t.toNumber()))}}}return new g(false)},V=function(e){switch(e.nodeType){case 2:case 3:case 4:case 7:case 8:return k(e);case 1:case 9:return e;+
case 13:default:throw new Error("Internal Error: getComparableNode - Node type not supported: "+e.nodeType)}},j=function(e,t){var i,n,r;if(e.nodeType==13&&t.nodeType==13&&e.ownerElement==t.ownerElement){if(e===t)return 0;n=A.call(b,e.ownerElement);for(r=+
0;r<n.length;r++){if(n[r]===e){i=4;break}else if(n[r]===t){i=2;break}}}else{if(e.nodeType==13)e=e.ownerElement;if(t.nodeType==13)t=t.ownerElement;i=Z(e,t)}return i},Z=function(e,t){var i,n,r,o,s,a=function(e,t,i,n,r,o,s,a,l){if(r===0||(r&o)===o){return a+
+o}else if((r&s)===s){return l}else{return r}};if(e.compareDocumentPosition){return e.compareDocumentPosition(t)}if(e===t){return 0}i=V(e);n=V(t);if(i.nodeType===9){if(n.nodeType===9){if(i!==n){return 1}else{r=0}}else{if(i!==n.ownerDocument){return 1}els+
e{r=4+16}}}else{if(n.nodeType===9){if(n!==i.ownerDocument){return 1}else{r=2+8}}else{if(i.ownerDocument!==n.ownerDocument){return 1}else{if(!i.contains||typeof i.sourceIndex==="undefined"||!n.contains||typeof n.sourceIndex==="undefined"){throw new Error(+
'Cannot compare elements. Neither "compareDocumentPosition" nor "contains" available.')}else{r=(i!=n&&i.contains(n)&&16)+(i!=n&&n.contains(i)&&8)+(i.sourceIndex>=0&&n.sourceIndex>=0?(i.sourceIndex<n.sourceIndex&&4)+(i.sourceIndex>n.sourceIndex&&2):1)+0}}+
}}if(e===i&&t===n){return r}else if(e===i){return a(e,i,t,n,r,16,8,4,2)}else if(t===n){return a(t,n,e,i,r,8,16,2,4)}else{if((r&16)===16){return 4}else if((r&8)===8){return 2}else if(r===0){for(o=0;o<i.attributes.length;o++){s=i.attributes[o];if(!s.specif+
ied)continue;if(s===t){return 2}else if(s===e){return 4}}throw new Error("Internal Error: compareDocumentPosition failed to sort attributes.")}else{return r}}},W=function(e){if(!e){throw B(9,"NOT_SUPPORTED_ERR","Context node was not supplied.")}else if(e+
.nodeType!=9&&e.nodeType!=1&&e.nodeType!=2&&e.nodeType!=3&&e.nodeType!=4&&e.nodeType!=8&&e.nodeType!=7&&e.nodeType!=13){throw B(9,"NOT_SUPPORTED_ERR","The supplied node type is not supported. (nodeType: "+e.nodeType+")")}else if(e.nodeType==2&&!e.specifi+
ed){throw B(9,"NOT_SUPPORTED_ERR","The supplied node is a non-specified attribute node. Only specified attribute nodes are supported.")}},G=function(e,t,i){var n,r;for(n=0;n<c.length;n++){r=c[n];if(r.prefix===e&&r.nodeValue===t&&r.ownerElement===i){retur+
n r}}r=new o(e,t,i);c.push(r);return r};m=function(e,t,i){this.value=e;this.type=t;this.supports=i};m.prototype={value:null,type:null,supports:[],toBoolean:function(){throw new Error('Unable to convert "'+this.type+'" to "boolean".')},toString:function()+
{throw new Error('Unable to convert "'+this.type+'" to "string".')},toNumber:function(){throw new Error('Unable to convert "'+this.type+'" to "number".')},toNodeSet:function(){throw new Error('Unable to convert "'+this.type+'" to "node-set".')},toDate:fu+
nction(){throw new Error('Unable to convert "'+this.type+'" to "date".')},canConvertTo:function(e){return false!==U(e,this.supports)}};g=function(e){m.call(this,e,"boolean",["boolean","string","number","date"])};g.prototype=new m;g.constructor=g;g.protot+
ype.toBoolean=function(){return this.value};g.prototype.toString=function(){return this.value===true?"true":"false"};g.prototype.toNumber=function(){return this.value?1:0};g.prototype.toDate=function(){return null};y=function(e,t){m.call(this,e,"node-set+
",["boolean","string","number","node-set","date"]);this.docOrder=t||"unsorted"};y.prototype=new m;y.constructor=y;y.prototype.toBoolean=function(){return this.value.length>0?true:false};y.prototype.toString=function(){if(this.value.length<1){return""}thi+
s.sortDocumentOrder();return q(this.value[0])};y.prototype.toNumber=function(){return new v(this.toString()).toNumber()};y.prototype.toNodeSet=function(){return this.value};y.prototype.toDate=function(){return new v(this.toString()).toDate()};y.prototype+
.sortDocumentOrder=function(){switch(this.docOrder){case"document-order":break;case"reverse-document-order":this.value.reverse();break;default:this.value.sort(function(e,t){var i=j(e,t);if((i&4)==4){return-1}else if((i&2)==2){return 1}else{throw new Erro+
r("NodeSetType.sortDocumentOrder - unexpected compare result: "+i)}});break}this.docOrder="document-order"};y.prototype.sortReverseDocumentOrder=function(){switch(this.docOrder){case"document-order":this.value.reverse();break;case"reverse-document-order"+
:break;default:this.sortDocumentOrder();this.value.reverse();break}this.docOrder="reverse-document-order"};y.prototype.append=function(e){var t=0,i=0,n;if(!(e instanceof y)){throw new Error("NodeSetType can be passed into NodeSetType.append method")}this+
.sortDocumentOrder();e.sortDocumentOrder();while(t<this.value.length&&i<e.value.length){n=j(this.value[t],e.value[i]);if(n==0){i++}else if((n&4)==4){t++}else if((n&2)==2){this.value.splice(t,0,e.value[i]);t++;i++}else{throw new Error("Internal Error: Nod+
eSetType.append - unable to sort nodes. (result: "+n+")")}}for(;i<e.value.length;i++){this.value.push(e.value[i])}this.docOrder="document-order"};y.prototype.stringValues=function(){var e,t,i=[];for(e=0;e<this.value.length;e++){t=new v(q(this.value[e]));+
if(t.isDateString()){t=new w(t.value)}i.push(t)}return i};v=function(e){m.call(this,e,"string",["boolean","string","number","date"])};v.prototype=new m;v.constructor=v;v.prototype.toBoolean=function(){return this.value.length>0?true:false};v.prototype.to+
String=function(){return this.value};v.prototype.toNumber=function(){var e;if(this.isDateString(this.value)){return new w(this.value).toNumber()}e=this.value.match(/^[ \t\r\n]*(-?[0-9]+(?:[.][0-9]*)?)[ \t\r\n]*$/);if(e!==null){return parseFloat(e[1])}e=t+
his.value.match(/^[ \t\r\n]*(-?[.][0-9]+)[ \t\r\n]*$/);if(e!==null){return parseFloat(e[1])}return Number.NaN};v.prototype.toDate=function(){return new w(this.value).toDate()};v.prototype.isDateString=function(){if(!isNaN(this.value)){return false}if(isN+
aN(Date.parse(this.value))){return false}if(!/('|")?[0-9]{4}(-|\/)[0-9]{2}(-|\/)[0-9]{2}('|")?/.test(this.value)){return false}return true};_=function(e){m.call(this,e,"number",["boolean","string","number","date"])};_.prototype=new m;_.constructor=_;_.pr+
ototype.toBoolean=function(){return this.value!==0&&!isNaN(this.value)?true:false};_.prototype.toString=function(){return this.value.toString()};_.prototype.toNumber=function(){return this.value};_.prototype.toDate=function(){return new Date(this.value*(+
1e3*60*60*24))};w=function(e){if(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(e)){e+="T00:00:00.000"+new Date(e).getTimezoneOffsetAsTime()}m.call(this,e,"date",["date","string","number","boolean"])};w.prototype=new m;w.constructor=w;w.prototype.toDate=function(){+
return new Date(this.value)};w.prototype.toString=function(){return new Date(this.value).toISOLocalString()};w.prototype.toNumber=function(){return new Date(this.value).getTime()/(1e3*60*60*24)};w.prototype.toBoolean=function(){return!isNaN(new Date(this+
.value).getTime())};e=function(t,i){var n;this.code=t;switch(this.code){case e.INVALID_EXPRESSION_ERR:this.name="INVALID_EXPRESSION_ERR";break;case e.TYPE_ERR:this.name="TYPE_ERR";break;default:n=new Error("Unsupported XPathException code: "+this.code);n+
.name="XPathExceptionInternalError";throw n}this.message=i||""};e.prototype.toString=function(){return'XPathException: "'+this.message+'"'+', code: "'+this.code+'"'+', name: "'+this.name+'"'};e.INVALID_EXPRESSION_ERR=51;e.TYPE_ERR=52;t=function(e){var t,+
i,n;for(t in e){n=false;for(i in this.opts){if(t===i){this.opts[t]=e[t];n=true;break}}if(n)continue;throw new Error("Unsupported option: "+t)}this.opts["unique-ids"][d]="id";this.opts["unique-ids"][p]="id"};t.prototype={opts:{"unique-ids":{},"case-sensit+
ive":false},createExpression:function(t,n){var r,o,s,a={},l;try{r=ie.parse(t)}catch(t){o="The expression is not a legal expression.";if(t instanceof ie.SyntaxError){o+=" (line: "+t.line+", character: "+t.column+")"}else{o+=" ("+t.message+")"}throw new e(+
e.INVALID_EXPRESSION_ERR,o)}if(r.nsPrefixes.length>0){if(typeof n!="object"||typeof n.lookupNamespaceURI==="undefined"){throw new e(e.INVALID_EXPRESSION_ERR,"No namespace resolver provided or lookupNamespaceURI function not supported.")}for(s=0;s<r.nsPre+
fixes.length;s++){l=r.nsPrefixes[s];a[l]=n.lookupNamespaceURI(l);if(a[l]===null){throw B(14,"NAMESPACE_ERR",'Undefined namespace prefix "'+l+'" in the context of the given resolver.')}}}return new i(r,a,this.opts)},createNSResolver:function(e){return new+
 n(e)},evaluate:function(e,t,i,n,r){e=this.createExpression(e,i);return e.evaluate(t,n,r)}};i=function(e,t,i){this.parsedExpression=e;this.namespaceMapping=t;this.opts=i||{}};i.prototype={parsedExpression:null,namespaceMapping:null,opts:{},evaluate:funct+
ion(e,t){var i;b=this;W(e);i=new h(e,1,1,{},u,this.namespaceMapping,this.opts);return r.factory(i,t,a(i,this.parsedExpression.tree))}};h=function(e,t,i,n,r,o,s){this.node=e;this.pos=t;this.size=i;this.vars=n;this.fns=r;this.nsMap=o;this.opts=s||{}};h.pro+
totype={node:null,pos:null,size:null,vars:null,fns:null,nsMap:null,opts:null,clone:function(e,t,i){return new h(e||this.node,typeof t!="undefined"?t:this.pos,typeof i!="undefined"?i:this.size,this.vars,this.fns,this.nsMap,this.opts)}};n=function(e){W(e);+
this.node=e};n.prototype={node:null,lookupNamespaceURI:function(e){var t=this.node,i,n,r;switch(e){case"xml":return d;case"xmlns":return f;default:switch(this.node.nodeType){case 9:t=t.documentElement;break;case 1:break;default:t=k(t);break}if(t!=null&&t+
.nodeType==1){if(""==e){n=t.getAttribute("xmlns");if(n!==null){return n}}else{if(t.ownerDocument.documentElement===t&&typeof t.ownerDocument.namespaces==="object"){for(i=0;i<t.ownerDocument.namespaces.length;i++){n=t.ownerDocument.namespaces.item(i);if(n+
.name==e){return n.urn}}}for(i=0;i<t.attributes.length;i++){if(!t.attributes[i].specified){continue}if("xmlns:"+e==t.attributes[i].nodeName){return t.attributes[i].nodeValue}}}if(t.ownerDocument.documentElement!==t&&t.parentNode){r=this.node;this.node=t.+
parentNode;n=this.lookupNamespaceURI(e);this.node=r;return n}}return null}}};l={"/":function(e,t){var i,n,r,o,s;if(e===null){n=new y([P(this.node)],"document-order")}else{n=a(this,e);if(!(n instanceof y)){throw new Error("Left side of path separator (/) +
must be of node-set type. (type: "+n.type+")")}}if(t===null){o=n}else{o=new y([],"document-order");for(i=0;i<n.value.length;i++){s=this.clone(n.value[i]);r=a(s,t);if(!(r instanceof y)){throw new Error("Right side of path separator (/) must be of node-set+
 type. (type: "+r.type+")")}o.append(r)}}return o},step:function(e,t){var i,n,r,o,s,l,u;switch(e){case"child":i=new y(x(this.node),"document-order");break;case"descendant":i=new y(L(this.node),"document-order");break;case"parent":r=k(this.node);i=new y(!+
r?[]:[r],"document-order");break;case"ancestor":i=new y(E(this.node),"reverse-document-order");break;case"following-sibling":i=new y(T(this.node),"document-order");break;case"preceding-sibling":i=new y(C(this.node),"reverse-document-order");break;case"fo+
llowing":i=new y(S(this.node),"document-order");break;case"preceding":i=new y(M(this.node),"reverse-document-order");break;case"attribute":i=new y(N(this.node),"document-order");break;case"namespace":i=new y(A.call(this,this.node),"document-order");break+
;case"self":i=new y([this.node],"document-order");break;case"descendant-or-self":o=L(this.node);o.unshift(this.node);i=new y(o,"document-order");break;case"ancestor-or-self":o=E(this.node);o.unshift(this.node);i=new y(o,"reverse-document-order");break;de+
fault:throw new Error("Axis type not supported: "+e)}switch(t.type){case"nodeType":if(t.args[0]=="node"){break}for(n=i.value.length-1;n>=0;n--){switch(t.args[0]){case"text":if(i.value[n].nodeType!=3&&i.value[n].nodeType!=4){i.value.splice(n,1)}break;case+
"comment":if(i.value[n].nodeType!=8){i.value.splice(n,1)}break;case"processing-instruction":if(i.value[n].nodeType!=7||t.args[1].length>0&&a(this,t.args[1][0])!=i.value[n].nodeName){i.value.splice(n,1)}break}}break;case"name":s=a(this,t);switch(e){case"a+
ttribute":l=2;break;case"namespace":l=13;break;default:l=1;break}for(n=i.value.length-1;n>=0;n--){if(i.value[n].nodeType!=l){i.value.splice(n,1);continue}if(s.ns===null&&s.name===null){continue}u=F.call(this,i.value[n]);if(u===false||u.ns!==s.ns){i.value+
.splice(n,1);continue}if(s.name!==null&&u.name.toLowerCase()!=s.name.toLowerCase()){i.value.splice(n,1)}}break;default:throw new Error("NodeTest type not supported in step: "+t.type)}return i},predicate:function(e,t,i){var n,r,o,s,l,u;n=a(this,t);if(!(n +
instanceof y)){throw new Error('Expected "node-set", got: '+n.type)}switch(e){case"ancestor":case"ancestor-or-self":case"preceding":case"preceding-sibling":n.sortReverseDocumentOrder();break;default:n.sortDocumentOrder();break}for(s=0;s<i.length;s++){for+
(r=0,l=1,u=n.value.length;r<n.value.length;l++){o=a(this.clone(n.value[r],l,u),i[s]);if(o instanceof _){if(o.value!=l){n.value.splice(r,1);continue}}else if(!o.toBoolean()){n.value.splice(r,1);continue}r++}}return n},function:function(e,t){var i,n=[],r=f+
unction(e){return(e.ns!==null?"{"+e.ns+"}":"{}")+e.name},o=function(e){var t,i=[],n;for(t=0;t<e.length;t++){n=e[t].t===undefined?"object":e[t].t;if(e[t].r!==false){if(e[t].rep===true){n+="+"}}else{if(e[t].rep===true){n+="*"}else{n+="?"}}i.push(n)}return"+
("+i.join(", ")+")"},s,l,u=0,h=[],c;i=a(this,e);if(i.ns===null){i.ns=""}if(!this.fns[i.ns]||!this.fns[i.ns][i.name]){throw new Error('Function "'+r(i)+'" does not exist.')}s=this.fns[i.ns][i.name];if(!s.args)s.args=[];for(l=0,u=0;l<s.args.length;u++,l++)+
{if(t[u]===undefined){if(s.args[l].r!==false){throw new Error('Function "'+r(i)+'" expects '+o(s.args)+".")}}else{h.push(s.args[l].t===undefined?"object":s.args[l].t)}if(s.args[l].rep===true){for(;u<t.length;u++){h.push(s.args[l].t===undefined?"object":s+
.args[l].t)}break}}if(h.length<t.length){throw new Error('Function "'+r(i)+'" expects '+o(s.args)+".")}for(l=0;l<t.length;l++){c=a(this,t[l]);if(h[l]!=="object"&&!c.canConvertTo(h[l])){throw new Error('Function "'+r(i)+'" expects '+o(s.args)+"."+'Cannot +
convert "'+c.type+'" to "'+h[l]+'".')}n.push(c)}var d=s.fn.apply(this,n);if(!(d instanceof m)){throw new Error('Function "'+r(i)+'" did not return a value that inherits from BaseType.')}else if(s.ret!=="object"&&!d.canConvertTo(s.ret)){throw new Error('F+
unction "'+r(i)+'" return "'+d.type+'" type that cannot be converted to "'+s.ret+'".')}return d},"|":function(e,t){e=a(this,e);t=a(this,t);if(typeof e=="undefined"||typeof t=="undefined"||!(e instanceof y)||!(t instanceof y)){throw new Error('Unable to p+
erform union on non-"node-set" types.')}e.append(t);return e},or:function(e,t){if(a(this,e).toBoolean()){return new g(true)}return new g(a(this,t).toBoolean())},and:function(e,t){if(a(this,e).toBoolean()){return new g(a(this,t).toBoolean())}return new g(+
false)},"=":function(e,t){return H.call(this,a(this,e),a(this,t),"=",function(e,t){return e==t})},"!=":function(e,t){return H.call(this,a(this,e),a(this,t),"!=",function(e,t){return e!=t})},"<=":function(e,t){return H.call(this,a(this,e),a(this,t),"<=",f+
unction(e,t){return e<=t})},"<":function(e,t){return H.call(this,a(this,e),a(this,t),"<",function(e,t){return e<t})},">=":function(e,t){return H.call(this,a(this,e),a(this,t),">=",function(e,t){return e>=t})},">":function(e,t){return H.call(this,a(this,e+
),a(this,t),">",function(e,t){return e>t})},"+":function(e,t){return new _(a(this,e).toNumber()+a(this,t).toNumber())},"-":function(e,t){return new _(a(this,e).toNumber()-a(this,t).toNumber())},div:function(e,t){return new _(a(this,e).toNumber()/a(this,t+
).toNumber())},mod:function(e,t){return new _(a(this,e).toNumber()%a(this,t).toNumber())},"*":function(e,t){return new _(a(this,e).toNumber()*a(this,t).toNumber())},string:function(e){return new v(e)},number:function(e){return new _(e)},$:function(){thro+
w new Error("TODO: Not implemented.16")},name:function(e,t){var i=null;if(e!==null){i=this.nsMap[e];if(!i){throw new Error('Namespace prefix "'+e+'" is not mapped to a namespace.')}}return{ns:i,name:t}}};u={"":{last:{fn:function(){return new _(this.size)+
},ret:"number"},count:{fn:function(e){return new _(e.toNodeSet().length)},args:[{t:"node-set"}],ret:"number"},id:{fn:function(e){var t=this,i=[],n,r,o,s=[],a=function(e){var t,i=e.split(/[\u0020\u0009\u000D\u000A]+/);for(t=i.length-1;t>=0;t--){if(i[t].le+
ngth==0){i.splice(t,1)}}return i};if(e instanceof y){for(n=0;n<e.value.length;n++){i.push.apply(i,a(q(e.value[n])))}}else{e=e.toString();i=a(e)}for(n=i.length-1;n>=0;n--){for(r=n-1;r>=0;r--){if(i[n]==i[r]&&n!=r){i.splice(n,1);break}}}for(n=0;n<i.length;n+
++){o=P(this.node).getElementById(i[n]);if(o){if($.call(this,o)){s.push(o);continue}}z(P(this.node),true,function(e,r){var o=$.call(t,e,r);if(o&&o.nodeValue==i[n]){s.push(e);return true}})}return new y(s)},args:[{}],ret:"node-set"},"local-name":{fn:funct+
ion(e){var t,i="";if(arguments.length==0){e=new y([this.node])}if(e.toNodeSet().length>0){e.sortDocumentOrder();t=F.call(this,e.value[0]);if(t!==false){i=t.name}}return new v(i)},args:[{t:"node-set",r:false}],ret:"string"},"namespace-uri":{fn:function(e)+
{var t,i="";if(arguments.length==0){e=new y([this.node])}if(e.toNodeSet().length>0){e.sortDocumentOrder();t=F.call(this,e.value[0]);if(t!==false&&t.ns!==null){i=t.ns}}return new v(i)},args:[{t:"node-set",r:false}],ret:"string"},name:{fn:function(e){var t+
,i="";if(arguments.length==0){e=new y([this.node])}if(e.toNodeSet().length>0){e.sortDocumentOrder();t=F.call(this,e.value[0]);if(t!==false){i=t.prefix&&t.prefix.length>0?t.prefix+":"+t.name:t.name}}return new v(i)},args:[{t:"node-set",r:false}],ret:"stri+
ng"},string:{fn:function(e){if(arguments.length==0){e=new y([this.node],"document-order")}return new v(e.toString())},args:[{t:"object",r:false}],ret:"string"},"starts-with":{fn:function(e,t){return new g(e.toString().substr(0,(t=t.toString()).length)==t+
)},args:[{t:"string"},{t:"string"}],ret:"string"},contains:{fn:function(e,t){return new g(e.toString().indexOf(t=t.toString())!=-1)},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-before":{fn:function(e,t){e=e.toString();t=e.indexOf(t.toString+
());return new v(t==-1?"":e.substr(0,t))},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-after":{fn:function(e,t){var i;e=e.toString();t=t.toString();i=e.indexOf(t);return new v(i==-1?"":e.substr(i+t.length))},args:[{t:"string"},{t:"string"}],+
ret:"string"},substring:{fn:function(e,t,i){e=e.toString();t=Math.round(t.toNumber())-1;return new v(isNaN(t)?"":arguments.length==2?e.substring(t<0?0:t):e.substring(t<0?0:t,t+Math.round(i.toNumber())))},args:[{t:"string"},{t:"number"},{t:"number",r:fals+
e}],ret:"string"},"string-length":{fn:function(e){e=arguments.length==0?q(this.node):e.toString();return new _(e.length)},args:[{t:"string",r:false}],ret:"number"},"normalize-space":{fn:function(e){e=arguments.length==0?q(this.node):e.toString();return n+
ew v(e.replace(/^[\u0020\u0009\u000D\u000A]+/,"").replace(/[\u0020\u0009\u000D\u000A]+$/,"").replace(/[\u0020\u0009\u000D\u000A]+/g," "))},args:[{t:"string",r:false}],ret:"string"},translate:{fn:function(e,t,i){var n="",r,o,s;e=e.toString();t=t.toString(+
);i=i.toString();for(r=0;r<e.length;r++){if((o=t.indexOf(s=e.charAt(r)))==-1||(s=i.charAt(o)))n+=s}return new v(n)},args:[{t:"string"},{t:"string"},{t:"string"}],ret:"string"},boolean:{fn:function(e){return new g(e.toBoolean())},args:[{r:true}],ret:"bool+
ean"},not:{fn:function(e){return new g(!e.toBoolean())},args:[{t:"boolean"}],ret:"boolean"},true:{fn:function(){return new g(true)},ret:"boolean"},false:{fn:function(){return new g(false)},ret:"boolean"},lang:{fn:function(e){var t=this.node,i,n,r,o=e.toS+
tring().toLowerCase().split("-"),s,a,l,u;for(;t.nodeType!=9;t=k(t)){i=N(t);for(a=0;a<i.length;a++){n=i[a].nodeName.split(":");if(n.length===1){n[1]=n[0];n[0]=""}if(n[1]=="lang"){r=i[a].nodeValue.toLowerCase().split("-");if(r.length<o.length)continue;u=tr+
ue;for(l=0;l<o.length;l++){if(o[l]!=r[l]){u=false;break}}if(u){s=A.call(this,t);for(l=0;l<s.length;l++){if(s[l].prefix==n[0]&&s[l].nodeValue==d){return new g(true)}}}}}}return new g(false)},args:[{t:"string"}],ret:"boolean"},number:{fn:function(e){if(arg+
uments.length==0){e=new y([this.node],"document-order")}return new _(e.toNumber())},args:[{t:"object",r:false}],ret:"number"},sum:{fn:function(e){var t,i=0;e=e.toNodeSet();for(t=0;t<e.length;t++){i+=new v(q(e[t])).toNumber()}return new _(i)},args:[{t:"no+
de-set"}],ret:"number"},floor:{fn:function(e){return new _(Math.floor(e))},args:[{t:"number"}],ret:"number"},ceiling:{fn:function(e){return new _(Math.ceil(e))},args:[{t:"number"}],ret:"number"},"count-non-empty":{fn:function(e){var t;var i=0;e=e.toNodeS+
et();for(t=0;t<e.length;t++){if(new v(q(e[t])).toString().length>0){i++}}return new _(i)},args:[{t:"node-set"}],ret:"number"},position:{fn:function(e){if(e){var t,i,n;e=e.toNodeSet();if(e.length===1){t=e[0];n=1;i=t.tagName;while(t.previousElementSibling&+
&t.previousElementSibling.tagName===i){t=t.previousElementSibling;n++}return new _(n)}else{throw new Error("nodeset provided to position() contained multiple nodes")}}return new _(this.pos)},args:[{t:"node-set",r:false}],ret:"number"},concat:{fn:function+
(){var e,t,i="";for(e=0;e<arguments.length;e++){if(arguments[e]instanceof y){t=arguments[e].stringValues().join("")}else{t=arguments[e].toString()}i+=t}return new v(i)},args:[{t:"object",r:false,rep:true}],ret:"string"},round:{fn:function(e,t){t=Math.rou+
nd(t)||0;return new _(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},args:[{t:"number"},{t:"number",r:false}],ret:"number"},selected:{fn:function(e,t){var i;t=t.toString().trim();i=e.toString();return new g((" "+i+" ").indexOf(" "+t+" ")!=-1)},args:[{t:"o+
bject"},{t:"string"}],ret:"boolean"},"selected-at":{fn:function(e,t){var i,n,r;t=Math.round(t.toNumber());i=e.toString();n=i.split(" ");r=t>=0&&t<n.length?n[t]:"";return new v(r)},args:[{t:"object"},{t:"number"}],ret:"string"},"count-selected":{fn:functi+
on(e){var t=[];e=e.toNodeSet();if(e.length>0){t=q(e[0]).trim().split(" ");return t.length==1&&t[0]===""?new _(0):new _(t.length)}return new _(0)},args:[{t:"node-set"}],ret:"number"},checklist:{fn:function(e,t){var i,n,r=0;e=e.toNumber();t=t.toNumber();fo+
r(i=2;i<arguments.length;i++){if(arguments[i]instanceof y){for(n=0;n<arguments[i].stringValues().length;n++){if(arguments[i].stringValues()[n].toBoolean()===true){r++}}}else if(arguments[i].toBoolean()===true){r++}}return new g((e<0||r>=e)&&(t<0||r<=t))}+
,args:[{t:"number"},{t:"number"},{t:"object"},{t:"object",r:false,rep:true}],ret:"boolean"},"weighted-checklist":{fn:function(e,t){var i,n=[],r=[],o=0;e=e.toNumber();t=t.toNumber();for(i=2;i<arguments.length;i=i+2){var s=arguments[i];var a=arguments[i+1]+
;if(s&&a){if(s instanceof y){n=n.concat(s.stringValues())}else{n.push(s)}if(a instanceof y){r=r.concat(a.stringValues())}else{r.push(a)}}}for(i=0;i<n.length;i++){if(n[i].toBoolean()===true){o+=r[i].toNumber()}}return new g((e<0||o>=e)&&(t<0||o<=t))},args+
:[{t:"number"},{t:"number"},{t:"object"},{t:"object"},{t:"object",r:false,rep:true}],ret:"boolean"},"boolean-from-string":{fn:function(e){return new g(e.toString().toLowerCase()==="true"||String(e)==="1")},args:[{t:"string"}],ret:"boolean"},if:{fn:functi+
on(e,t,i){return e.toBoolean()?t:i},args:[{t:"object"},{t:"object"},{t:"object"}],ret:"object"},date:{fn:function(e){return new w(e.toDate())},args:[{t:"object"}],ret:"string"},"date-time":{fn:function(e){return new w(e.toDate())},args:[{t:"object"}],ret+
:"string"},"decimal-date-time":{fn:function(e){var t=1e3*60*60*24;var i=1e3;var n=e.toDate();var r;if(n.toString()!=="Invalid Date"){r=Math.round(n.getTime()*i/t)/i}else{r=Number.NaN}return new _(r)},args:[{t:"object"}],ret:"number"},"decimal-time":{fn:f+
unction(e){var t=e.toString().match(/^(\d\d):(\d\d):(\d\d)(\.\d\d?\d?)?(\+|-)(\d\d):(\d\d)$/);var i=1e3;var n;if(t&&t[1]<24&&t[1]>=0&&t[2]<60&&t[2]>=0&&t[3]<60&&t[3]>=0&&t[6]<24&&t[6]>=0&&t[7]<60&&t[7]>=0){var r=function(e){return e<10?"0"+e:e};var o=new+
 Date;var s=new Date(o.getFullYear()+"-"+r(o.getMonth()+1)+"-"+r(o.getDate())+"T"+e);if(s.toString()==="Invalid Date"){n=Number.NaN}else{n=Math.round((s.getSeconds()/3600+s.getMinutes()/60+s.getHours())*i/24)/i}}else{n=Number.NaN}return new _(n)},args:[{+
t:"string"}],ret:"number"},today:{fn:function(){var e=new Date;return new w(new Date(e.getFullYear(),e.getMonth(),e.getDate()))},ret:"string"},now:{fn:function(){return new w(new Date)},ret:"string"},regex:{fn:function(e,t){var i,n;i=e.toString();n=new R+
egExp(t);return new g(n.test(i))},args:[{t:"object"},{t:"string"}],ret:"boolean"},uuid:{fn:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)});return new v(+
e)},ret:"string"},int:{fn:function(e){return new _(e.toNumber()>=0?Math.floor(e.toNumber()):-Math.floor(Math.abs(e.toNumber())))},args:[{t:"string"}],ret:"number"},substr:{fn:function(e,t,i){e=e.toString();var n=e.length;t=Math.round(t.toNumber());i=i?Ma+
th.round(i.toNumber()):n;return new v(isNaN(t)?"":e.substring(t<0?n+t:t,i<0?n+i:i))},args:[{t:"string"},{t:"number"},{t:"number",r:false}],ret:"string"},random:{fn:function(){return new _(Math.random().toFixed(15))},ret:"number"},min:{fn:function(){var e+
,t,i,n,r;for(e=0;e<arguments.length;e++){if(arguments[e]instanceof y){r=arguments[e].toNodeSet();for(t=0;t<r.length;t++){n=new v(q(r[t]));if(n){i=typeof i!=="undefined"?Math.min(i,n.toNumber()):n.toNumber()}}if(r.length===0){i=NaN}}else{n=new v(arguments+
[e].toString());if(n){i=typeof i!=="undefined"?Math.min(i,n.toNumber()):n.toNumber()}}}return new _(i)},args:[{t:"object"},{t:"object",r:false,rep:true}],ret:"number"},max:{fn:function(){var e,t,i,n,r;for(e=0;e<arguments.length;e++){if(arguments[e]instan+
ceof y){r=arguments[e].toNodeSet();for(t=0;t<r.length;t++){n=new v(q(r[t]));if(n){i=typeof i!=="undefined"?Math.max(i,n.toNumber()):n.toNumber()}}if(r.length===0){i=NaN}}else{n=new v(arguments[e].toString());if(n){i=typeof i!=="undefined"?Math.max(i,n.to+
Number()):n.toNumber()}}}return new _(i)},args:[{t:"object"},{t:"object",r:false,rep:true}],ret:"number"},join:{fn:function(e){var t,i=[];for(t=1;t<arguments.length;t++){if(arguments[t]instanceof y){i=i.concat(arguments[t].stringValues())}else{i.push(arg+
uments[t].toString())}}var n=i[0]||"";for(t=1;t<i.length;t++){n+=e.toString()+i[t]}return new v(n)},args:[{t:"string"},{t:"object",r:false,rep:true}],ret:"string"},coalesce:{fn:function(e,t){return e.toString().length>0?e:t},args:[{t:"object"},{t:"object+
"}],ret:"string"},"format-date":{fn:function(e,t){var i;e=new w(e);var n=e.toDate();var r=t.toString();var o=function(e,t){var n=e.toString(),r=t-n.length;for(i=0;i<r;i++){n="0"+n}return n};var s=window?window.enketoFormLocale:undefined;if(!e.toBoolean()+
){return new v(n.toString())}var a={Y:n.getFullYear(),y:n.getFullYear().toString().substring(2,4),m:o(n.getMonth()+1,2),n:n.getMonth()+1,b:n.toLocaleDateString(s,{month:"short"}),d:o(n.getDate(),2),e:n.getDate(),H:o(n.getHours(),2),h:n.getHours(),M:o(n.g+
etMinutes(),2),S:o(n.getSeconds(),2),3:o(n.getMilliseconds(),3),a:n.toLocaleDateString(s,{weekday:"short"})};for(var l in a){r=r.replace("%"+l,a[l])}return new v(r)},args:[{t:"date"},{t:"string"}],ret:"string"},pow:{fn:function(e,t){return new _(Math.pow+
(e,t))},args:[{t:"number"},{t:"number"}],ret:"number"},sin:{fn:function(e){return new _(Math.sin(e))},args:[{t:"number"}],ret:"number"},cos:{fn:function(e){return new _(Math.cos(e))},args:[{t:"number"}],ret:"number"},tan:{fn:function(e){return new _(Math+
.tan(e))},args:[{t:"number"}],ret:"number"},acos:{fn:function(e){return new _(Math.acos(e))},args:[{t:"number"}],ret:"number"},asin:{fn:function(e){return new _(Math.asin(e))},args:[{t:"number"}],ret:"number"},atan:{fn:function(e){return new _(Math.atan(+
e))},args:[{t:"number"}],ret:"number"},atan2:{fn:function(e,t){return new _(Math.atan2(e,t))},args:[{t:"number"},{t:"number"}],ret:"number"},log10:{fn:function(e){if(typeof Math.log10!=="undefined"){return new _(Math.log10(e))}else{return new _(Math.log(+
e)/Math.LN10)}},args:[{t:"number"}],ret:"number"},log:{fn:function(e){return new _(Math.log(e))},args:[{t:"number"}],ret:"number"},pi:{fn:function(){return new _(Math.PI)},args:[],ret:"number"},exp:{fn:function(e){return new _(Math.exp(e))},args:[{t:"num+
ber"}],ret:"number"},exp10:{fn:function(e){return new _(Math.pow(10,e))},args:[{t:"number"}],ret:"number"},sqrt:{fn:function(e){return new _(Math.sqrt(e))},args:[{t:"number"}],ret:"number"},once:{fn:function(e){var t=q(this.node),i=e.toString();i=i==="Na+
N"?"":i;return t!==""?new v(t):new v(i)},args:[{t:"string"}],ret:"string"},area:{fn:function(e){var t=[];if(e instanceof y&&e.value.length>1){e.value.forEach(function(e){t.push(q(e))})}else if(e instanceof y){t=q(e.value[0]).split(";")}else if(e instance+
of v){t=e.value.split(";")}return new _(ge.area(t))},args:[{t:"string"}],ret:"number"},distance:{fn:function(e){var t=[];if(e instanceof y&&e.value.length>1){e.value.forEach(function(e){t.push(q(e))})}else if(e instanceof y){t=q(e.value[0]).split(";")}el+
se if(e instanceof v){t=e.value.split(";")}return new _(ge.distance(t))},args:[{t:"string"}],ret:"number"},"ends-with":{fn:function(e,t){return new g(e.toString().substr(e.toString().length-t.toString().length)===t.toString())},args:[{t:"string"},{t:"str+
ing"}],ret:"string"},abs:{fn:function(e){return new _(Math.abs(e))},args:[{t:"number"}],ret:"number"},randomize:{fn:function(e,t){var i=t?t.toNumber():undefined;return new y(ae(e.toNodeSet(),i),"document-order")},args:[{t:"node-set"},{t:"number",r:false}+
],ret:"node-set"}}};u[""]["format-date-time"]=u[""]["format-date"];a=function(e,t){if(typeof l[t.type]!="function"){throw new Error("Internal Error: Expression type does not exist: "+t.type)}return l[t.type].apply(e,t.args)};r=function(t,i,n){switch(i){c+
ase r.NUMBER_TYPE:this.resultType=r.NUMBER_TYPE;this.numberValue=n.toNumber();break;case r.STRING_TYPE:this.resultType=r.STRING_TYPE;this.stringValue=n.toString();break;case r.BOOLEAN_TYPE:this.resultType=r.BOOLEAN_TYPE;this.booleanValue=n.toBoolean();br+
eak;case r.UNORDERED_NODE_ITERATOR_TYPE:case r.ORDERED_NODE_ITERATOR_TYPE:case r.UNORDERED_NODE_SNAPSHOT_TYPE:case r.ORDERED_NODE_SNAPSHOT_TYPE:case r.ANY_UNORDERED_NODE_TYPE:case r.FIRST_ORDERED_NODE_TYPE:if(!(n instanceof y)){throw new Error('Expected +
result of type "node-set", got: "'+n.type+'"')}this.resultType=i;switch(i){case r.UNORDERED_NODE_ITERATOR_TYPE:case r.UNORDERED_NODE_SNAPSHOT_TYPE:this._value=n.toNodeSet();this.snapshotLength=this._value.length;break;case r.ORDERED_NODE_ITERATOR_TYPE:ca+
se r.ORDERED_NODE_SNAPSHOT_TYPE:n.sortDocumentOrder();this._value=n.toNodeSet();this.snapshotLength=this._value.length;break;case r.ANY_UNORDERED_NODE_TYPE:n=n.toNodeSet();this.singleNodeValue=n.length?n[0]:null;break;case r.FIRST_ORDERED_NODE_TYPE:n.sor+
tDocumentOrder();n=n.toNodeSet();this.singleNodeValue=n.length?n[0]:null;break;default:throw new e(e.TYPE_ERR,"XPath result type not supported. (type: "+i+")")}break;default:throw new e(e.TYPE_ERR,"XPath result type not supported. (type: "+i+")")}};r.fac+
tory=function(t,i,n){var o;if(i!==r.ANY_TYPE){return new r(t,i,n)}if(n instanceof y){o=new r(t,r.UNORDERED_NODE_ITERATOR_TYPE,n)}else if(n instanceof _){o=new r(t,r.NUMBER_TYPE,n)}else if(n instanceof g){o=new r(t,r.BOOLEAN_TYPE,n)}else if(n instanceof v+
){o=new r(t,r.STRING_TYPE,n)}else{throw new e(e.TYPE_ERR,"Internal Error: Unsupported value type: "+typeof n)}return o};r.prototype={resultType:null,numberValue:null,stringValue:null,booleanValue:null,singleNodeValue:null,invalidIteratorState:null,snapsh+
otLength:null,_iteratorIndex:0,iterateNext:function(){if(this.resultType!=r.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=r.ORDERED_NODE_ITERATOR_TYPE){throw new e(e.TYPE_ERR,"iterateNext() method may only be used with results of type UNORDERED_NODE_ITE+
RATOR_TYPE or ORDERED_NODE_ITERATOR_TYPE")}if(this._iteratorIndex<this._value.length){return this._value[this._iteratorIndex++]}return null},snapshotItem:function(t){if(this.resultType!=r.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=r.ORDERED_NODE_SNAP+
SHOT_TYPE){throw new e(e.TYPE_ERR,"snapshotItem() method may only be used with results of type UNORDERED_NODE_SNAPSHOT_TYPE or ORDERED_NODE_SNAPSHOT_TYPE")}return this._value[t]}};r.ANY_TYPE=0;r.NUMBER_TYPE=1;r.STRING_TYPE=2;r.BOOLEAN_TYPE=3;r.UNORDERED_+
NODE_ITERATOR_TYPE=4;r.ORDERED_NODE_ITERATOR_TYPE=5;r.UNORDERED_NODE_SNAPSHOT_TYPE=6;r.ORDERED_NODE_SNAPSHOT_TYPE=7;r.ANY_UNORDERED_NODE_TYPE=8;r.FIRST_ORDERED_NODE_TYPE=9;o=function(e,t,i){if(i.nodeType!=1){throw new Error("Internal Error: XPathNamespac+
e owner element must be an Element node.")}this.ownerElement=i;this.ownerDocument=i.ownerDocument;this.nodeName="#namespace";this.prefix=e;this.localName=e;this.nodeType=o.XPATH_NAMESPACE_NODE;this.namespaceURI=t;this.nodeValue=t};o.XPATH_NAMESPACE_NODE=+
13;s={XPathException:e,XPathEvaluator:t,XPathNSResolver:n,XPathExpression:i,XPathResult:r,XPathNamespace:o,customXPathFunction:{type:{StringType:v,NumberType:_,NodeSetType:y,BooleanType:g},add:function(e,t){u[""][e]=t},remove:function(e){delete u[""][e]}+
},getCurrentDomLevel3XPathBindings:function(){return{window:{XPathException:window.XPathException,XPathExpression:window.XPathExpression,XPathNSResolver:window.XPathNSResolver,XPathResult:window.XPathResult,XPathNamespace:window.XPathNamespace},document:+
{createExpression:document.createExpression,createNSResolver:document.createNSResolver,evaluate:document.evaluate}}},createDomLevel3XPathBindings:function(s){var a=new t(s);return{window:{XPathException:e,XPathExpression:i,XPathNSResolver:n,XPathResult:r+
,XPathNamespace:o},document:{createExpression:function(){return a.createExpression.apply(a,arguments)},createNSResolver:function(){return a.createNSResolver.apply(a,arguments)},evaluate:function(){return a.evaluate.apply(a,arguments)}}}},bindDomLevel3XPa+
th:function(e,t){var i=t||s.createDomLevel3XPathBindings(),n=s.getCurrentDomLevel3XPathBindings(),r;e=e||document;for(r in i["window"]){window[r]=i["window"][r]}for(r in i["document"]){e[r]=i["document"][r]}return n}};return s}();function _e(e){const t=n+
ew ve.XPathEvaluator;if(typeof e==="function"){e(ve)}ve.bindDomLevel3XPath(this.xml,{window:{JsXPathException:true,JsXPathExpression:true,JsXPathNSResolver:true,JsXPathResult:true,JsXPathNamespace:true},document:{jsCreateExpression(...e){return t.createE+
xpression(...e)},jsCreateNSResolver(...e){return t.createNSResolver(...e)},jsEvaluate(...e){return t.evaluate(...e)}}})}const ye="repeat:/";const we=/instance\(\s*(["'])((?:(?!\1)[A-z0-9.\-_]+))\1\s*\)/g;const be=/(decimal-date-time\(|pow\(|indexed-repea+
t\(|format-date\(|coalesce\(|join\(|max\(|min\(|random\(|substr\(|int\(|uuid\(|regex\(|now\(|today\(|date\(|if\(|boolean-from-string\(|checklist\(|selected\(|selected-at\(|round\(|area\(|position\([^)])/;const xe="http://openrosa.org/xforms";const Le="ht+
tp://openrosa.org/javarosa";const ke="http://enketo.org/xforms";const Ee=new DOMParser;let Te;let Ce;Te=function(e,t){if(typeof e==="string"){e={modelStr:e}}e.external=e.external||[];e.submitted=typeof e.submitted!=="undefined"?e.submitted:true;t=t||{};t+
.full=typeof t.full!=="undefined"?t.full:true;this.events=document.createElement("div");this.convertedExpressions={};this.templates={};this.loadErrors=[];this.data=e;this.options=t;this.namespaces={}};Te.prototype={get version(){return this.evaluate("/no+
de()/@version","string",null,null,true)},get instanceID(){return this.getMetaNode("instanceID").getVal()},get deprecatedID(){return this.getMetaNode("deprecatedID").getVal()||""},get instanceName(){return this.getMetaNode("instanceName").getVal()}};Te.pr+
ototype.init=function(){let e;let t;let i;let n;const r=this;this.data.modelStr=this.data.modelStr.replace(/\s(xmlns=("|')[^\s>]+("|'))/g," data-$1");if(!this.options.full){this.data.modelStr=this.data.modelStr.replace(/^(<model\s*><instance((?!<instance+
).)+<\/instance\s*>\s*)(<instance.+<\/instance\s*>)*/,"$1")}try{e="model";this.xml=Ee.parseFromString(this.data.modelStr,"text/xml");this.throwParserErrors(this.xml,this.data.modelStr);this.data.external.forEach(o=>{e=`instance "${o.id}"`||"instance unkn+
own";i=r.getSecondaryInstance(o.id);n=i.children;for(t=n.length-1;t>=0;t--){i.removeChild(n[t])}let s;if(o.xml instanceof XMLDocument||o.xml instanceof Document){if(window.navigator.userAgent.indexOf("Trident/")>=0){s=r.importNode(o.xml.documentElement,t+
rue)}else{s=r.xml.importNode(o.xml.documentElement,true)}}if(s){i.appendChild(s)}});this.createSession("__session",this.data.session)}catch(t){console.error("parseXML error");this.loadErrors.push(`Error trying to parse XML ${e}. ${t.message}`)}if(this.xm+
l){try{this.hasInstance=!!this.xml.querySelector("model > instance");this.rootElement=this.xml.querySelector("instance > *")||this.xml.documentElement;this.setNamespaces();if(!this.getMetaNode("instanceID").getElement()){r.loadErrors.push("Invalid primar+
y instance. Missing instanceID node.")}Array.prototype.slice.call(this.xml.querySelectorAll("model > instance[src]:empty")).forEach(e=>{r.loadErrors.push(`External instance "${e.id}" is empty.`)});this.trimValues();this.extractTemplates()}catch(e){consol+
e.error(e);this.loadErrors.push(`${e.name}: ${e.message}`)}try{e="record";if(this.data.instanceStr){this.mergeXml(this.data.instanceStr)}this.setInstanceIdAndDeprecatedId()}catch(t){console.error(t);this.loadErrors.push(`Error trying to parse XML ${e}. $+
{t.message}`)}}return this.loadErrors};Te.prototype.throwParserErrors=((e,t)=>{if(!e||e.querySelector("parsererror")){throw new Error(`Invalid XML: ${t}`)}});Te.prototype.createSession=function(e,t){let i;let n;const r=this.xml.querySelector("model");con+
st o=["deviceid","username","email","phonenumber","simserial","subscriberid"];if(!r){return}t=typeof t==="object"?t:{};i=r.querySelector(`instance[id="${e}"]`);if(!i){i=Ee.parseFromString(`<instance id="${e}"/>`,"text/xml").documentElement;this.xml.adopt+
Node(i);r.appendChild(i)}o.forEach(e=>{t[e]=t[e]||m(`__enketo_meta_${e}`)||`${e} not found`});n=Ee.parseFromString(`<session><context>${o.map(e=>`<${e}>${t[e]}</${e}>`).join("")}</context></session>`,"text/xml").documentElement;this.xml.adoptNode(n);i.ap+
pendChild(n)};Te.prototype.getSecondaryInstance=function(e){let t;[].slice.call(this.xml.querySelectorAll("model > instance")).some(i=>{const n=i.getAttribute("id");if(n===e){t=i;return true}else{return false}});return t};Te.prototype.node=function(e,t,i+
){return new Ce(e,t,i,this)};Te.prototype.importNode=function(e,t){let i;let n;switch(e.nodeType){case document.ELEMENT_NODE:{const r=document.createElementNS(e.namespaceURI,e.nodeName);if(e.attributes&&e.attributes.length>0){for(i=0,n=e.attributes.lengt+
h;i<n;i++){const t=e.attributes[i];if(t.namespaceURI){r.setAttributeNS(t.namespaceURI,t.nodeName,e.getAttributeNS(t.namespaceURI,t.localName))}else{r.setAttribute(t.nodeName,e.getAttribute(t.nodeName))}}}if(t&&e.children.length){for(i=0,n=e.children.leng+
th;i<n;i++){r.appendChild(this.importNode(e.children[i],t))}}if(!e.children.length&&e.textContent){r.textContent=e.textContent}return r}case document.TEXT_NODE:case document.CDATA_SECTION_NODE:case document.COMMENT_NODE:return document.createTextNode(e.n+
odeValue)}};Te.prototype.mergeXml=function(e){let t;let i;let n;let r;let o;const s=this;let a;let u;if(!e){return}n=this.xml.querySelector("instance");r=this.xml.querySelector("instance > *");if(!r){throw new Error("Model is corrupt. It does not contain+
 a childnode of instance")}e=e.replace(/\s(xmlns=("|')[^\s>]+("|'))/g,"");e=e.replace(/<!--[^>]*-->/g,"");u=Ee.parseFromString(e,"text/xml");a=u.querySelectorAll("[*|template]");for(let e=0;e<a.length;e++){a[e].remove()}Array.prototype.slice.call(u.query+
SelectorAll("*")).forEach(e=>{let t;let i=0;let n;let r;try{t=s.getXPath(e,"instance",false);if(typeof s.templates[t]!=="undefined"||s.getRepeatIndex(e)>0){n=s.getXPath(e,"instance",true);if(!s.evaluate(n,"node",null,null,true)){r=n.match(/([^[]+)\[(\d+)+
\]\//g);if(r&&r.length>0){i=r[r.length-1].match(/\[(\d+)\]/)[1]-1}s.addRepeat(t,i,true)}}}catch(e){console.log("Ignored error:",e)}});Array.prototype.slice.call(u.querySelectorAll("*")).filter(e=>{const t=e.textContent;return e.children.length===0&&t.tri+
m().length===0}).forEach(e=>{const t=s.getXPath(e,"instance",true);const i=s.node(t,0).getElement();if(i){if(s.evaluate("./*","nodes",t,0,true).length===0){s.evaluate("./text()","nodes",t,0,true).forEach(e=>{e.textContent=""})}else{s.evaluate(".//*[not(*+
)]","nodes",t,0,true).forEach(e=>{e.textContent=""})}}});i=new l({join:false});t=(new XMLSerializer).serializeToString(r);e=(new XMLSerializer).serializeToString(u);i.AddSource(t);i.AddSource(e);if(i.error.code){throw new Error(i.error.text)}o=Ee.parseFr+
omString(i.Get(1),"text/xml");this.xml.querySelector("instance").removeChild(r);if(window.navigator.userAgent.indexOf("Trident/")>=0){r=this.importNode(o.documentElement,true)}else{r=this.xml.adoptNode(o.documentElement,true)}n.appendChild(r);this.rootEl+
ement=r};Te.prototype.getXPath=function(e,t,i){let n;const r=[];let o="";if(!e||e.nodeType!==1){return null}const s=e.nodeName;let a=e.parentElement;let l=a?a.nodeName:null;t=t||"#document";i=i||false;if(i){n=this.getRepeatIndex(e);if(n>0){o=`[${n+1}]`}}+
r.push(s+o);while(a&&l!==t&&l!=="#document"){if(i){n=this.getRepeatIndex(a);o=n>0?`[${n+1}]`:""}r.push(l+o);a=a.parentElement;l=a?a.nodeName:null}return`/${r.reverse().join("/")}`};Te.prototype.getRepeatIndex=(e=>{let t=0;const i=e.nodeName;let n=e.previ+
ousSibling;while(n){if(n.nodeName&&n.nodeName===i){t++}n=n.previousSibling}return t});Te.prototype.trimValues=function(){this.node(null,null,{noEmpty:true}).getElements().forEach(e=>{e.textContent=e.textContent.trim()})};Te.prototype.setInstanceIdAndDepr+
ecatedId=function(){let e;let t;let i;let n;let r;e=this.getMetaNode("instanceID");t=e.getElement();r=e.getVal();if(this.data.instanceStr&&this.data.submitted){i=this.getMetaNode("deprecatedID").getElement();t.textContent="";if(!i){i=Ee.parseFromString("+
<deprecatedID/>","text/xml").documentElement;this.xml.adoptNode(i);n=this.xml.querySelector("* > meta");n.appendChild(i)}}if(!e.getVal()){e.setVal(this.evaluate('concat("uuid:", uuid())',"string"))}if(i){this.getMetaNode("deprecatedID").setVal(r)}};Te.pr+
ototype.bindJsEvaluator=_e;Te.prototype.getMetaNode=function(e){const t=this.getNamespacePrefix(xe);let i=this.node(`/*/${t}:meta/${t}:${e}`);if(!i.getElement()){i=this.node(`/*/meta/${e}`)}return i};Te.prototype.getRepeatCommentText=(e=>{e=e.trim();retu+
rn ye+e});Te.prototype.getRepeatCommentSelector=function(e){return`//comment()[self::comment()="${this.getRepeatCommentText(e)}"]`};Te.prototype.getRepeatCommentEl=function(e,t){return this.evaluate(this.getRepeatCommentSelector(e),"nodes",null,null,true+
)[t]};Te.prototype.addRepeat=function(e,t,i){let n;const r=this;if(!this.templates[e]){this.extractFakeTemplates([e])}const o=this.templates[e];const s=this.getRepeatSeries(e,t);const a=s.length?s[s.length-1]:this.getRepeatCommentEl(e,t);if(!i){s.forEach+
(e=>{r.addOrdinalAttribute(e,s[0])})}if(o&&a){n=o.cloneNode(true);a.after(n);this.removeOrdinalAttributes(n);if(!i){this.addOrdinalAttribute(n,s[0])}if(i){Array.prototype.slice.call(n.querySelectorAll("*")).filter(e=>e.children.length===0).forEach(e=>{e.+
textContent=""})}}else{console.error("Could not find template node and/or node to insert the clone after")}};Te.prototype.addOrdinalAttribute=function(e,t){const i=this.getNamespacePrefix(ke)};Te.prototype.removeOrdinalAttributes=(e=>{});Te.prototype.get+
RepeatSeries=function(e,t){let i;let n;let r;const o=this.getRepeatCommentEl(e,t);const s=[];if(o){i=o.textContent.substr(ye.length).split("/");n=i[i.length-1];r=o.nextSibling;while(r){if(r.nodeName&&r.nodeName===n){s.push(r)}r=r.nextSibling}}return s};T+
e.prototype.hasPreviousSiblingElementSameName=(e=>{let t=false;const i=e.nodeName;e=e.previousSibling;while(e){if(e.nodeName&&e.nodeName===i){t=true;break}e=e.previousSibling}return t});Te.prototype.hasPreviousCommentSiblingWithContent=((e,t)=>{let i=fal+
se;e=e.previousSibling;while(e){if(e.nodeType===Node.COMMENT_NODE&&e.textContent===t){i=true;break}e=e.previousSibling}return i});Te.prototype.determineIndex=function(e){const t=this;if(e){const i=e.nodeName;const n=this.getXPath(e,"instance");const r=Ar+
ray.prototype.slice.call(this.xml.querySelectorAll(i.replace(/\./g,"\\."))).filter(e=>n===t.getXPath(e,"instance"));return r.length===1?null:r.indexOf(e)}else{console.error("no node, or multiple nodes, provided to determineIndex function");return-1}};Te.+
prototype.extractTemplates=function(){const e=this;this.getTemplateNodes().reverse().forEach(t=>{const i=e.getXPath(t,"instance");e.addTemplate(i,t);t.remove()})};Te.prototype.extractFakeTemplates=function(e){const t=this;let i;e.forEach(e=>{i=t.evaluate+
(e,"node",null,null,true);if(i){t.addTemplate(e,i,true)}})};Te.prototype.addRepeatComments=function(e){const t=this.getRepeatCommentText(e);const i=this;this.evaluate(e,"nodes",null,null,true).forEach(e=>{if(!i.hasPreviousSiblingElementSameName(e)&&!i.ha+
sPreviousCommentSiblingWithContent(e,t)){e.before(document.createComment(t))}})};Te.prototype.addTemplate=function(e,t,i){this.addRepeatComments(e);if(!this.templates[e]){const n=t.cloneNode(true);n.removeAttribute("template");n.removeAttribute("jr:templ+
ate");if(i){Array.prototype.slice.call(n.querySelectorAll("*")).filter(e=>e.children.length===0).forEach(e=>{e.textContent=""})}this.templates[e]=n}};Te.prototype.getTemplateNodes=function(){const e=this.getNamespacePrefix(Le);return this.evaluate(`/mode+
l/instance[1]/*//*[@template] | /model/instance[1]/*//*[@${e}:template]`,"nodes",null,null,false)};Te.prototype.getStr=function(){let e=(new XMLSerializer).serializeToString(this.xml.querySelector("instance > *")||this.xml.documentElement,"text/xml");e=e+
.replace(/\s(data-)(xmlns=("|')[^\s>]+("|'))/g," $2");e=e.replace(new RegExp(`\x3c!--${ye}\\/[^>]+--\x3e`,"g"),"");if(navigator.userAgent.indexOf("Trident/")===-1){e=this.removeDuplicateEnketoNsDeclarations(e)}return e};Te.prototype.removeDuplicateEnketo+
NsDeclarations=function(e){let t=0;const i=new RegExp(`( xmlns:${this.getNamespacePrefix(ke)}="${ke}")`,"g");return e.replace(i,e=>{t++;if(t>1){return""}else{return e}})};Te.prototype.makeBugCompliant=function(e,t,i){let n=this.node(t,i).getElement();if(+
!n){return e}const r=[n];const o=this;while(n&&n.parentElement&&n.nodeName.toLowerCase()!=="instance"){n=n.parentElement;r.push(n)}r.forEach(t=>{const i=t.nodeName.replace(/\./g,"\\.");const n=w(t,`${i}:not([template])`);if(n.length>1){const i=o.getXPath+
(t,"instance");const r=n.indexOf(t);e=e.replace(new RegExp(`${i}/`,"g"),`${i}[${r+1}]/`)}});return e};Te.prototype.setNamespaces=function(){const e=this.hasInstance?"/model/instance":"";const t=this.evaluate(`${e}/*`,"nodes",null,null,true);const i=this;+
let n;t.forEach(e=>{if(e.hasAttributes()){Array.from(e.attributes).forEach(e=>{if(e.name.indexOf("xmlns:")===0){i.namespaces[e.name.substring(6)]=e.value}})}[["orx",xe,false],["jr",Le,false],["enk",ke,S.repeatOrdinals===true]].forEach(t=>{if(!i.getNamesp+
acePrefix(t[1])){n=!i.namespaces[t[0]]?t[0]:`__${t[0]}`;i.namespaces[n]=t[1];if(t[2]){e.setAttributeNS("http://www.w3.org/2000/xmlns/",`xmlns:${n}`,t[1])}}})})};Te.prototype.getNamespacePrefix=function(e){const t=Object.entries(this.namespaces).find(t=>t+
[1]===e);return t?t[0]:undefined};Te.prototype.getNsResolver=function(){const e=typeof this.namespaces==="undefined"?{}:this.namespaces;return{lookupNamespaceURI(t){return e[t]||null}}};Te.prototype.shiftRoot=function(e){const t=/"([^"]*)(")|'([^']*)(')/+
g;if(this.hasInstance){e=e.replace(t,(e,t,i,n,r)=>{const o=typeof t!=="undefined"?encodeURIComponent(t):encodeURIComponent(n);const s=i||r;return s+o+s});e=e.replace(/^(\/(?!model\/)[^/][^/\s,"']*\/)/g,"/model/instance[1]$1");e=e.replace(/([^a-zA-Z0-9.\]+
)/*_-])(\/(?!model\/)[^/][^/\s,"']*\/)/g,"$1/model/instance[1]$2");e=e.replace(t,(e,t,i,n,r)=>{const o=typeof t!=="undefined"?decodeURIComponent(t):decodeURIComponent(n);const s=i||r;return s+o+s})}return e};Te.prototype.replaceInstanceFn=function(e){let+
 t;const i=this;return e.replace(we,(e,n,r)=>{t=`/model/instance[@id="${r}"]`;if(i.evaluate(t,"nodes",null,null,true).length){return t}else{throw new D(`instance "${r}" does not exist in model`)}})};Te.prototype.replaceCurrentFn=((e,t)=>{if(t){e=e.replac+
e("current()/.",`${t}/.`)}e=e.replace("current()/","/");return e});Te.prototype.replaceIndexedRepeatFn=function(e,t,i){const n=this;const r=h(e,"indexed-repeat");r.forEach(r=>{let o,s;let a;const l=r[1];if(l.length%2===1){s=l[0];for(o=l.length-1;o>1;o-=2+
){a=!isNaN(l[o])?l[o]:n.evaluate(l[o],"number",t,i,true);s=s.replace(l[o-1],`${l[o-1]}[position() = ${a}]`)}e=e.replace(r[0],s)}else{throw new D(`indexed repeat with incorrect number of parameters found: ${r[0]}`)}});return e};Te.prototype.replaceVersion+
Fn=function(e){const t=this;let i;const n=h(e,"version");n.forEach(n=>{i=i||t.evaluate("/node()/@version","string",null,0,true);e=e.replace(n[0],`"0.0.1"`)});return e};Te.prototype.replacePullDataFn=function(e,t,i){let n;const r=this;const o=this.convert+
PullDataFn(e,t,i);for(const s in o){if(Object.prototype.hasOwnProperty.call(o,s)){n=r.evaluate(o[s],"string",t,i,true);e=e.replace(s,`"${n}"`)}}return e};Te.prototype.convertPullDataFn=function(e,t,i){const n=this;const r=h(e,"pulldata");const o={};if(!r+
.length){return o}r.forEach(e=>{let r;let s;const a=e[1];if(a.length===4){a[1]=c(a[1]);a[2]=c(a[2]);r=n.evaluate(a[3],"string",t,i,true);r=r===""||isNaN(r)?`'${r}'`:r;s=`instance(${a[0]})/root/item[${a[2]} = ${r}]/${a[1]}`;o[e[0]]=s}else{throw new D(`pul+
ldata with incorrect number of parameters found: ${e[0]}`)}});return o};Te.prototype.evaluate=function(e,t,i,n,r){let o,s,a,l,u,h,c,d,f,p,m,g;m=e;r=r||false;t=t||"any";n=n||0;a=this.xml;f=null;if(i){c=this.node(i).getElements();f=c.length;s=c[n]}else{s=t+
his.rootElement}if(!s){console.error("no context element found",i,n)}p=[e,i,n,f].join("|");e=this.replaceIndexedRepeatFn(e,i,n);e=this.replacePullDataFn(e,i,n);g=m===e;if(!this.convertedExpressions[p]){e=e.trim();e=this.replaceInstanceFn(e);e=this.replac+
eVersionFn(e);e=this.replaceCurrentFn(e,this.getXPath(s,"instance",true));e=this.shiftRoot(e);if(f&&f>1){e=this.makeBugCompliant(e,i,n)}e=e.replace(/&lt;/g,"<");e=e.replace(/&gt;/g,">");e=e.replace(/&quot;/g,'"');if(g){this.convertedExpressions[p]=e}}els+
e{e=this.convertedExpressions[p]}u={0:["any","ANY_TYPE"],1:["number","NUMBER_TYPE","numberValue"],2:["string","STRING_TYPE","stringValue"],3:["boolean","BOOLEAN_TYPE","booleanValue"],7:["nodes","ORDERED_NODE_SNAPSHOT_TYPE"],9:["node","FIRST_ORDERED_NODE_+
TYPE","singleNodeValue"]};for(l in u){if(Object.prototype.hasOwnProperty.call(u,l)){l=Number(l);if(u[l][0]===t){break}else{l=0}}}if(r&&typeof a.evaluate!=="undefined"&&!be.test(e)){try{h=a.evaluate(e,s,this.getNsResolver(),l,null)}catch(t){console.log("%+
cWell native XPath evaluation did not work... No worries, worth a shot, the expression probably "+"contained unknown OpenRosa functions or errors:","color:orange",e)}}if(!h){try{if(typeof a.jsEvaluate==="undefined"){this.bindJsEvaluator()}h=a.jsEvaluate(+
e,s,this.getNsResolver(),l,null)}catch(t){throw new D(`Could not evaluate: ${e}, message: ${t.message}`)}}if(h){if(l===0){for(l in u){if(Object.prototype.hasOwnProperty.call(u,l)){l=Number(l);if(l===Number(h.resultType)&&l>0&&l<4){d=h[u[l][2]];break}}}co+
nsole.error(`Expression: ${e} did not return any boolean, string or number value as expected`)}else if(l===7){d=[];for(o=0;o<h.snapshotLength;o++){d.push(h.snapshotItem(o))}}else{d=h[u[l][2]]}return d}};Ce=function(e,t,i,n){const r=n.hasInstance?"/model/+
instance[1]//*":"//*";this.model=n;this.originalSelector=e;this.selector=typeof e==="string"&&e.length>0?e:r;i=typeof i!=="undefined"&&i!==null?i:{};this.filter=i;this.filter.onlyLeaf=typeof i.onlyLeaf!=="undefined"?i.onlyLeaf:false;this.filter.noEmpty=t+
ypeof i.noEmpty!=="undefined"?i.noEmpty:false;this.index=t};Ce.prototype.getElement=function(){return this.getElements()[0]};Ce.prototype.getElements=function(){let e;let t;if(!this._nodes){this._nodes=this.model.evaluate(this.selector,"nodes",null,null,+
true);if(this.filter.noEmpty===true){this._nodes=this._nodes.filter(e=>{t=e.textContent;return e.children.length===0&&t.trim().length>0})}else if(this.filter.onlyLeaf===true){this._nodes=this._nodes.filter(e=>e.children.length===0)}}e=this._nodes;if(type+
of this.index!=="undefined"&&this.index!==null){e=typeof e[this.index]==="undefined"?[]:[e[this.index]]}return e};Ce.prototype.setIndex=function(e){this.index=e};Ce.prototype.setVal=function(e,t){let n;let r;let o;const s=this.getVal();if(typeof e!=="und+
efined"&&e!==null){n=Array.isArray(e)?e.join(" "):e.toString()}else{n=""}n=this.convert(n,t);const a=this.getElements();if(a.length===1&&n.toString()!==s.toString()){const e=a[0];e.textContent=n.toString();r=this.getClosestRepeat();r.nodes=[e.nodeName];o+
=this.model.getUpdateEventData(e,t);r=o?i.extend({},r,o):r;this.model.events.dispatchEvent(te.DataUpdate(r));if(t==="binary"){if(n.length>0){e.setAttribute("type","file")}else{e.removeAttribute("type")}}return r}if(a.length>1){console.error("nodeset.setV+
al expected nodeset with one node, but received multiple");return null}if(a.length===0){console.log(`Data node: ${this.selector} with null-based index: ${this.index} not found. Ignored.`);return null}return null};Ce.prototype.getVal=function(){const e=th+
is.getElements();return e.length?e[0].textContent:undefined};Ce.prototype.getClosestRepeat=function(){let e=this.getElement();let t=e.nodeName;while(t&&t!=="instance"&&!(e.nextElementSibling&&e.nextElementSibling.nodeName===t)&&!(e.previousElementSibling+
&&e.previousElementSibling.nodeName===t)){e=e.parentElement;t=e?e.nodeName:null}return!t||t==="instance"?{}:{repeatPath:this.model.getXPath(e,"instance"),repeatIndex:this.model.determineIndex(e)}};Ce.prototype.remove=function(){const e=this.getElement();+
if(e){const t=e.nodeName;const i=this.model.getXPath(e,"instance");let n=this.model.determineIndex(e);const r=this.model.getRemovalEventData(e);if(!this.model.templates[i]){this.model.extractFakeTemplates([i])}let o=e.nextElementSibling;e.remove();this._+
nodes=null;this.model.events.dispatchEvent(te.DataUpdate({nodes:null,repeatPath:i,repeatIndex:n}));while(o&&o.nodeName==t){o=o.nextElementSibling;this.model.events.dispatchEvent(te.DataUpdate({nodes:null,repeatPath:i,repeatIndex:n++}))}this.model.events.+
dispatchEvent(te.Removed(r))}else{console.error(`could not find node ${this.selector} with index ${this.index} to remove `)}};Ce.prototype.convert=((e,t)=>{if(e.toString()===""){return e}if(typeof t!=="undefined"&&t!==null&&typeof z[t.toLowerCase()]!=="u+
ndefined"&&typeof z[t.toLowerCase()].convert!=="undefined"){return z[t.toLowerCase()].convert(e)}return e});Ce.prototype.validate=function(e,t,i){const n=this;const r={};return this.validateRequired(t).then(t=>{r.requiredValid=t;return t===false?null:n.v+
alidateConstraintAndType(e,i)}).then(e=>{r.constraintValid=e;return r})};Ce.prototype.validateConstraintAndType=function(e,t){const i=this;let n;if(!t||typeof z[t.toLowerCase()]==="undefined"){t="string"}if(!e&&(t==="string"||t==="select"||t==="select1"|+
|t==="binary")){return Promise.resolve(true)}n=i.getVal();if(n.toString()===""){return Promise.resolve(true)}return Promise.resolve().then(()=>z[t.toLowerCase()].validate(n)).then(t=>{const n=typeof e!=="undefined"&&e!==null&&e.length>0?i.model.evaluate(+
e,"boolean",i.originalSelector,i.index):true;return t&&n})};Ce.prototype.isRequired=function(e){return!e||e.trim()==="false()"?false:e.trim()==="true()"||this.model.evaluate(e,"boolean",this.originalSelector,this.index)};Ce.prototype.validateRequired=fun+
ction(e){const t=this;if(!e||this.getVal()){return Promise.resolve(true)}return Promise.resolve().then(()=>!t.isRequired(e))};Te.prototype.getUpdateEventData=(()=>{});Te.prototype.getRemovalEventData=(()=>{});Te.prototype.types=z;const De={constraint:{in+
valid:"Value not allowed",required:"This field is required"},"esri-geopicker":{"coordinate-mgrs":"MGRS coordinate",decimal:"decimal",degrees:"degrees, minutes, seconds","latitude-degrees":"latitude (d° m’ s” N)","longitude-degrees":"longitude (d° m’ s” W+
)",mgrs:"MGRS",notavailable:"Not Available",utm:"UTM","utm-easting":"easting (m)","utm-hemisphere":"hemisphere","utm-north":"North","utm-northing":"northing (m)","utm-south":"South","utm-zone":"zone"},filepicker:{placeholder:"Click here to upload file. (+
< __maxSize__)",notFound:"File __existing__ could not be found (leave unchanged if already submitted and you want to preserve it).",waitingForPermissions:"Waiting for user permissions.",resetWarning:"This will remove the __item__. Are you sure you want t+
o do this?",toolargeerror:"File too large (> __maxSize__)",file:"file"},drawwidget:{drawing:"drawing",signature:"signature",annotation:"file and drawing"},form:{required:"required"},geopicker:{accuracy:"accuracy (m)",altitude:"altitude (m)",closepolygon:+
"close polygon",kmlcoords:"KML coordinates",kmlpaste:"paste KML coordinates here",latitude:"latitude (x.y °)",longitude:"longitude (x.y °)",points:"points",searchPlaceholder:"search for place or address",removePoint:"This will completely remove the curre+
nt geopoint from the list of geopoints and cannot be undone. Are you sure you want to do this?"},selectpicker:{noneselected:"none selected",numberselected:"__number__ selected"},imagemap:{svgNotFound:"SVG image could not be found"},rankwidget:{tapstart:"+
Tap to start",clickstart:"Click to start"},widget:{comment:{update:"Update"}},alert:{gotonotfound:{msg:"Failed to find question '__path__' in form. Is it a valid path?"}},confirm:{repeatremove:{heading:"Delete this group of responses?",msg:"This action i+
s irreversible. Are you sure you want to proceed?"}}};function Se(e,t){let i="";let n=De;e.split(".").forEach(e=>{n=n?n[e]:"";i=n});t=t||{};i=i.replace(/__([^_]+)__/,(e,i)=>t[i]);return i}var Me={getWrapNode(e){return e.closest(".question, .calculation")+
},getWrapNodes(e){const t=[];e.forEach(e=>{const i=this.getWrapNode(e);if(!t.includes(i)){t.push(i)}});return t},getProps(e){return{path:this.getName(e),ind:this.getIndex(e),inputType:this.getInputType(e),xmlType:this.getXmlType(e),constraint:this.getCon+
straint(e),calculation:this.getCalculation(e),relevant:this.getRelevant(e),readonly:this.getReadonly(e),val:this.getVal(e),required:this.getRequired(e),enabled:this.isEnabled(e),multiple:this.isMultiple(e)}},getInputType(e){const t=e.nodeName.toLowerCase+
();if(t==="input"){if(e.dataset.drawing){return"drawing"}if(e.type){return e.type.toLowerCase()}return console.error("<input> node has no type")}else if(t==="select"){return"select"}else if(t==="textarea"){return"textarea"}else if(t==="fieldset"||t==="se+
ction"){return"fieldset"}else{return console.error("unexpected input node type provided")}},getConstraint(e){return e.dataset.constraint},getRequired(e){if(!E(e,".or-appearance-label",".or")){return e.dataset.required}},getRelevant(e){return e.dataset.re+
levant},getReadonly(e){return e.matches("[readonly]")},getCalculation(e){return e.dataset.calculate},getXmlType(e){return e.dataset.typeXml},getName(e){const t=e.dataset.name||e.getAttribute("name");if(!t){console.error("input node has no name")}return t+
},getIndex(e){return this.form.repeats.getIndex(e.closest(".or-repeat"))},isMultiple(e){return this.getInputType(e)==="checkbox"||e.multiple},isEnabled(e){return!(e.disabled||E(e,".disabled",".or"))},getVal(e){let t="";const i=this.getInputType(e);const +
n=this.getName(e);switch(i){case"radio":{const i=this.getWrapNode(e).querySelector(`input[type="radio"][data-name="${n}"]:checked`);t=i?i.value:"";break}case"checkbox":{t=[...this.getWrapNode(e).querySelectorAll(`input[type="checkbox"][name="${n}"]:check+
ed`)].map(e=>e.value);break}case"select":{if(this.isMultiple(e)){t=[...e.querySelectorAll("option:checked")].map(e=>e.value)}else{const i=e.querySelector("option:checked");t=i?i.value:""}break}default:{t=e.value}}return t||""},find(e,t){let i="name";if(t+
his.form.view.html.querySelector(`input[type="radio"][data-name="${e}"]:not(.ignore)`)){i="data-name"}const n=this.getWrapNodes(this.form.view.html.querySelectorAll(`[${i}="${e}"]`))[t];return n?n.querySelector(`[${i}="${e}"]:not(.ignore)`):null},setVal(+
e,t,i=te.InputUpdate()){let n;const r=this.getInputType(e);const o=this.getWrapNode(e);const s=this.getName(e);if(r==="radio"){n=o.querySelectorAll(`[data-name="${s}"]:not(.ignore)`)}else{n=o.querySelectorAll(`[name="${s}"]:not(.ignore)`);if(r==="file"){+
if(t){e.setAttribute("data-loaded-file-name",t);return false}}if(r==="date"||r==="datetime"){t=z[r].convert(t)}if(r==="time"){if(/(\+|-)/.test(t)){const e=`${(new Date).toLocaleDateString("en",{month:"short",day:"numeric",year:"numeric"}).replace(/\u200E+
/g,"")} ${t.replace(/(\d\d:\d\d:\d\d)(\.\d{1,3})(\s?((\+|-)\d\d))(:)?(\d\d)?/,"$1 GMT$3$7")}`;const i=new Date(e);if(i.toString()!=="Invalid Date"){t=`${i.getHours().toString().pad(2)}:${i.getMinutes().toString().pad(2)}`}else{console.error("could not pa+
rse time:",t)}}}}if(this.isMultiple(e)===true){t=t.split(" ")}else if(r==="radio"){t=[t]}if(n.length){const o=this.getVal(e);if(o===undefined||o.toString()!==t.toString()){switch(r){case"radio":{const i=this.getWrapNode(e).querySelector(`input[type="radi+
o"][data-name="${s}"][value="${t}"]`);if(i){i.checked=true}break}case"checkbox":{this.getWrapNode(e).querySelectorAll(`input[type="checkbox"][name="${s}"]`).forEach(e=>e.checked=t.includes(e.value));break}case"select":{if(this.isMultiple(e)){e.querySelec+
torAll("option").forEach(e=>e.selected=t.includes(e.value))}else{const i=e.querySelector(`option[value="${t}"]`);if(i){i.selected=true}else{e.querySelectorAll("option").forEach(e=>e.selected=false)}}break}default:{e.value=t}}if(i){n[0].dispatchEvent(i)}}+
}return n[0]},validate(e){return this.form.validateInput(e)}};function Pe(e){window.alert(e);return Promise.resolve()}function Ie(e){const t=e.message?e.message:e;return Promise.resolve(window.confirm(t))}function Ne(e,t){return Promise.resolve(window.pr+
ompt(e,t))}var Ae={alert:Pe,confirm:Ie,prompt:Ne};const Oe=S.repeatOrdinals===true;var Re={init(){const e=this;let t;if(!this.form){throw new Error("Repeat module not correctly instantiated with form property.")}t=this.form.view.$.find(".or-repeat-info")+
;this.templates={};t.siblings(".or-repeat").prepend('<span class="repeat-number"></span>').addBack().filter(function(){if(this.firstChild&&this.firstChild.nodeType===3){this.firstChild.textContent=""}return!this.querySelector(".question")}).addClass("emp+
ty");t.filter("*:not([data-repeat-fixed]):not([data-repeat-count])").append('<button type="button" class="btn btn-default add-repeat-btn"><i class="icon icon-plus"> </i></button>').siblings(".or-repeat").append(`<div class="repeat-buttons"><button type="+
button" ${" "}class="btn btn-default remove"><i class="icon icon-minus"> </i></button></div>`);this.form.model.extractFakeTemplates(t.map(function(){return this.dataset.name}).get());t.siblings(".or-repeat").reverse().each(function(){const t=this.cloneNo+
de(true);const n=t.getAttribute("name");this.remove();i(t).removeClass("contains-current current").find(".current").removeClass("current");e.templates[n]=t});t.filter("*:not([data-repeat-count])").reverse().each(function(){if(!i(this).closest(".or-repeat+
").length){e.updateDefaultFirstRepeatInstance(null,this)}}).each(e.updateViewInstancesFromModel.bind(this));this.form.view.$.on("click","button.add-repeat-btn:enabled",function(){e.add(i(this).closest(".or-repeat-info")[0]);return false});this.form.view.+
$.on("click","button.remove:enabled",function(){e.confirmDelete(this.closest(".or-repeat"));return false});this.countUpdate()},confirmDelete(e){const t=this;Ae.confirm({heading:Se("confirm.repeatremove.heading"),msg:Se("confirm.repeatremove.msg")}).then(+
n=>{if(n){t.remove(i(e))}}).catch(console.error)},getIndex(e){if(!e||!this.form.repeatsPresent){return 0}let t=e.parentElement.closest(".or-repeat");const i=e.classList.contains("or-repeat-info");let n=i?1:Number(e.querySelector(".repeat-number").textCon+
tent);let r;while(t){while(t.previousElementSibling&&t.previousElementSibling.matches(".or-repeat")){t=t.previousElementSibling;if(i){n++}else{r=r||e.getAttribute("name");n+=t.querySelectorAll(`.or-repeat[name="${r}"]`).length}}const o=t.parentElement;t=+
o?o.closest(".or-repeat"):null}return n-1},getInfoIndex(e){if(!this.form.repeatsPresent){return 0}if(!e||!e.classList.contains("or-repeat-info")){return null}const t=e.dataset.name;return[...e.closest("form.or").querySelectorAll(`.or-repeat-info[data-nam+
e="${t}"]`)].indexOf(e)},updateViewInstancesFromModel(e,t){const n=this;const r=i(t);const o=t.dataset.name;const s=this.getIndex(t);const a=this.form.model.getRepeatSeries(o,s);const l=r.siblings(".or-repeat");if(a.length>l.length){this.add(t,a.length-l+
.length);r.siblings(".or-repeat").find(".or-repeat-info:not([data-repeat-count])").each(function(){n.updateViewInstancesFromModel(null,this)})}return a.length},updateDefaultFirstRepeatInstance(e,t){let n;let r;const o=this;const s=i(t);const a=t.dataset.+
name;if(!o.form.model.data.instanceStr&&!this.templates[a].classList.contains("or-appearance-minimal")){n=this.getIndex(t);r=this.form.model.getRepeatSeries(a,n);if(r.length===0){this.add(t,1)}s.siblings(".or-repeat").find(".or-repeat-info:not([data-repe+
at-count])").each(o.updateDefaultFirstRepeatInstance.bind(o))}},updateRepeatInstancesFromCount(e,t){const n=this;let r;let o;const s=i(t);const a=t.dataset.repeatCount||"";if(!a){return}const l=t.dataset.name;const u=this.form.model.evaluate(a,"node",thi+
s.form.model.getRepeatCommentSelector(l),this.getInfoIndex(t),true);if(u){o=Number(u.textContent)}else{console.error("Unexpectedly, could not obtain repeat count node")}o=isNaN(o)?0:o;const h=s.siblings(`.or-repeat[name="${l}"]`).length;let c=o-h;if(c>0)+
{n.add(t,c)}else if(c<0){c=Math.abs(c)>=h?-h+0:c;for(;c<0;c++){r=s.siblings(".or-repeat").last();this.remove(r,0)}}s.siblings(".or-repeat").children(".or-group, .or-group-data").children(".or-repeat-info[data-repeat-count]").each(n.updateRepeatInstancesF+
romCount.bind(n))},countUpdate(e){let t;e=e||{};t=this.form.getRelatedNodes("data-repeat-count",".or-repeat-info",e);t.each(this.updateRepeatInstancesFromCount.bind(this))},add(e,t){let n;let r;let o;let s;let a;let l;const u=this;const h=i(e);const c=!!+
t;let d;t=t||1;if(!e){console.error("Nothing to clone");return false}a=e.dataset.name;n=h.siblings(".or-repeat");r=i(this.templates[a]).clone();s=this.getIndex(e);d=this.form.model.getRepeatSeries(a,s).length;const f=e.previousElementSibling;let p=f&&f.c+
lassList.contains("or-repeat")?Number(f.querySelector(".repeat-number").textContent):0;for(l=0;l<t;l++){r.find(".option-wrapper").each(this.fixRadioNames);r.find("datalist").each(this.fixDatalistIds);r.insertBefore(e);if(p>0){r.addClass("clone")}r[0].que+
rySelector(".repeat-number").textContent=p+1;n=n.add(r);if(n.length>d){this.form.model.addRepeat(a,s);d++}o=o||this.getIndex(r[0]);r[0].dispatchEvent(te.AddRepeat([o,c]));if(this.form.widgetsInitialized){this.form.widgets.init(r,this.form.options)}else{u+
.form.calc.update({repeatPath:a,repeatIndex:o})}r.find(".or-repeat-info:not([data-repeat-count])").each(this.updateDefaultFirstRepeatInstance.bind(this));r=i(this.templates[a]).clone();o++;p++}this.toggleButtons(e);return true},remove(e,t){const i=this;c+
onst n=e.next(".or-repeat, .or-repeat-info");const r=e.attr("name");const o=this.getIndex(e[0]);const s=e.siblings(".or-repeat-info")[0];t=typeof t!=="undefined"?t:600;e.hide(t,()=>{e.remove();i.numberRepeats(s);i.toggleButtons(s);n[0].dispatchEvent(te.R+
emoveRepeat());i.form.model.node(r,o).remove()})},fixRadioNames(e,t){i(t).find('input[type="radio"]').attr("name",Math.floor(Math.random()*1e7+1))},fixDatalistIds(e,t){const i=t.id+Math.floor(Math.random()*1e7+1);t.parentNode.querySelector(`input[list="$+
{t.id}"]`).setAttribute("list",i);t.id=i},toggleButtons(e){i(e).siblings(".or-repeat").children(".repeat-buttons").find("button.remove").prop("disabled",false).first().prop("disabled",Oe)},numberRepeats(e){i(e).siblings(".or-repeat").each((e,t)=>{i(t).ch+
ildren(".repeat-number").text(e+1)})}};var $e=t(function(e){                                                                                                                                                                                                   
/*!                                                                                                                                                                                                                                                            
	 * @fileOverview TouchSwipe - jQuery Plugin                                                                                                                                                                                                                   
	 * @version 1.6.18                                                                                                                                                                                                                                            
	 *                                                                                                                                                                                                                                                            
	 * @author Matt Bryson http://www.github.com/mattbryson                                                                                                                                                                                                       
	 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin                                                                                                                                                                                                
	 * @see http://labs.rampinteractive.co.uk/touchSwipe/                                                                                                                                                                                                         
	 * @see http://plugins.jquery.com/project/touchSwipe                                                                                                                                                                                                          
	 * @license                                                                                                                                                                                                                                                   
	 * Copyright (c) 2010-2015 Matt Bryson                                                                                                                                                                                                                        
	 * Dual licensed under the MIT or GPL Version 2 licenses.                                                                                                                                                                                                     
	 *                                                                                                                                                                                                                                                            
	 */                                                                                                                                                                                                                                                           
!function(t){t(e.exports?i:jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=h),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defau+
lts,t),this.each(function(){var n=e(this),r=n.data(D);r||(r=new i(this,t),n.data(D,r))})}function i(t,i){function n(t){if(!(ue()||e(t.target).closest(i.excludedElements,je).length>0)){var n=t.originalEvent?t.originalEvent:t;if(!n.pointerType||"mouse"!=n.+
pointerType||0!=i.fallbackToMouseEvents){var r,o=n.touches,s=o?o[0]:n;return Ze=b,o?We=o.length:i.preventDefaultEvents!==!1&&t.preventDefault(),Oe=0,Re=null,$e=null,He=null,ze=0,Fe=0,qe=0,Be=1,Ue=0,Ve=ge(),ae(),ce(0,s),!o||We===i.fingers||i.fingers===y||+
H()?(Ye=Ee(),2==We&&(ce(1,o[1]),Fe=qe=ye(Ge[0].start,Ge[1].start)),(i.swipeStatus||i.pinchStatus)&&(r=O(n,Ze))):r=!1,r===!1?(Ze=k,O(n,Ze),r):(i.hold&&(tt=setTimeout(e.proxy(function(){je.trigger("hold",[n.target]),i.hold&&(r=i.hold.call(je,n,n.target))},+
this),i.longTapThreshold)),he(!0),null)}}}function S(e){var t=e.originalEvent?e.originalEvent:e;if(Ze!==L&&Ze!==k&&!le()){var n,r=t.touches,o=r?r[0]:t,s=de(o);if(Xe=Ee(),r&&(We=r.length),i.hold&&clearTimeout(tt),Ze=x,2==We&&(0==Fe?(ce(1,r[1]),Fe=qe=ye(Ge+
[0].start,Ge[1].start)):(de(r[1]),qe=ye(Ge[0].end,Ge[1].end),He=be(Ge[0].end,Ge[1].end)),Be=we(Fe,qe),Ue=Math.abs(Fe-qe)),We===i.fingers||i.fingers===y||!r||H()){if(Re=ke(s.start,s.end),$e=ke(s.last,s.end),B(e,$e),Oe=xe(s.start,s.end),ze=_e(),pe(Re,Oe),n+
=O(t,Ze),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var a=!0;if(i.triggerOnTouchLeave){var l=Te(this);a=Ce(s.end,l)}!i.triggerOnTouchEnd&&a?Ze=A(x):i.triggerOnTouchLeave&&!a&&(Ze=A(L)),Ze!=k&&Ze!=L||O(t,Ze)}}else Ze=k,O(t,Ze);n===!1&&(Ze=k,O(t,Ze))}}fu+
nction M(e){var t=e.originalEvent?e.originalEvent:e,n=t.touches;if(n){if(n.length&&!le())return se(t),!0;if(n.length&&le())return!0}return le()&&(We=Qe),Xe=Ee(),ze=_e(),z()||!$()?(Ze=k,O(t,Ze)):i.triggerOnTouchEnd||i.triggerOnTouchEnd===!1&&Ze===x?(i.pre+
ventDefaultEvents!==!1&&e.cancelable!==!1&&e.preventDefault(),Ze=L,O(t,Ze)):!i.triggerOnTouchEnd&&X()?(Ze=L,R(t,Ze,p)):Ze===x&&(Ze=k,O(t,Ze)),he(!1),null}function P(){We=0,Xe=0,Ye=0,Fe=0,qe=0,Be=1,ae(),he(!1)}function I(e){var t=e.originalEvent?e.origina+
lEvent:e;i.triggerOnTouchLeave&&(Ze=A(L),O(t,Ze))}function N(){je.off(Me,n),je.off(Ae,P),je.off(Pe,S),je.off(Ie,M),Ne&&je.off(Ne,I),he(!1)}function A(e){var t=e,n=q(),r=$(),o=z();return!n||o?t=k:!r||e!=x||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!r&&e+
==L&&i.triggerOnTouchLeave&&(t=k):t=L,t}function O(e,t){var i,n=e.touches;return(W()||Z())&&(i=R(e,t,d)),(V()||H())&&i!==!1&&(i=R(e,t,f)),re()&&i!==!1?i=R(e,t,m):oe()&&i!==!1?i=R(e,t,g):ne()&&i!==!1&&(i=R(e,t,p)),t===k&&P(),t===L&&(n?n.length||P():P()),i+
}function R(t,n,h){var c;if(h==d){if(je.trigger("swipeStatus",[n,Re||null,Oe||0,ze||0,We,Ge,$e]),i.swipeStatus&&(c=i.swipeStatus.call(je,t,n,Re||null,Oe||0,ze||0,We,Ge,$e),c===!1))return!1;if(n==L&&j()){if(clearTimeout(et),clearTimeout(tt),je.trigger("sw+
ipe",[Re,Oe,ze,We,Ge,$e]),i.swipe&&(c=i.swipe.call(je,t,Re,Oe,ze,We,Ge,$e),c===!1))return!1;switch(Re){case r:je.trigger("swipeLeft",[Re,Oe,ze,We,Ge,$e]),i.swipeLeft&&(c=i.swipeLeft.call(je,t,Re,Oe,ze,We,Ge,$e));break;case o:je.trigger("swipeRight",[Re,O+
e,ze,We,Ge,$e]),i.swipeRight&&(c=i.swipeRight.call(je,t,Re,Oe,ze,We,Ge,$e));break;case s:je.trigger("swipeUp",[Re,Oe,ze,We,Ge,$e]),i.swipeUp&&(c=i.swipeUp.call(je,t,Re,Oe,ze,We,Ge,$e));break;case a:je.trigger("swipeDown",[Re,Oe,ze,We,Ge,$e]),i.swipeDown&+
&(c=i.swipeDown.call(je,t,Re,Oe,ze,We,Ge,$e))}}}if(h==f){if(je.trigger("pinchStatus",[n,He||null,Ue||0,ze||0,We,Be,Ge]),i.pinchStatus&&(c=i.pinchStatus.call(je,t,n,He||null,Ue||0,ze||0,We,Be,Ge),c===!1))return!1;if(n==L&&U())switch(He){case l:je.trigger(+
"pinchIn",[He||null,Ue||0,ze||0,We,Be,Ge]),i.pinchIn&&(c=i.pinchIn.call(je,t,He||null,Ue||0,ze||0,We,Be,Ge));break;case u:je.trigger("pinchOut",[He||null,Ue||0,ze||0,We,Be,Ge]),i.pinchOut&&(c=i.pinchOut.call(je,t,He||null,Ue||0,ze||0,We,Be,Ge))}}return h+
==p?n!==k&&n!==L||(clearTimeout(et),clearTimeout(tt),K()&&!ee()?(Je=Ee(),et=setTimeout(e.proxy(function(){Je=null,je.trigger("tap",[t.target]),i.tap&&(c=i.tap.call(je,t,t.target))},this),i.doubleTapThreshold)):(Je=null,je.trigger("tap",[t.target]),i.tap&+
&(c=i.tap.call(je,t,t.target)))):h==m?n!==k&&n!==L||(clearTimeout(et),clearTimeout(tt),Je=null,je.trigger("doubletap",[t.target]),i.doubleTap&&(c=i.doubleTap.call(je,t,t.target))):h==g&&(n!==k&&n!==L||(clearTimeout(et),Je=null,je.trigger("longtap",[t.tar+
get]),i.longTap&&(c=i.longTap.call(je,t,t.target)))),c}function $(){var e=!0;return null!==i.threshold&&(e=Oe>=i.threshold),e}function z(){var e=!1;return null!==i.cancelThreshold&&null!==Re&&(e=me(Re)-Oe>=i.cancelThreshold),e}function F(){return null!==+
i.pinchThreshold?Ue>=i.pinchThreshold:!0}function q(){var e;return e=i.maxTimeThreshold?!(ze>=i.maxTimeThreshold):!0}function B(e,t){if(i.preventDefaultEvents!==!1)if(i.allowPageScroll===h)e.preventDefault();else{var n=i.allowPageScroll===c;switch(t){cas+
e r:(i.swipeLeft&&n||!n&&i.allowPageScroll!=v)&&e.preventDefault();break;case o:(i.swipeRight&&n||!n&&i.allowPageScroll!=v)&&e.preventDefault();break;case s:(i.swipeUp&&n||!n&&i.allowPageScroll!=_)&&e.preventDefault();break;case a:(i.swipeDown&&n||!n&&i.+
allowPageScroll!=_)&&e.preventDefault();break;case h:}}}function U(){var e=G(),t=Y(),i=F();return e&&t&&i}function H(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function V(){return!(!U()||!H())}function j(){var e=q(),t=$(),i=G(),n=Y(),r=z(),o=!r&&n&+
&i&&t&&e;return o}function Z(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function W(){return!(!j()||!Z())}function G(){return We===i.fingers||i.fingers===y||!E}function Y(){return 0!==Ge[0].end.x}function X(){ret+
urn!!i.tap}function K(){return!!i.doubleTap}function Q(){return!!i.longTap}function J(){if(null==Je)return!1;var e=Ee();return K()&&e-Je<=i.doubleTapThreshold}function ee(){return J()}function te(){return(1===We||!E)&&(isNaN(Oe)||Oe<i.threshold)}function+
 ie(){return ze>i.longTapThreshold&&w>Oe}function ne(){return!(!te()||!X())}function re(){return!(!J()||!K())}function oe(){return!(!ie()||!Q())}function se(e){Ke=Ee(),Qe=e.touches.length+1}function ae(){Ke=0,Qe=0}function le(){var e=!1;if(Ke){var t=Ee()+
-Ke;t<=i.fingerReleaseThreshold&&(e=!0)}return e}function ue(){return!(je.data(D+"_intouch")!==!0)}function he(e){je&&(e===!0?(je.on(Pe,S),je.on(Ie,M),Ne&&je.on(Ne,I)):(je.off(Pe,S,!1),je.off(Ie,M,!1),Ne&&je.off(Ne,I,!1)),je.data(D+"_intouch",e===!0))}fu+
nction ce(e,t){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=t.pageX||t.clientX,i.start.y=i.last.y=i.end.y=t.pageY||t.clientY,Ge[e]=i,i}function de(e){var t=void 0!==e.identifier?e.identifier:0,i=fe(t);return null+
===i&&(i=ce(t,e)),i.last.x=i.end.x,i.last.y=i.end.y,i.end.x=e.pageX||e.clientX,i.end.y=e.pageY||e.clientY,i}function fe(e){return Ge[e]||null}function pe(e,t){e!=h&&(t=Math.max(t,me(e)),Ve[e].distance=t)}function me(e){return Ve[e]?Ve[e].distance:void 0}+
function ge(){var e={};return e[r]=ve(r),e[o]=ve(o),e[s]=ve(s),e[a]=ve(a),e}function ve(e){return{direction:e,distance:0}}function _e(){return Xe-Ye}function ye(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+n*n))}functi+
on we(e,t){var i=t/e*1;return i.toFixed(2)}function be(){return 1>Be?u:l}function xe(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Le(e,t){var i=e.x-t.x,n=t.y-e.y,r=Math.atan2(n,i),o=Math.round(180*r/Math.PI);return +
0>o&&(o=360-Math.abs(o)),o}function ke(e,t){if(De(e,t))return h;var i=Le(e,t);return 45>=i&&i>=0?r:360>=i&&i>=315?r:i>=135&&225>=i?o:i>45&&135>i?a:s}function Ee(){var e=new Date;return e.getTime()}function Te(t){t=e(t);var i=t.offset(),n={left:i.left,rig+
ht:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()};return n}function Ce(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function De(e,t){return e.x==t.x&&e.y==t.y}var i=e.extend({},i),Se=E||C||!i.fallbackToMouseEvents,Me=Se?C?T+
?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Pe=Se?C?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ie=Se?C?T?"MSPointerUp":"pointerup":"touchend":"mouseup",Ne=Se?C?"mouseleave":null:"mouseleave",Ae=C?T?"MSPointerCancel":"pointercance+
l":"touchcancel",Oe=0,Re=null,$e=null,ze=0,Fe=0,qe=0,Be=1,Ue=0,He=0,Ve=null,je=e(t),Ze="start",We=0,Ge={},Ye=0,Xe=0,Ke=0,Qe=0,Je=0,et=null,tt=null;try{je.on(Me,n),je.on(Ae,P)}catch(t){e.error("events not supported "+Me+","+Ae+" on jQuery.swipe")}this.ena+
ble=function(){return this.disable(),je.on(Me,n),je.on(Ae,P),je},this.disable=function(){return N(),je},this.destroy=function(){N(),je.data(D,null),je=null},this.option=function(t,n){if("object"==typeof t)i=e.extend(i,t);else if(void 0!==i[t]){if(void 0=+
==n)return i[t];i[t]=n}else{if(!t)return i;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var n="1.6.18",r="left",o="right",s="up",a="down",l="in",u="out",h="none",c="auto",d="swipe",f="pinch",p="tap",m="doubletap",g="longtap+
",v="horizontal",_="vertical",y="all",w=10,b="start",x="move",L="end",k="cancel",E="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.PointerEvent&&!E,C=(window.PointerEvent||window.navigator.msPointerEnabled)&&!E,D="TouchSwipe",S={fing+
ers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pin+
chOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(i){+
var n=e(this),r=n.data(D);if(r&&"string"==typeof i){if(r[i])return r[i].apply(r,Array.prototype.slice.call(arguments,1));e.error("Method "+i+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof i)r.option.apply(r,arguments);else if(!(r||"object+
"!=typeof i&&i))return t.apply(this,arguments);return n},e.fn.swipe.version=n,e.fn.swipe.defaults=S,e.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:x,PHASE_END:L,PHASE_CANCEL:k},e.fn.swipe.directions={LEFT:r,RIGHT:o,UP:s,DOWN:a,IN:l,OUT:u},e.fn.swipe.pageScr+
oll={NONE:h,HORIZONTAL:v,VERTICAL:_,AUTO:c},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:y}})});var ze={active:false,$current:[],$activePages:i(),init(){if(!this.form){throw new Error("Repeats module not correctly instantiated with form prop+
erty.")}if(this.form.view.$.hasClass("pages")){const e=this.form.view.$.find(' .question:not([role="comment"]), .or-appearance-field-list').add(".or-repeat.or-appearance-field-list + .or-repeat-info").filter(function(){return i(this).parent().closest(".o+
r-appearance-field-list").length===0}).attr("role","page");if(e.length>0||e.eq(0).hasClass("or-repeat")){const t=this.form.view.html.parentNode;this.$formFooter=i(t.querySelector(".form-footer"));this.$btnFirst=this.$formFooter.find(".first-page");this.$+
btnPrev=this.$formFooter.find(".previous-page");this.$btnNext=this.$formFooter.find(".next-page");this.$btnLast=this.$formFooter.find(".last-page");this.$toc=i(t.querySelector(".pages-toc__list"));this._updateAllActive(e);this._updateToc();this._toggleBu+
ttons(0);this._setButtonHandlers();this._setRepeatHandlers();this._setBranchHandlers();this._setSwipeHandlers();this._setTocHandlers();this._setLangChangeHandlers();this.active=true;this._flipToFirst()}}},flipToPageContaining(e){let t;t=e.closest('[role=+
"page"]');t=t.length===0?e.find('[role="page"]'):t;if(t.length){this._flipTo(t[0])}this.$toc.parent().find(".pages-toc__overlay").click()},_setButtonHandlers(){const e=this;this.$btnFirst.off(".pagemode").on("click.pagemode",()=>{if(!e.form.pageNavigatio+
nBlocked){e._flipToFirst()}return false});this.$btnPrev.off(".pagemode").on("click.pagemode",()=>{if(!e.form.pageNavigationBlocked){e._prev()}return false});this.$btnNext.off(".pagemode").on("click.pagemode",()=>{if(!e.form.pageNavigationBlocked){e._next+
()}return false});this.$btnLast.off(".pagemode").on("click.pagemode",()=>{if(!e.form.pageNavigationBlocked){e._flipToLast()}return false})},_setSwipeHandlers(){const e=this;const t=this.form.view.$.closest(".main");t.swipe("destroy");t.swipe({allowPageSc+
roll:"vertical",threshold:250,preventDefaultEvents:false,swipeLeft(){e.$btnNext.click()},swipeRight(){e.$btnPrev.click()},swipeStatus(t,i){if(i==="start"){e._getCurrent().find(":focus").blur()}}})},_setTocHandlers(){const e=this;this.$toc.on("click","a",+
function(){if(!e.form.pageNavigationBlocked){const t=i(this.parentNode).prevAll().length;e.flipToPageContaining(i(e.tocItems[t].pageEl))}return false}).parent().find(".pages-toc__overlay").on("click",()=>{e.$toc.parent().find("#toc-toggle").prop("checked+
",false)})},_setRepeatHandlers(){this.form.view.html.addEventListener(te.AddRepeat().type,e=>{const t=e.detail?e.detail[1]:undefined;this._updateAllActive();if(!t||this.$activePages[0]===e.target){this.flipToPageContaining(i(e.target))}});this.form.view.+
html.addEventListener(te.RemoveRepeat().type,e=>{if(this.$current.closest("html").length===0){this._updateAllActive();let t=i(e.target).prev();if(t.length===0){t=i(e.target)}this.flipToPageContaining(t)}})},_setBranchHandlers(){const e=this;this.form.vie+
w.$.on("changebranch.pagemode",()=>{e._updateAllActive();if(e.$activePages.get().indexOf(e.$current[0])===-1){e._next()}e._toggleButtons()})},_setLangChangeHandlers(){this.form.view.html.addEventListener(te.ChangeLanguage().type,()=>{this._updateToc()})}+
,_getCurrent(){return this.$current},_updateAllActive(e){e=e||this.form.view.$.find('[role="page"]');this.$activePages=e.filter(function(){const e=i(this);return e.closest(".disabled").length===0&&(e.is(".question")||e.find(".question:not(.disabled)").le+
ngth>0||e.is(".or-repeat-info")&&e.siblings(".or-repeat").length===0)});this._updateToc()},_getPrev(e){return this.$activePages[e-1]},_getNext(e){return this.$activePages[e+1]},_getCurrentIndex(){return this.$activePages.index(this.$current)},_next(){con+
st e=this;let t;let i;t=this._getCurrentIndex();i=this.form.validateContent(this.$current);return i.then(i=>{let n,r;if(!i){return false}n=e._getNext(t);if(n){r=t+1;e._flipTo(n,r)}return true})},_prev(){const e=this._getCurrentIndex();const t=this._getPr+
ev(e);if(t){this._flipTo(t,e-1)}},_setToCurrent(e){const t=i(e);t.addClass("current hidden");this.$current=t.removeClass("hidden").parentsUntil(".or",".or-group, .or-group-data, .or-repeat").addClass("contains-current").end()},_flipTo(e,t){if(this.$curre+
nt.length>0&&this.$current.closest("html").length===1){if(this.$current[0]!==e){this.$current.removeClass("current fade-out").parentsUntil(".or",".or-group, .or-group-data, .or-repeat").removeClass("contains-current");this._setToCurrent(e);this._focusOnF+
irstQuestion(e);this._toggleButtons(t);e.dispatchEvent(te.PageFlip())}}else{this._setToCurrent(e);this._focusOnFirstQuestion(e);this._toggleButtons(t);e.dispatchEvent(te.PageFlip())}},_flipToFirst(){this._flipTo(this.$activePages[0])},_flipToLast(){this.+
_flipTo(this.$activePages.last()[0])},_focusOnFirstQuestion(e){i(e).find(".question:not(.disabled)").addBack(".question:not(.disabled)").filter(function(){return i(this).parentsUntil(".or",".disabled").length===0}).eq(0).find("input, select, textarea").e+
q(0).trigger("fakefocus");e.scrollIntoView()},_toggleButtons(e){const t=e||this._getCurrentIndex(),i=this._getNext(t),n=this._getPrev(t);this.$btnNext.add(this.$btnLast).toggleClass("disabled",!i);this.$btnPrev.add(this.$btnFirst).toggleClass("disabled",+
!n);this.$formFooter.toggleClass("end",!i)},_updateToc(){if(this.$toc.length){this.tocItems=this.$activePages.get().filter(e=>!e.classList.contains("or-repeat-info")).map((e,t)=>{let i=`[${t+1}]`;const n=e.querySelector(".question-label.active");if(n){i=+
n.textContent}else{const t=e.querySelector(".or-hint.active");if(t){i=t.textContent}}i=i.length>20?`${i.substring(0,20)}...`:i;return{pageEl:e,tocItemText:i}});this.$toc.empty()[0].append(this._getTocHtmlFragment(this.tocItems));this.$toc.closest(".pages+
-toc").removeClass("hide")}},_getTocHtmlFragment(e){const t=document.createDocumentFragment();e.forEach(e=>{const i=document.createElement("li");const n=document.createElement("a");n.setAttribute("href",`#${e.pageEl.querySelector("[name]").getAttribute("+
name")}`);n.textContent=e.tocItemText;i.append(n);t.appendChild(i)});return t}};var Fe={update(e,t){let i;if(!this.form){throw new Error("Branch module not correctly instantiated with form property.")}i=this.form.getRelatedNodes("data-relevant","",e);thi+
s.updateNodes(i,t)},updateNodes(e,t){let n;let r;let o;let s;let a;let l;const u={};const h=[];let c=false;const d=this;const f=this.form.repeatsPresent&&this.form.view.html.querySelector(".or-repeat.clone");e.each(function(){const e=i(this);const p=this+
;let m;let g;let v;let _;if(h.indexOf(e.attr("name"))!==-1){return}r=e.closest(".or-branch");n={};l=null;n.relevant=d.form.input.getRelevant(p);n.path=d.form.input.getName(p);if(r.length!==1){if(e.parentsUntil(".or","#or-calculated-items").length===0){co+
nsole.error("could not find branch node for ",this)}return}v=n.path.split("/");if(v.length>3){_=v.splice(0,v.length-1).join("/");g=d.form.view.$.find(`.or-group[name="${_}"],.or-group-data[name="${_}"]`).filter(function(){const e=i(this);return e.childre+
n(".or-repeat").length>0||e.children(".or-repeat-info").length===0});if(g.length===0){return}}s=f&&r.parentsUntil(".or",".or-repeat").length>0;a=f&&r.parentsUntil(".or",".or-repeat.clone").length>0;if(e.children(`.or-repeat-info[data-name="${n.path}"]`).+
length&&!e.children(`.or-repeat[name="${n.path}"]`).length){m=null}else{m=n.path}n.ind=m&&a?d.form.input.getIndex(p):0;if(n.relevant.indexOf("..")===-1){if(!s){l=n.relevant}else{l=`${n.relevant}__${n.path.substring(0,n.path.lastIndexOf("/"))}__${n.ind}`}+
}if(l&&typeof u[l]!=="undefined"){o=u[l]}else{o=d.evaluate(n.relevant,m,n.ind);u[l]=o}if(!s){h.push(this.getAttribute("name"))}if(d.process(r,n.path,o,t)===true){c=true}});if(c){this.form.view.$.trigger("changebranch")}},evaluate(e,t,i){const n=this.form+
.model.evaluate(e,"boolean",t,i);return n},process(e,t,i,n){if(i===true){return this.enable(e,t)}else{return this.disable(e,t,n)}},selfRelevant(e){return!e.hasClass("disabled")&&!e.hasClass("pre-init")},enable(e,t){let i=false;if(!this.selfRelevant(e)){i+
=true;e.removeClass("disabled pre-init");this.form.calc.update({relevantPath:t});this.form.itemset.update({relevantPath:t});this.form.output.update();this.form.widgets.enable(e[0]);this.activate(e)}return i},disable(e,t,i){const n=e.hasClass("pre-init");+
let r=false;if(n||this.selfRelevant(e)||i){r=true;if(!n){if(this.form.options.clearIrrelevantImmediately||i){this.clear(e,t)}}else{e.removeClass("pre-init")}this.deactivate(e)}return r},clear(e,t){e.clearInputs("change",te.InputUpdate().type);if(e.is(".o+
r-group, .or-group-data")){this.form.calc.update({relevantPath:t})}},setDisabledProperty(e,t){const i=e.prop("nodeName").toLowerCase();if(i==="label"){e.children("input, select, textarea").prop("disabled",t)}else if(i==="fieldset"||i==="section"){e.prop(+
"disabled",t)}else{e.find("fieldset, input, select, textarea").prop("disabled",t)}},activate(e){this.setDisabledProperty(e,false)},deactivate(e){e.addClass("disabled");this.form.widgets.disable(e[0]);this.setDisabledProperty(e,true)}};var qe={update(e={}+
){const t=this;const n={};let r;if(!this.form){throw new Error("Output module not correctly instantiated with form property.")}if(e.relevantPath){r=this.form.getRelatedNodes("data-items-path",`[name^="${e.relevantPath}/"]`).add(this.form.getRelatedNodes(+
"data-items-path",`[name^="${e.relevantPath}/"] ~ datalist > .itemset-template`)).add(this.form.getRelatedNodes("data-items-path",`[name="${e.relevantPath}"]`)).add(this.form.getRelatedNodes("data-items-path",`[name="${e.relevantPath}"] ~ datalist > .ite+
mset-template`)).add(this.form.getRelatedNodes("data-items-path",`[data-name="${e.relevantPath}"]`)).add(this.form.getRelatedNodes("data-items-path",`[data-name="${e.relevantPath}"] ~ datalist > .itemset-template`))}else{r=this.form.getRelatedNodes("data+
-items-path",".itemset-template",e)}const o=this.form.repeatsPresent&&this.form.view.html.querySelector(".or-repeat.clone");r.each(function(){let e;let r;const s=this;const a=i(this);const l={};if(a.parentsUntil(".or",".or-branch").parentsUntil(".or",".d+
isabled").length){return}const u={};const c=a.data();const d=a.prop("nodeName").toLowerCase();const f=a.parent("select, datalist");if(d==="label"){const t=a.children("input").eq(0);[].slice.call(t[0].attributes).forEach(e=>{l[e.name]=e.value});e=t.hasCla+
ss("ignore")?t.closest(".option-wrapper").siblings("input.rank").eq(0):t}else if(f.prop("nodeName").toLowerCase()==="select"){e=f}else if(f.prop("nodeName").toLowerCase()==="datalist"){e=f.siblings("input:not(.widget)")}const p=a.closest("label, select, +
datalist").siblings(".itemset-labels");const m=a.attr("data-items-path");let g=p.attr("data-label-type");let v=p.attr("data-label-ref");const _=h(v,"translate");if(_.length){v=_[0][1][0];g="langs"}const y=p.attr("data-value-ref");const w=t.form.input.get+
Name(e[0]);const b=o&&e.parentsUntil(".or",".or-repeat").length>0?true:false;const x=o&&e.parentsUntil(".or",".or-repeat.clone").length>0?true:false;const L=x?t.form.input.getIndex(e[0]):0;if(typeof n[m]!=="undefined"){r=n[m]}else{const e=true;r=i(t.form+
.model.evaluate(m,"nodes",w,L,e));if(!b){n[m]=r}}u.length=r.length;u.text=r.text();if(u.length===c.length&&u.text===c.text){return}a.data(u);const k=a.closest(".question");k.find(d).not(a).remove();const E=k.find(".or-option-translations").empty()[0];con+
st T=document.createDocumentFragment();const C=document.createDocumentFragment();let D=[];r.each(function(){const e=this;const i=t.getNodesFromItem(v,e);if(!i||!i.length){D=[{language:"",label:"error",active:true}]}else{switch(g){case"itext":D=p.find(`[d+
ata-itext-id="${i[0].textContent}"]`).get().map(e=>{const t=e.getAttribute("lang");const i=e.nodeName;const n=e.src;const r=e.textContent;const o=e.classList.contains("active");const s=e.alt;return{language:t,type:i,text:r,active:o,src:n,alt:s}});break;c+
ase"langs":D=i.map(e=>{const i=e.getAttribute("lang");const n=!i&&!t.form.langs.currentLang||i===t.form.langs.currentLang;return{language:i,type:"span",text:e.textContent,active:n}});break;default:D=[{language:"",type:"span",text:i&&i.length?i[0].textCon+
tent:"error",active:true}]}}const n=t.getNodeFromItem(y,e).textContent;if(d==="label"){T.appendChild(t.createInput(l,D,n))}else if(d==="option"){let e="";if(D.length>1){D.forEach(i=>{if(i.active){e=i.text}C.appendChild(t.createOptionTranslation(i,n))})}e+
lse{e=D[0].text}T.appendChild(t.createOption(e,n))}});s.parentNode.appendChild(T);if(E){E.appendChild(C)}let S=t.form.model.node(w,L).getVal();if(S!==""){if(e.hasClass("rank")){S=""}t.form.input.setVal(e[0],S);e.trigger("change")}if(f.length>0||e.hasClas+
s("rank")){e.trigger("changeoption")}})},getNodesFromItem(e,t,i){if(!e||!t){throw new Error("Error: could not query instance item, no expression and/or context provided")}const n=i?9:7;const r=typeof this.form.model.xml.evaluate!=="undefined"?"evaluate":+
"jsEvaluate";const o=this.form.model.xml[r](e,t,this.form.model.getNsResolver(),n,null);const s=[];if(!i){for(let e=0;e<o.snapshotLength;e++){s.push(o.snapshotItem(e))}}else{s.push(o.singleNodeValue)}return s},getNodeFromItem(e,t){const i=this.getNodesFr+
omItem(e,t,true);return i.length?i[0]:null},createOption(e,t){const i=document.createElement("option");i.textContent=e;i.value=t;return i},createOptionTranslation(e,t){const i=document.createElement(e.type||"span");if(e.text){i.textContent=e.text;i.class+
List.add("option-label")}i.classList.toggle("active",e.active);if(e.language){i.lang=e.language}i.dataset.optionValue=t;if(e.src){i.src=e.src;i.alt=e.alt}return i},createInput(e,t,i){const n=this;const r=document.createElement("label");const o=document.c+
reateElement("input");Object.getOwnPropertyNames(e).forEach(t=>{o.setAttribute(t,e[t])});o.value=i;r.appendChild(o);t.forEach(e=>{r.appendChild(n.createOptionTranslation(e,i))});return r}};var Be={status:0,lastChanged:null,all:null,updateTotal(){this.all+
=[...this.form.view.html.querySelectorAll(".question:not(.disabled):not(.or-appearance-comment):not(.or-appearance-dn):not(.readonly)")].filter(e=>!e.closest(".disabled"))},update(e){let t;if(!this.all||!e){this.updateTotal()}this.lastChanged=e||this.las+
tChanged;if(this.lastChanged){t=Math.round((this.all.indexOf(this.lastChanged.closest(".question"))+1)*100/this.all.length)}if(t>0&&t!==this.status){this.status=t;this.form.view.html.dispatchEvent(te.ProgressUpdate(t))}},get(){return this.status}};class +
Ue{}const He=document.createRange();class Ve{constructor(e,t){this.element=e;this.options=t||{};this.question=e.closest(".question");this._props=this._getProps();return this._init()||this}_init(){this.value=this.originalInputValue}_getProps(){const e=thi+
s;return{get readonly(){return e.element.nodeName.toLowerCase()==="select"?!!e.element.getAttribute("readonly"):!!e.element.readOnly},appearances:[...this.element.closest(".question, form.or").classList].filter(e=>e.indexOf("or-appearance-")===0).map(e=>+
e.substring(14)),multiple:!!this.element.multiple,disabled:!!this.element.disabled,type:this.element.getAttribute("data-type-xml")}}disable(){}enable(){}update(){}get props(){return this._props}get resetButtonHtml(){return He.createContextualFragment(`<b+
utton \n                type="button" \n                class="btn-icon-only btn-reset" \n                aria-label="reset">\n                <i class="icon icon-refresh"> </i>\n            </button>`)}get downloadButtonHtml(){return He.createContextual+
Fragment(`<a \n                class="btn-icon-only btn-download" \n                aria-label="download" \n                download \n                href=""><i class="icon icon-download"> </i></a>`)}get value(){return undefined}set value(e){}get origin+
alInputValue(){return Me.getVal(this.element)}set originalInputValue(e){Me.setVal(this.element,e,null);this.element.dispatchEvent(te.Change())}static get name(){return this.constructor.name}static get list(){return false}static condition(){return true}}c+
onst je=".dropdown-backdrop";const Ze="[data-toggle=dropdown]";const We=function(e){i(e).on("click.bs.dropdown",this.toggle)};We.prototype.toggle=function(e){const t=i(this);if(t.is(".disabled, :disabled")){return}const n=Ye(t);const r=n.hasClass("open")+
;Ge();if(!r){if("ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length){i('<div class="dropdown-backdrop"/>').insertAfter(i(this)).on("click",Ge)}const r={relatedTarget:this};n.trigger(e=i.Event("show.bs.dropdown",r));if(e.isDefaultP+
revented()){return}n.toggleClass("open").trigger("shown.bs.dropdown",r);t.focus()}return false};We.prototype.keydown=function(e){if(!/^(38|40|27)$/.test(e.keyCode)){return}const t=i(this);e.preventDefault();e.stopPropagation();if(t.is(".disabled, :disabl+
ed")){return}const n=Ye(t);const r=n.hasClass("open");if(!r||r&&e.keyCode===27){if(e.which===27){n.find(Ze).focus()}return t.click()}const o=" li:not(.divider):visible a";const s=n.find(`[role=menu]${o}, [role=listbox]${o}`);if(!s.length){return}let a=s.+
index(s.filter(":focus"));if(e.keyCode===38&&a>0){a--}if(e.keyCode===40&&a<s.length-1){a++}if(!~a){a=0}s.eq(a).focus()};function Ge(e){i(je).remove();i(Ze).each(function(){const t=Ye(i(this));const n={relatedTarget:this};if(!t.hasClass("open")){return}t.+
trigger(e=i.Event("hide.bs.dropdown",n));if(e.isDefaultPrevented()){return}t.removeClass("open").trigger("hidden.bs.dropdown",n)})}function Ye(e){let t=e.attr("data-target");if(!t){t=e.attr("href");t=t&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,"")+
}const n=t&&i(t);return n&&n.length?n:e.parent()}const Xe=i.fn.dropdown;i.fn.dropdown=function(e){return this.each(function(){const t=i(this);const n=t.data("bs.dropdown");if(!n){t.data("bs.dropdown",new We(this))}if(typeof e==="string"){n[e].call(t)}})}+
;i.fn.dropdown.Constructor=We;i.fn.dropdown.noConflict=function(){i.fn.dropdown=Xe;return this};i(document).on("click.bs.dropdown.data-api",Ge).on("click.bs.dropdown.data-api",".dropdown form",e=>{e.stopPropagation()}).on("click.bs.dropdown.data-api",Ze,+
We.prototype.toggle).on("keydown.bs.dropdown.data-api",`${Ze}, [role=menu], [role=listbox]`,We.prototype.keydown);class Ke extends Ve{static get selector(){return".question select"}static get list(){return true}static condition(){return!a.touch}_init(){c+
onst e=i(this.element);e.css("display","none");const t=this._createLi(this._getTemplate());this.$picker=t.insertAfter(e);if(this.props.readonly){this.disable()}this._clickListener();this._focusListener()}_getTemplate(){return`\n        <div class="btn-gr+
oup bootstrap-select widget clearfix">\n            <button type="button" class="btn btn-default dropdown-toggle clearfix" data-toggle="dropdown">\n                <span class="selected">__SELECTED_OPTIONS</span><span class="caret"></span>\n            <+
/button>\n            <ul class="dropdown-menu" role="menu">__ADD_LI</ul>\n        </div>`}_createLi(e){const t=[];let n="";const r=this.props.multiple?'type="checkbox"':`type="radio" name="${Math.random()*1e5}"`;i(this.element).find("option").each(funct+
ion(){t.push({label:i(this).text(),selected:i(this).is(":selected"),value:i(this).attr("value")})});if(t.length>0){e=e.replace("__SELECTED_OPTIONS",this._createSelectedStr());for(let e=0;e<t.length;e++){if(t[e].value){const i=t[e].selected?' checked="che+
cked"':"";const o=t[e].selected?'class="active"':"";n+=`\n                    <li ${o}>\n                        <a class="option-wrapper" tabindex="-1" href="#">\n                            <label>\n                                <input class="ignore"+
 ${r}${i} value="${t[e].value}" />\n                                <span class="option-label">${t[e].label}</span>\n                            </label>\n                        </a>\n                    </li>`}}}e=e.replace("__ADD_LI",n);return i(e)}_c+
reateSelectedStr(){const e=[];const t=i(this.element);t.find("option:selected").each(function(){if(i(this).attr("value").length>0){e.push(i(this).text())}});if(e.length===0){return Se("selectpicker.noneselected")}else if(e.length===1){return e[0]}else{re+
turn Se("selectpicker.numberselected",{number:e.length})}}_clickListener(){const e=this;this.$picker.on("click","li:not(.disabled)",function(t){const i=this;const n=i.querySelector("input");const r=e.element;const o=r.querySelector(`option[value="${n.val+
ue}"]`);const s=o.matches(":checked");if(t.target.nodeName.toLowerCase()!=="input"){t.preventDefault()}if(!e.props.multiple){e.$picker.find("li").removeClass("active");w(o,"option").forEach(e=>{e.selected=false});e.$picker.find("input").prop("checked",fa+
lse)}else{t.stopPropagation()}setTimeout(()=>{if(s){i.classList.remove("active");n.checked=false;o.selected=false}else{i.classList.add("active");o.selected=true;n.checked=true}e.$picker.find(".selected").html(e._createSelectedStr());r.dispatchEvent(new t+
e.Change)},10)}).on("keydown","li:not(.disabled)",e=>{const t=e.keyCode.toString(10);if(/(13|32)/.test(t)){if(!/(32)/.test(t)){e.preventDefault()}const n=i(":focus");n.click();n.focus();e.preventDefault()}}).on("click","li.disabled",e=>{e.stopPropagation+
();return false}).on("click","a",e=>{e.preventDefault()})}_focusListener(){const e=this;this.element.addEventListener(te.ApplyFocus().type,()=>{e.$picker.find(".dropdown-toggle").focus()})}disable(){this.$picker[0].querySelectorAll("li").forEach(e=>{e.cl+
assList.add("disabled");const t=e.querySelector("input");t.disabled=true;t.readOnly=true})}enable(){this.$picker[0].querySelectorAll("li").forEach(e=>{e.classList.remove("disabled");const t=e.querySelector("input");t.disabled=false;t.readOnly=false})}upd+
ate(){this.$picker.remove();this._init()}}class Qe extends Ve{static get selector(){return".question select[multiple]"}static condition(){return a.touch}_init(){const e=document.createRange().createContextualFragment('<span class="widget mobileselect"></+
span>');this.element.after(e);this.widget=this.element.parentElement.querySelector(".widget");this.element.addEventListener("change",()=>{this._showSelectedValues()});this._showSelectedValues()}_showSelectedValues(){this.widget.textContent=this.originalI+
nputValue.join(", ")}update(){this._showSelectedValues()}}const Je="relevantDropdown";i.expr[":"].RD_contains=i.expr.createPseudo(e=>t=>i(t).text().toUpperCase().indexOf(e.toUpperCase())>=0);function et(e,t,n){this.namespace=Je;this.element=e;this.option+
s=i.extend({fadeOutSpeed:"normal",change:null},t);if(n){n.stopPropagation();n.preventDefault()}this._init()}et.prototype._init=function(){const e=i(this.element);this.listId=e.attr("list");this.$fakeDatalist=i("<ul />",{class:"datalist widget",id:this.li+
stId}).appendTo(e.parent());this._updateFakeDatalist();this._setEventListeners()};et.prototype._updateFakeDatalist=function(){const e=i(`#${this.listId}`);const t=document.createDocumentFragment();this.$fakeDatalist.empty();e.find("option").each(function+
(){const e=i("<li />",{text:i(this).val()})[0];t.appendChild(e)});this.$fakeDatalist.append(t);this.$fakeDatalistItems=this.$fakeDatalist.find("li")};et.prototype._setEventListeners=function(){const e=this;const t=i(this.element);let n;let r=0;t.on("focu+
s",()=>{e.$fakeDatalist.scrollTop(0);r=0}).on("blur",()=>{setTimeout(()=>{e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed);e.$fakeDatalistItems.removeClass("active")},500)}).on("keyup",function(r){n=t.position();e.$fakeDatalist.show().css({top:n.top+i(thi+
s).outerHeight(),left:n.left,width:t.outerWidth()});e.$fakeDatalistItems.hide();e.$fakeDatalist.find(`li:RD_contains("${t.val()}")`).show()});this.$fakeDatalist.on("mouseenter","li",function(){i(this).addClass("active").siblings().removeClass("active")})+
.on("mouseleave","li",function(){i(this).removeClass("active")});i(window).resize(function(){n=t.position();e.$fakeDatalist.css({top:n.top+i(this).outerHeight(),left:n.left,width:t.outerWidth()})});t.on("keydown",i=>{const n=e.$fakeDatalist.find("li.acti+
ve");const o=e.$fakeDatalist.outerHeight();const s=e.$fakeDatalistItems.outerHeight();if(i.keyCode==38){if(n.length){prevAll=n.prevAll("li:visible");if(prevAll.length>0){n.removeClass("active");prevAll.eq(0).addClass("active")}if(prevAll.length&&prevAll.+
position().top<0&&r>0){e.$fakeDatalist.scrollTop(r-=s)}}}if(i.keyCode==40){if(n.length){const t=n.nextAll("li:visible");if(t.length>0){n.removeClass("active");t.eq(0).addClass("active")}if(t.length&&t.position().top+s>=o){e.$fakeDatalist.stop().animate({+
scrollTop:r+=s},200)}}else{e.$fakeDatalistItems.removeClass("active");e.$fakeDatalist.find("li:visible:first").addClass("active")}}if(i.keyCode==13||i.keyCode==9){if(n.length){t.val(n.text()).trigger("input")}e.$fakeDatalist.fadeOut(e.options.fadeOutSpee+
d);e.$fakeDatalistItems.removeClass("active")}if(i.keyCode!=13&&i.keyCode!=38&&i.keyCode!=40){e.$fakeDatalistItems.removeClass("active");e.$fakeDatalist.find("li:visible:first").addClass("active");e.$fakeDatalist.scrollTop(0);r=0}});this.$fakeDatalist.on+
("click","li",function(){const n=i("li.active");if(n.length){t.val(i(this).text()).trigger("input")}e.$fakeDatalist.fadeOut(e.options.fadeOutSpeed);e.$fakeDatalistItems.removeClass("active")})};et.prototype.update=function(){this._updateFakeDatalist()};i+
.fn[Je]=function(e,t){e=e||{};return this.each(function(){const n=i(this);let r=n.data(Je);if(!r&&typeof e==="object"){n.data(Je,r=new et(this,e,t))}else if(r&&typeof e==="string"){r[e](this)}})};const tt=!("list"in document.createElement("input")&&"opti+
ons"in document.createElement("datalist")&&typeof window.HTMLDataListElement!=="undefined");class it extends Ve{static get selector(){return".question input[list]"}static get list(){return true}_init(){const e=this.element.getAttribute("list");this.optio+
ns=[...this.question.querySelectorAll(`datalist#${e} > option`)];this.options.forEach(e=>{const t=e.getAttribute("value");if(!e.classList.contains("itemset-template")&&e.textContent&&t!==undefined&&t!==null){e.dataset.value=t;e.setAttribute("value",e.tex+
tContent);e.textContent=""}});const t=document.createRange().createContextualFragment(`<input type="text" class="ignore widget autocomplete" list="${e}" />`);this.element.classList.add("hide");this.element.after(t);this.fakeInput=this.element.parentEleme+
nt.querySelector("input.autocomplete");if(this.props.readonly){this.fakeInput.setAttribute("readonly","readonly")}if(this.props.disabled){this.fakeInput.setAttribute("disabled","disabled")}if(tt){console.debug("Polyfill required");i(this.fakeInput).relev+
antDropdown()}this._setFakeInputListener();this._setFocusListener();this._showCurrentLabel()}_showCurrentLabel(){const e=this.originalInputValue;const t=this._findLabel(e);this.fakeInput.value=t;if(e&&!t){this.fakeInput.dispatchEvent(te.Input())}}_setFak+
eInputListener(){this.fakeInput.addEventListener("input",e=>{const t=e.target;const i=t.value;const n=this._findValue(i)||"";if(this.originalInputValue!==n){this.originalInputValue=n}t.classList.toggle("notfound",i&&!n)})}_findValue(e){let t="";if(!e){re+
turn""}this.options.forEach(i=>{if(i.value===e){t=i.getAttribute("data-value");return false}});return t}_findLabel(e){let t="";if(!e){return""}this.options.forEach(i=>{if(i.dataset.value===e){t=i.value;return false}});return t}_setFocusListener(){this.el+
ement.addEventListener(te.ApplyFocus().type,()=>{this.fakeInput.focus()})}disable(){this.fakeInput.classList.add("disabled")}enable(){this.fakeInput.classList.remove("disabled")}update(){this.element.parentElement.querySelector(".widget").remove();this._+
init()}}var nt=t(function(t,i){                                                                                                                                                                                                                                
/* @preserve                                                                                                                                                                                                                                                   
	 * Leaflet 1.5.1+build.2e3e0ff, a JS library for interactive maps. http://leafletjs.com                                                                                                                                                                       
	 * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade                                                                                                                                                                                                  
	 */                                                                                                                                                                                                                                                           
(function(e,t){t(i)})(e,function(e){var t="1.5.1+build.2e3e0ffb";var i=Object.freeze;Object.freeze=function(e){return e};function n(e){var t,i,n,r;for(i=1,n=arguments.length;i<n;i++){r=arguments[i];for(t in r){e[t]=r[t]}}return e}var r=Object.create||fun+
ction(){function e(){}return function(t){e.prototype=t;return new e}}();function o(e,t){var i=Array.prototype.slice;if(e.bind){return e.bind.apply(e,i.call(arguments,1))}var n=i.call(arguments,2);return function(){return e.apply(t,n.length?n.concat(i.cal+
l(arguments)):arguments)}}var s=0;function a(e){e._leaflet_id=e._leaflet_id||++s;return e._leaflet_id}function l(e,t,i){var n,r,o,s;s=function(){n=false;if(r){o.apply(i,r);r=false}};o=function(){if(n){r=arguments}else{e.apply(i,arguments);setTimeout(s,t)+
;n=true}};return o}function u(e,t,i){var n=t[1],r=t[0],o=n-r;return e===n&&i?e:((e-r)%o+o)%o+r}function h(){return false}function c(e,t){t=t===undefined?6:t;return+(Math.round(e+("e+"+t))+("e-"+t))}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s++
$/g,"")}function f(e){return d(e).split(/\s+/)}function p(e,t){if(!e.hasOwnProperty("options")){e.options=e.options?r(e.options):{}}for(var i in t){e.options[i]=t[i]}return e.options}function m(e,t,i){var n=[];for(var r in e){n.push(encodeURIComponent(i?+
r.toUpperCase():r)+"="+encodeURIComponent(e[r]))}return(!t||t.indexOf("?")===-1?"?":"&")+n.join("&")}var g=/\{ *([\w_-]+) *\}/g;function v(e,t){return e.replace(g,function(e,i){var n=t[i];if(n===undefined){throw new Error("No value provided for variable +
"+e)}else if(typeof n==="function"){n=n(t)}return n})}var _=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function y(e,t){for(var i=0;i<e.length;i++){if(e[i]===t){return i}}return-1}var w="data:image/gif;base64,R+
0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var x=0;function k(e){var t=+new Date,i=Math.max(0,16-(t-x));x=t+i;return window.setTimeout(e,i)}var E=window.requestAnimationFrame||b("RequestA+
nimationFrame")||k;var T=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,i){if(i&&E===k){e.call(t)}else{return E.call(window,o(e,t))}}function D(e){if(e){T.call(+
window,e)}}var S=(Object.freeze||Object)({freeze:i,extend:n,create:r,bind:o,lastId:s,stamp:a,throttle:l,wrapNum:u,falseFn:h,formatNum:c,trim:d,splitWords:f,setOptions:p,getParamString:m,template:v,isArray:_,indexOf:y,emptyImageUrl:w,requestFn:E,cancelFn:+
T,requestAnimFrame:C,cancelAnimFrame:D});function M(){}M.extend=function(e){var t=function(){if(this.initialize){this.initialize.apply(this,arguments)}this.callInitHooks()};var i=t.__super__=this.prototype;var o=r(i);o.constructor=t;t.prototype=o;for(var+
 s in this){if(this.hasOwnProperty(s)&&s!=="prototype"&&s!=="__super__"){t[s]=this[s]}}if(e.statics){n(t,e.statics);delete e.statics}if(e.includes){P(e.includes);n.apply(null,[o].concat(e.includes));delete e.includes}if(o.options){e.options=n(r(o.options+
),e.options)}n(o,e);o._initHooks=[];o.callInitHooks=function(){if(this._initHooksCalled){return}if(i.callInitHooks){i.callInitHooks.call(this)}this._initHooksCalled=true;for(var e=0,t=o._initHooks.length;e<t;e++){o._initHooks[e].call(this)}};return t};M.+
include=function(e){n(this.prototype,e);return this};M.mergeOptions=function(e){n(this.prototype.options,e);return this};M.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1);var i=typeof e==="function"?e:function(){this[e].apply(this,t+
)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(i);return this};function P(e){if(typeof L==="undefined"||!L||!L.Mixin){return}e=_(e)?e:[e];for(var t=0;t<e.length;t++){if(e[t]===L.Mixin.Events){console.warn("Depre+
cated include of L.Mixin.Events: "+"this property will be removed in future releases, "+"please inherit from L.Evented instead.",(new Error).stack)}}}var I={on:function(e,t,i){if(typeof e==="object"){for(var n in e){this._on(n,e[n],t)}}else{e=f(e);for(va+
r r=0,o=e.length;r<o;r++){this._on(e[r],t,i)}}return this},off:function(e,t,i){if(!e){delete this._events}else if(typeof e==="object"){for(var n in e){this._off(n,e[n],t)}}else{e=f(e);for(var r=0,o=e.length;r<o;r++){this._off(e[r],t,i)}}return this},_on:+
function(e,t,i){this._events=this._events||{};var n=this._events[e];if(!n){n=[];this._events[e]=n}if(i===this){i=undefined}var r={fn:t,ctx:i},o=n;for(var s=0,a=o.length;s<a;s++){if(o[s].fn===t&&o[s].ctx===i){return}}o.push(r)},_off:function(e,t,i){var n,+
r,o;if(!this._events){return}n=this._events[e];if(!n){return}if(!t){for(r=0,o=n.length;r<o;r++){n[r].fn=h}delete this._events[e];return}if(i===this){i=undefined}if(n){for(r=0,o=n.length;r<o;r++){var s=n[r];if(s.ctx!==i){continue}if(s.fn===t){s.fn=h;if(th+
is._firingCount){this._events[e]=n=n.slice()}n.splice(r,1);return}}}},fire:function(e,t,i){if(!this.listens(e,i)){return this}var r=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firin+
gCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s];l.fn.call(l.ctx||this,r)}this._firingCount--}}if(i){this._propagateEvent(r)}return this},listens:function(e,t){var i=this._events&&this._events[e];if(i&&i.length){return true}if(t){+
for(var n in this._eventParents){if(this._eventParents[n].listens(e,t)){return true}}}return false},once:function(e,t,i){if(typeof e==="object"){for(var n in e){this.once(n,e[n],t)}return this}var r=o(function(){this.off(e,t,i).off(e,r,i)},this);return t+
his.on(e,t,i).on(e,r,i)},addEventParent:function(e){this._eventParents=this._eventParents||{};this._eventParents[a(e)]=e;return this},removeEventParent:function(e){if(this._eventParents){delete this._eventParents[a(e)]}return this},_propagateEvent:functi+
on(e){for(var t in this._eventParents){this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),true)}}};I.addEventListener=I.on;I.removeEventListener=I.clearAllEventListeners=I.off;I.addOneTimeEventListener=I.once;I.fireEvent=I.fi+
re;I.hasEventListeners=I.listens;var N=M.extend(I);function A(e,t,i){this.x=i?Math.round(e):e;this.y=i?Math.round(t):t}var O=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};A.prototype={clone:function(){return new A(this.x,this.y)},add:fun+
ction(e){return this.clone()._add(R(e))},_add:function(e){this.x+=e.x;this.y+=e.y;return this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){this.x-=e.x;this.y-=e.y;return this},divideBy:function(e){return this.clone()._+
divideBy(e)},_divideBy:function(e){this.x/=e;this.y/=e;return this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){this.x*=e;this.y*=e;return this},scaleBy:function(e){return new A(this.x*e.x,this.y*e.y)},unscaleBy:fun+
ction(e){return new A(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.f+
loor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=O(thi+
s.x);this.y=O(this.y);return this},distanceTo:function(e){e=R(e);var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){e=R(e);return e.x===this.x&&e.y===this.y},contains:function(e){e=R(e);return Math.abs(e.x)<=Math.abs(this.x)&&Mat+
h.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}};function R(e,t,i){if(e instanceof A){return e}if(_(e)){return new A(e[0],e[1])}if(e===undefined||e===null){return e}if(typeof e==="object"&&"x"in e&&"y"in e){+
return new A(e.x,e.y)}return new A(e,t,i)}function $(e,t){if(!e){return}var i=t?[e,t]:e;for(var n=0,r=i.length;n<r;n++){this.extend(i[n])}}$.prototype={extend:function(e){e=R(e);if(!this.min&&!this.max){this.min=e.clone();this.max=e.clone()}else{this.min+
.x=Math.min(e.x,this.min.x);this.max.x=Math.max(e.x,this.max.x);this.min.y=Math.min(e.y,this.min.y);this.max.y=Math.max(e.y,this.max.y)}return this},getCenter:function(e){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:+
function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:+
function(e){var t,i;if(typeof e[0]==="number"||e instanceof A){e=R(e)}else{e=z(e)}if(e instanceof $){t=e.min;i=e.max}else{t=i=e}return t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=z(e);var t=this.min,i=this+
.max,n=e.min,r=e.max,o=r.x>=t.x&&n.x<=i.x,s=r.y>=t.y&&n.y<=i.y;return o&&s},overlaps:function(e){e=z(e);var t=this.min,i=this.max,n=e.min,r=e.max,o=r.x>t.x&&n.x<i.x,s=r.y>t.y&&n.y<i.y;return o&&s},isValid:function(){return!!(this.min&&this.max)}};functio+
n z(e,t){if(!e||e instanceof $){return e}return new $(e,t)}function F(e,t){if(!e){return}var i=t?[e,t]:e;for(var n=0,r=i.length;n<r;n++){this.extend(i[n])}}F.prototype={extend:function(e){var t=this._southWest,i=this._northEast,n,r;if(e instanceof B){n=e+
;r=e}else if(e instanceof F){n=e._southWest;r=e._northEast;if(!n||!r){return this}}else{return e?this.extend(U(e)||q(e)):this}if(!t&&!i){this._southWest=new B(n.lat,n.lng);this._northEast=new B(r.lat,r.lng)}else{t.lat=Math.min(n.lat,t.lat);t.lng=Math.min+
(n.lng,t.lng);i.lat=Math.max(r.lat,i.lat);i.lng=Math.max(r.lng,i.lng)}return this},pad:function(e){var t=this._southWest,i=this._northEast,n=Math.abs(t.lat-i.lat)*e,r=Math.abs(t.lng-i.lng)*e;return new F(new B(t.lat-n,t.lng-r),new B(i.lat+n,i.lng+r))},ge+
tCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B+
(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth+
:function(){return this._northEast.lat},contains:function(e){if(typeof e[0]==="number"||e instanceof B||"lat"in e){e=U(e)}else{e=q(e)}var t=this._southWest,i=this._northEast,n,r;if(e instanceof F){n=e.getSouthWest();r=e.getNorthEast()}else{n=r=e}return n+
.lat>=t.lat&&r.lat<=i.lat&&n.lng>=t.lng&&r.lng<=i.lng},intersects:function(e){e=q(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>=t.lat&&n.lat<=i.lat,s=r.lng>=t.lng&&n.lng<=i.lng;return o&&s},overlaps:function(e)+
{e=q(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>t.lat&&n.lat<i.lat,s=r.lng>t.lng&&n.lng<i.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",+
")},equals:function(e,t){if(!e){return false}e=q(e);return this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(e,t){if(e instanceof F){return e+
}return new F(e,t)}function B(e,t,i){if(isNaN(e)||isNaN(t)){throw new Error("Invalid LatLng object: ("+e+", "+t+")")}this.lat=+e;this.lng=+t;if(i!==undefined){this.alt=+i}}B.prototype={equals:function(e,t){if(!e){return false}e=U(e);var i=Math.max(Math.a+
bs(this.lat-e.lat),Math.abs(this.lng-e.lng));return i<=(t===undefined?1e-9:t)},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return V.distance(this,U(e))},wrap:function(){return V.wrapLatLng(this)},toBo+
unds:function(e){var t=180*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return q([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new B(this.lat,this.lng,this.alt)}};function U(e,t,i){if(e instanceof B){return e}if(_(e)&&typeof +
e[0]!=="object"){if(e.length===3){return new B(e[0],e[1],e[2])}if(e.length===2){return new B(e[0],e[1])}return null}if(e===undefined||e===null){return e}if(typeof e==="object"&&"lat"in e){return new B(e.lat,"lng"in e?e.lng:e.lon,e.alt)}if(t===undefined){+
return null}return new B(e,t,i)}var H={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return +
this.projection.unproject(n)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBoun+
ds:function(e){if(this.infinite){return null}var t=this.projection.bounds,i=this.scale(e),n=this.transformation.transform(t.min,i),r=this.transformation.transform(t.max,i);return new $(n,r)},infinite:false,wrapLatLng:function(e){var t=this.wrapLng?u(e.ln+
g,this.wrapLng,true):e.lng,i=this.wrapLat?u(e.lat,this.wrapLat,true):e.lat,n=e.alt;return new B(i,t,n)},wrapLatLngBounds:function(e){var t=e.getCenter(),i=this.wrapLatLng(t),n=t.lat-i.lat,r=t.lng-i.lng;if(n===0&&r===0){return e}var o=e.getSouthWest(),s=e+
.getNorthEast(),a=new B(o.lat-n,o.lng-r),l=new B(s.lat-n,s.lng-r);return new F(a,l)}};var V=n({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var i=Math.PI/180,n=e.lat*i,r=t.lat*i,o=Math.sin((t.lat-e.lat)*i/2),s=Math.sin((t.lng-e.lng)*i/2),a=o*o+
+Math.cos(n)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}});var j=6378137;var Z={R:j,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),r=Math.sin(n*t);ret+
urn new A(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=j*Math.PI;return new $([-e,-e],[e,e])}()};function W(e,t+
,i,n){if(_(e)){this._a=e[0];this._b=e[1];this._c=e[2];this._d=e[3];return}this._a=e;this._b=t;this._c=i;this._d=n}W.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){t=t||1;e.x=t*(this._a*e.x+this._b);e.y=t*+
(this._c*e.y+this._d);return e},untransform:function(e,t){t=t||1;return new A((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function G(e,t,i,n){return new W(e,t,i,n)}var Y=n({},V,{code:"EPSG:3857",projection:Z,transformation:function(){var e=.5/(Mat+
h.PI*Z.R);return G(e,.5,-e,.5)}()});var X=n({},Y,{code:"EPSG:900913"});function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Q(e,t){var i="",n,r,o,s,a,l;for(n=0,o=e.length;n<o;n++){a=e[n];for(r=0,s=a.length;r<s;r++){l=a[r+
];i+=(r?"L":"M")+l.x+" "+l.y}i+=t?Se?"z":"x":""}return i||"M0 0"}var J=document.documentElement.style;var ee="ActiveXObject"in window;var te=ee&&!document.addEventListener;var ie="msLaunchUri"in navigator&&!("documentMode"in document);var ne=Pe("webkit")+
;var re=Pe("android");var oe=Pe("android 2")||Pe("android 3");var se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10);var ae=re&&Pe("Google")&&se<537&&!("AudioNode"in window);var le=!!window.opera;var ue=Pe("chrome");var he=Pe("gecko")&&!ne+
&&!le&&!ee;var ce=!ue&&Pe("safari");var de=Pe("phantom");var fe="OTransition"in J;var pe=navigator.platform.indexOf("Win")===0;var me=ee&&"transition"in J;var ge="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oe;var ve="MozPerspective"i+
n J;var _e=!window.L_DISABLE_3D&&(me||ge||ve)&&!fe&&!de;var ye=typeof orientation!=="undefined"||Pe("mobile");var we=ye&&ne;var be=ye&&ge;var xe=!window.PointerEvent&&window.MSPointerEvent;var Le=!!(window.PointerEvent||xe);var ke=!window.L_NO_TOUCH&&(Le+
||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);var Ee=ye&&le;var Te=ye&&he;var Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1;var De=function(){return!!document.createElement+
("canvas").getContext}();var Se=!!(document.createElementNS&&K("svg").createSVGRect);var Me=!Se&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;t.style.behavior="url(#default#VML)";return t&&typeof +
t.adj==="object"}catch(e){return false}}();function Pe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ie=(Object.freeze||Object)({ie:ee,ielt9:te,edge:ie,webkit:ne,android:re,android23:oe,androidStock:ae,opera:le,chrome:ue,gecko:he,safari:c+
e,phantom:de,opera12:fe,win:pe,ie3d:me,webkit3d:ge,gecko3d:ve,any3d:_e,mobile:ye,mobileWebkit:we,mobileWebkit3d:be,msPointer:xe,pointer:Le,touch:ke,mobileOpera:Ee,mobileGecko:Te,retina:Ce,canvas:De,svg:Se,vml:Me});var Ne=xe?"MSPointerDown":"pointerdown";+
var Ae=xe?"MSPointerMove":"pointermove";var Oe=xe?"MSPointerUp":"pointerup";var Re=xe?"MSPointerCancel":"pointercancel";var $e=["INPUT","SELECT","OPTION"];var ze={};var Fe=false;var qe=0;function Be(e,t,i,n){if(t==="touchstart"){He(e,i,n)}else if(t==="to+
uchmove"){Ge(e,i,n)}else if(t==="touchend"){Ye(e,i,n)}return this}function Ue(e,t,i){var n=e["_leaflet_"+t+i];if(t==="touchstart"){e.removeEventListener(Ne,n,false)}else if(t==="touchmove"){e.removeEventListener(Ae,n,false)}else if(t==="touchend"){e.remo+
veEventListener(Oe,n,false);e.removeEventListener(Re,n,false)}return this}function He(e,t,i){var n=o(function(e){if(e.pointerType!=="mouse"&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if($e.indexOf(e.target.tagName)<0){Ht(e)}else{ret+
urn}}We(e,t)});e["_leaflet_touchstart"+i]=n;e.addEventListener(Ne,n,false);if(!Fe){document.documentElement.addEventListener(Ne,Ve,true);document.documentElement.addEventListener(Ae,je,true);document.documentElement.addEventListener(Oe,Ze,true);document.+
documentElement.addEventListener(Re,Ze,true);Fe=true}}function Ve(e){ze[e.pointerId]=e;qe++}function je(e){if(ze[e.pointerId]){ze[e.pointerId]=e}}function Ze(e){delete ze[e.pointerId];qe--}function We(e,t){e.touches=[];for(var i in ze){e.touches.push(ze[+
i])}e.changedTouches=[e];t(e)}function Ge(e,t,i){var n=function(e){if((e.pointerType===e.MSPOINTER_TYPE_MOUSE||e.pointerType==="mouse")&&e.buttons===0){return}We(e,t)};e["_leaflet_touchmove"+i]=n;e.addEventListener(Ae,n,false)}function Ye(e,t,i){var n=fu+
nction(e){We(e,t)};e["_leaflet_touchend"+i]=n;e.addEventListener(Oe,n,false);e.addEventListener(Re,n,false)}var Xe=xe?"MSPointerDown":Le?"pointerdown":"touchstart";var Ke=xe?"MSPointerUp":Le?"pointerup":"touchend";var Qe="_leaflet_";function Je(e,t,i){va+
r n,r,o=false,s=250;function a(e){var t;if(Le){if(!ie||e.pointerType==="mouse"){return}t=qe}else{t=e.touches.length}if(t>1){return}var i=Date.now(),a=i-(n||i);r=e.touches?e.touches[0]:e;o=a>0&&a<=s;n=i}function l(e){if(o&&!r.cancelBubble){if(Le){if(!ie||+
e.pointerType==="mouse"){return}var i={},s,a;for(a in r){s=r[a];i[a]=s&&s.bind?s.bind(r):s}r=i}r.type="dblclick";r.button=0;t(r);n=null}}e[Qe+Xe+i]=a;e[Qe+Ke+i]=l;e[Qe+"dblclick"+i]=t;e.addEventListener(Xe,a,false);e.addEventListener(Ke,l,false);e.addEve+
ntListener("dblclick",t,false);return this}function et(e,t){var i=e[Qe+Xe+t],n=e[Qe+Ke+t],r=e[Qe+"dblclick"+t];e.removeEventListener(Xe,i,false);e.removeEventListener(Ke,n,false);if(!ie){e.removeEventListener("dblclick",r,false)}return this}var tt=_t(["t+
ransform","webkitTransform","OTransform","MozTransform","msTransform"]);var it=_t(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);var nt=it==="webkitTransition"||it==="OTransition"?it+"End":"transitionend";function rt(e){r+
eturn typeof e==="string"?document.getElementById(e):e}function ot(e,t){var i=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!i||i==="auto")&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return i==="auto"?nul+
l:i}function st(e,t,i){var n=document.createElement(e);n.className=t||"";if(i){i.appendChild(n)}return n}function at(e){var t=e.parentNode;if(t){t.removeChild(e)}}function lt(e){while(e.firstChild){e.removeChild(e.firstChild)}}function ut(e){var t=e.pare+
ntNode;if(t&&t.lastChild!==e){t.appendChild(e)}}function ht(e){var t=e.parentNode;if(t&&t.firstChild!==e){t.insertBefore(e,t.firstChild)}}function ct(e,t){if(e.classList!==undefined){return e.classList.contains(t)}var i=mt(e);return i.length>0&&new RegEx+
p("(^|\\s)"+t+"(\\s|$)").test(i)}function dt(e,t){if(e.classList!==undefined){var i=f(t);for(var n=0,r=i.length;n<r;n++){e.classList.add(i[n])}}else if(!ct(e,t)){var o=mt(e);pt(e,(o?o+" ":"")+t)}}function ft(e,t){if(e.classList!==undefined){e.classList.r+
emove(t)}else{pt(e,d((" "+mt(e)+" ").replace(" "+t+" "," ")))}}function pt(e,t){if(e.className.baseVal===undefined){e.className=t}else{e.className.baseVal=t}}function mt(e){if(e.correspondingElement){e=e.correspondingElement}return e.className.baseVal===+
undefined?e.className:e.className.baseVal}function gt(e,t){if("opacity"in e.style){e.style.opacity=t}else if("filter"in e.style){vt(e,t)}}function vt(e,t){var i=false,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(e){if(t===1){return}+
}t=Math.round(t*100);if(i){i.Enabled=t!==100;i.Opacity=t}else{e.style.filter+=" progid:"+n+"(opacity="+t+")"}}function _t(e){var t=document.documentElement.style;for(var i=0;i<e.length;i++){if(e[i]in t){return e[i]}}return false}function yt(e,t,i){var n=+
t||new A(0,0);e.style[tt]=(me?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function wt(e,t){e._leaflet_pos=t;if(_e){yt(e,t)}else{e.style.left=t.x+"px";e.style.top=t.y+"px"}}function bt(e){return e._leaflet+
_pos||new A(0,0)}var xt;var Lt;var kt;if("onselectstart"in document){xt=function(){Ot(window,"selectstart",Ht)};Lt=function(){$t(window,"selectstart",Ht)}}else{var Et=_t(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xt=f+
unction(){if(Et){var e=document.documentElement.style;kt=e[Et];e[Et]="none"}};Lt=function(){if(Et){document.documentElement.style[Et]=kt;kt=undefined}}}function Tt(){Ot(window,"dragstart",Ht)}function Ct(){$t(window,"dragstart",Ht)}var Dt;var St;function+
 Mt(e){while(e.tabIndex===-1){e=e.parentNode}if(!e.style){return}Pt();Dt=e;St=e.style.outline;e.style.outline="none";Ot(window,"keydown",Pt)}function Pt(){if(!Dt){return}Dt.style.outline=St;Dt=undefined;St=undefined;$t(window,"keydown",Pt)}function It(e)+
{do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Nt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var At=(Object.freeze||Object)({TR+
ANSFORM:tt,TRANSITION:it,TRANSITION_END:nt,get:rt,getStyle:ot,create:st,remove:at,empty:lt,toFront:ut,toBack:ht,hasClass:ct,addClass:dt,removeClass:ft,setClass:pt,getClass:mt,setOpacity:gt,testProp:_t,setTransform:yt,setPosition:wt,getPosition:bt,disable+
TextSelection:xt,enableTextSelection:Lt,disableImageDrag:Tt,enableImageDrag:Ct,preventOutline:Mt,restoreOutline:Pt,getSizedParentNode:It,getScale:Nt});function Ot(e,t,i,n){if(typeof t==="object"){for(var r in t){zt(e,r,t[r],i)}}else{t=f(t);for(var o=0,s=+
t.length;o<s;o++){zt(e,t[o],i,n)}}return this}var Rt="_leaflet_events";function $t(e,t,i,n){if(typeof t==="object"){for(var r in t){Ft(e,r,t[r],i)}}else if(t){t=f(t);for(var o=0,s=t.length;o<s;o++){Ft(e,t[o],i,n)}}else{for(var a in e[Rt]){Ft(e,a,e[Rt][a]+
)}delete e[Rt]}return this}function zt(e,t,i,n){var r=t+a(i)+(n?"_"+a(n):"");if(e[Rt]&&e[Rt][r]){return this}var o=function(t){return i.call(n||e,t||window.event)};var s=o;if(Le&&t.indexOf("touch")===0){Be(e,t,o,r)}else if(ke&&t==="dblclick"&&Je&&!(Le&&u+
e)){Je(e,o,r)}else if("addEventListener"in e){if(t==="mousewheel"){e.addEventListener("onwheel"in e?"wheel":"mousewheel",o,false)}else if(t==="mouseenter"||t==="mouseleave"){o=function(t){t=t||window.event;if(Kt(e,t)){s(t)}};e.addEventListener(t==="mouse+
enter"?"mouseover":"mouseout",o,false)}else{if(t==="click"&&re){o=function(e){Jt(e,s)}}e.addEventListener(t,o,false)}}else if("attachEvent"in e){e.attachEvent("on"+t,o)}e[Rt]=e[Rt]||{};e[Rt][r]=o}function Ft(e,t,i,n){var r=t+a(i)+(n?"_"+a(n):""),o=e[Rt]&+
&e[Rt][r];if(!o){return this}if(Le&&t.indexOf("touch")===0){Ue(e,t,r)}else if(ke&&t==="dblclick"&&et&&!(Le&&ue)){et(e,r)}else if("removeEventListener"in e){if(t==="mousewheel"){e.removeEventListener("onwheel"in e?"wheel":"mousewheel",o,false)}else{e.remo+
veEventListener(t==="mouseenter"?"mouseover":t==="mouseleave"?"mouseout":t,o,false)}}else if("detachEvent"in e){e.detachEvent("on"+t,o)}e[Rt][r]=null}function qt(e){if(e.stopPropagation){e.stopPropagation()}else if(e.originalEvent){e.originalEvent._stopp+
ed=true}else{e.cancelBubble=true}Xt(e);return this}function Bt(e){zt(e,"mousewheel",qt);return this}function Ut(e){Ot(e,"mousedown touchstart dblclick",qt);zt(e,"click",Yt);return this}function Ht(e){if(e.preventDefault){e.preventDefault()}else{e.returnV+
alue=false}return this}function Vt(e){Ht(e);qt(e);return this}function jt(e,t){if(!t){return new A(e.clientX,e.clientY)}var i=Nt(t),n=i.boundingClientRect;return new A((e.clientX-n.left)/i.x-t.clientLeft,(e.clientY-n.top)/i.y-t.clientTop)}var Zt=pe&&ue?2+
*window.devicePixelRatio:he?window.devicePixelRatio:1;function Wt(e){return ie?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Zt:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheel+
DeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}var Gt={};function Yt(e){Gt[e.type]=true}function Xt(e){var t=Gt[e.type];Gt[e.type]=false;return t}function Kt(e,t){var i=t.relatedTarget;if(!i){return +
true}try{while(i&&i!==e){i=i.parentNode}}catch(e){return false}return i!==e}var Qt;function Jt(e,t){var i=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,n=Qt&&i-Qt;if(n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated){Vt(e);return}Qt=i;t(+
e)}var ei=(Object.freeze||Object)({on:Ot,off:$t,stopPropagation:qt,disableScrollPropagation:Bt,disableClickPropagation:Ut,preventDefault:Ht,stop:Vt,getMousePosition:jt,getWheelDelta:Wt,fakeStop:Yt,skipped:Xt,isExternalTarget:Kt,addListener:Ot,removeListe+
ner:$t});var ti=N.extend({run:function(e,t,i,n){this.stop();this._el=e;this._inProgress=true;this._duration=i||.25;this._easeOutPower=1/Math.max(n||.5,.2);this._startPos=bt(e);this._offset=t.subtract(this._startPos);this._startTime=+new Date;this.fire("s+
tart");this._animate()},stop:function(){if(!this._inProgress){return}this._step(true);this._complete()},_animate:function(){this._animId=C(this._animate,this);this._step()},_step:function(e){var t=+new Date-this._startTime,i=this._duration*1e3;if(t<i){th+
is._runFrame(this._easeOut(t/i),e)}else{this._runFrame(1);this._complete()}},_runFrame:function(e,t){var i=this._startPos.add(this._offset.multiplyBy(e));if(t){i._round()}wt(this._el,i);this.fire("step")},_complete:function(){D(this._animId);this._inProg+
ress=false;this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}});var ii=N.extend({options:{crs:Y,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimat+
ion:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(e,t){t=p(this,t);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChan+
ged=true;this._initContainer(e);this._initLayout();this._onResize=o(this._onResize,this);this._initEvents();if(t.maxBounds){this.setMaxBounds(t.maxBounds)}if(t.zoom!==undefined){this._zoom=this._limitZoom(t.zoom)}if(t.center&&t.zoom!==undefined){this.set+
View(U(t.center),t.zoom,{reset:true})}this.callInitHooks();this._zoomAnimated=it&&_e&&!Ee&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();Ot(this._proxy,nt,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},se+
tView:function(e,t,i){t=t===undefined?this._zoom:this._limitZoom(t);e=this._limitCenter(U(e),t,this.options.maxBounds);i=i||{};this._stop();if(this._loaded&&!i.reset&&i!==true){if(i.animate!==undefined){i.zoom=n({animate:i.animate},i.zoom);i.pan=n({anima+
te:i.animate,duration:i.duration},i.pan)}var r=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan);if(r){clearTimeout(this._sizeTimer);return this}}this._resetView(e,t);return this},setZoom:function(e,t){+
if(!this._loaded){this._zoom=e;return this}return this.setView(this.getCenter(),e,{zoom:t})},zoomIn:function(e,t){e=e||(_e?this.options.zoomDelta:1);return this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){e=e||(_e?this.options.zoomDelta:1);return this+
.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,i){var n=this.getZoomScale(t),r=this.getSize().divideBy(2),o=e instanceof A?e:this.latLngToContainerPoint(e),s=o.subtract(r).multiplyBy(1-1/n),a=this.containerPointToLatLng(r.add(s));return this.setVie+
w(a,t,{zoom:i})},_getBoundsCenterZoom:function(e,t){t=t||{};e=e.getBounds?e.getBounds():q(e);var i=R(t.paddingTopLeft||t.padding||[0,0]),n=R(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,false,i.add(n));r=typeof t.maxZoom==="number"?Math+
.min(t.maxZoom,r):r;if(r===Infinity){return{center:e.getCenter(),zoom:r}}var o=n.subtract(i).divideBy(2),s=this.project(e.getSouthWest(),r),a=this.project(e.getNorthEast(),r),l=this.unproject(s.add(a).divideBy(2).add(o),r);return{center:l,zoom:r}},fitBou+
nds:function(e,t){e=q(e);if(!e.isValid()){throw new Error("Bounds are not valid.")}var i=this._getBoundsCenterZoom(e,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){retur+
n this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){e=R(e).round();t=t||{};if(!e.x&&!e.y){return this.fire("moveend")}if(t.animate!==true&&!this.getSize().contains(e)){this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZo+
om());return this}if(!this._panAnim){this._panAnim=new ti;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!t.noMoveStart){this.fire("movestart")}if(t.animate!==false){dt(this._mapPane,"leaflet-pan-anim");var i=this+
._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else{this._rawPanBy(e);this.fire("move").fire("moveend")}return this},flyTo:function(e,t,i){i=i||{};if(i.animate===false||!_e){return this.setView(e,+
t,i)}this._stop();var n=this.project(this.getCenter()),r=this.project(e),o=this.getSize(),s=this._zoom;e=U(e);t=t===undefined?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),u=r.distanceTo(n)||1,h=1.42,c=h*h;function d(e){var t=e?-1:1,i=e?l:a,n=l*+
l-a*a+t*c*c*u*u,r=2*i*c*u,o=n/r,s=Math.sqrt(o*o+1)-o;var h=s<1e-9?-18:Math.log(s);return h}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return f(e)/p(e)}var g=d(0);function v(e){return a*+
(p(g)/p(g+h*e))}function _(e){return a*(p(g)*m(g+h*e)-f(g))/c}function y(e){return 1-Math.pow(1-e,1.5)}var w=Date.now(),b=(d(1)-g)/h,x=i.duration?1e3*i.duration:1e3*b*.8;function L(){var i=(Date.now()-w)/x,o=y(i)*b;if(i<=1){this._flyToFrame=C(L,this);thi+
s._move(this.unproject(n.add(r.subtract(n).multiplyBy(_(o)/u)),s),this.getScaleZoom(a/v(o),s),{flyTo:true})}else{this._move(e,t)._moveEnd(true)}}this._moveStart(true,i.noMoveStart);L.call(this);return this},flyToBounds:function(e,t){var i=this._getBounds+
CenterZoom(e,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(e){e=q(e);if(!e.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}else if(this.options.maxBounds){this.off("moveend",this._panInsideMaxBo+
unds)}this.options.maxBounds=e;if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(e){var t=this.options.minZoom;this.options.minZoom=e;if(this._loaded&&t!==e){this.fire("zoomlevelschange");+
if(this.getZoom()<this.options.minZoom){return this.setZoom(e)}}return this},setMaxZoom:function(e){var t=this.options.maxZoom;this.options.maxZoom=e;if(this._loaded&&t!==e){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom){return thi+
s.setZoom(e)}}return this},panInsideBounds:function(e,t){this._enforcingBounds=true;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,q(e));if(!i.equals(n)){this.panTo(n,t)}this._enforcingBounds=false;return this},panInside:function(e,t){t=t||{};va+
r i=R(t.paddingTopLeft||t.padding||[0,0]),n=R(t.paddingBottomRight||t.padding||[0,0]),r=this.getCenter(),o=this.project(r),s=this.project(e),a=this.getPixelBounds(),l=a.getSize().divideBy(2),u=z([a.min.add(i),a.max.subtract(n)]);if(!u.contains(s)){this._+
enforcingBounds=true;var h=o.subtract(s),c=R(s.x+h.x,s.y+h.y);if(s.x<u.min.x||s.x>u.max.x){c.x=o.x-h.x;if(h.x>0){c.x+=l.x-i.x}else{c.x-=l.x-n.x}}if(s.y<u.min.y||s.y>u.max.y){c.y=o.y-h.y;if(h.y>0){c.y+=l.y-i.y}else{c.y-=l.y-n.y}}this.panTo(this.unproject(+
c),t);this._enforcingBounds=false}return this},invalidateSize:function(e){if(!this._loaded){return this}e=n({animate:false,pan:true},e===true?{animate:true}:e);var t=this.getSize();this._sizeChanged=true;this._lastCenter=null;var i=this.getSize(),r=t.div+
ideBy(2).round(),s=i.divideBy(2).round(),a=r.subtract(s);if(!a.x&&!a.y){return this}if(e.animate&&e.pan){this.panBy(a)}else{if(e.pan){this._rawPanBy(a)}this.fire("move");if(e.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(o(thi+
s.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:t,newSize:i})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap){this.fire("viewreset")}return this._stop()},locate:function(e){e+
=this._locateOptions=n({timeout:1e4,watch:false},e);if(!("geolocation"in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var t=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,th+
is);if(e.watch){this._locationWatchId=navigator.geolocation.watchPosition(t,i,e)}else{navigator.geolocation.getCurrentPosition(t,i,e)}return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch){navigator.geolocation.cle+
arWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(e){var t=e.code,i=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");if(this._locateOptions.+
setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,i=e.coords.longitude,n=new B(t,i),r=n.toBounds(e.coords.accuracy*2),o=this._lo+
cateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(n,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:n,bounds:r,timestamp:e.timestamp};for(var l in e.coords){if(typeof e.coords[l]==="number"){a[l]=e.coords[l]}}this.fire("locationfound",a+
)},addHandler:function(e,t){if(!t){return this}var i=this[e]=new t(this);this._handlers.push(i);if(this.options[e]){i.enable()}return this},remove:function(){this._initEvents(true);if(this._containerId!==this._container._leaflet_id){throw new Error("Map +
container is being reused by another instance")}try{delete this._container._leaflet_id;delete this._containerId}catch(e){this._container._leaflet_id=undefined;this._containerId=undefined}if(this._locationWatchId!==undefined){this.stopLocate()}this._stop(+
);at(this._mapPane);if(this._clearControlPos){this._clearControlPos()}if(this._resizeRequest){D(this._resizeRequest);this._resizeRequest=null}this._clearHandlers();if(this._loaded){this.fire("unload")}var e;for(e in this._layers){this._layers[e].remove()+
}for(e in this._panes){at(this._panes[e])}this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(e,t){var i="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),n=st("div",i,t||this._mapPane);+
if(e){this._panes[e]=n}return n},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved()){return this._lastCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function+
(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),i=this.unproject(e.getTopRight());return new F(t,i)},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){retur+
n this.options.maxZoom===undefined?this._layersMaxZoom===undefined?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=q(e);i=R(i||[0,0]);var n=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=+
e.getSouthEast(),l=this.getSize().subtract(i),u=z(this.project(a,n),this.project(s,n)).getSize(),h=_e?this.options.zoomSnap:1,c=l.x/u.x,d=l.y/u.y,f=t?Math.max(c,d):Math.min(c,d);n=this.getScaleZoom(f,n);if(h){n=Math.round(n/(h/100))*(h/100);n=t?Math.ceil+
(n/h)*h:Math.floor(n/h)*h}return Math.max(r,Math.min(o,n))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixel+
Bounds:function(e,t){var i=this._getTopLeftPoint(e,t);return new $(i,i.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===undefine+
d?this.getZoom():e)},getPane:function(e){return typeof e==="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var i=this.options.crs;t=t===undefined?this._zoom:t;r+
eturn i.scale(e)/i.scale(t)},getScaleZoom:function(e,t){var i=this.options.crs;t=t===undefined?this._zoom:t;var n=i.zoom(e*i.scale(t));return isNaN(n)?Infinity:n},project:function(e,t){t=t===undefined?this._zoom:t;return this.options.crs.latLngToPoint(U(+
e),t)},unproject:function(e,t){t=t===undefined?this._zoom:t;return this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(U(+
e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(q(e))},distance:function(e,t){return this.options.crs.distance(+
U(e),U(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));+
return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return jt(e,this._container)},mouseEventToLayerPoint:function(e){return th+
is.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=rt(e);if(!t){throw new Error("Map container+
 not found.")}else if(t._leaflet_id){throw new Error("Map container is already initialized.")}Ot(t,"scroll",this._onScroll,this);this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&_e;dt(e,"+
leaflet-container"+(ke?" leaflet-touch":"")+(Ce?" leaflet-retina":"")+(te?" leaflet-oldie":"")+(ce?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ot(e,"position");if(t!=="absolute"&&t!=="relative"&&t!=="fixed"){e.style.position+
="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var e=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);wt(this._mapPane,new A(0,0));this.createPane("tileP+
ane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){dt(e.markerPane,"leaflet-zoom-hide");dt(e.shadowPane,"leafl+
et-zoom-hide")}},_resetView:function(e,t){wt(this._mapPane,new A(0,0));var i=!this._loaded;this._loaded=true;t=this._limitZoom(t);this.fire("viewprereset");var n=this._zoom!==t;this._moveStart(n,false)._move(e,t)._moveEnd(n);this.fire("viewreset");if(i){+
this.fire("load")}},_moveStart:function(e,t){if(e){this.fire("zoomstart")}if(!t){this.fire("movestart")}return this},_move:function(e,t,i){if(t===undefined){t=this._zoom}var n=this._zoom!==t;this._zoom=t;this._lastCenter=e;this._pixelOrigin=this._getNewP+
ixelOrigin(e);if(n||i&&i.pinch){this.fire("zoom",i)}return this.fire("move",i)},_moveEnd:function(e){if(e){this.fire("zoomend")}return this.fire("moveend")},_stop:function(){D(this._flyToFrame);if(this._panAnim){this._panAnim.stop()}return this},_rawPanB+
y:function(e){wt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds){this.panInsideBounds(this.options.maxBounds)}},_checkIfLoaded+
:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(e){this._targets={};this._targets[a(this._container)]=this;var t=e?$t:Ot;t(this._container,"click dblclick mousedown mouseup "+"mouseover mouseout mous+
emove contextmenu keypress keydown keyup",this._handleDOMEvent,this);if(this.options.trackResize){t(window,"resize",this._onResize,this)}if(_e&&this.options.transform3DLimit){(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)}},_onResize:function(+
){D(this._resizeRequest);this._resizeRequest=C(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();if(Math.max(Mat+
h.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit){this._resetView(this.getCenter(),this.getZoom())}},_findEventTargets:function(e,t){var i=[],n,r=t==="mouseout"||t==="mouseover",o=e.target||e.srcElement,s=false;while(o){n=this._targets[a(o)];if(n+
&&(t==="click"||t==="preclick")&&!e._simulated&&this._draggableMoved(n)){s=true;break}if(n&&n.listens(t,true)){if(r&&!Kt(o,e)){break}i.push(n);if(r){break}}if(o===this._container){break}o=o.parentNode}if(!i.length&&!s&&!r&&Kt(o,e)){i=[this]}return i},_ha+
ndleDOMEvent:function(e){if(!this._loaded||Xt(e)){return}var t=e.type;if(t==="mousedown"||t==="keypress"||t==="keyup"||t==="keydown"){Mt(e.target||e.srcElement)}this._fireDOMEvent(e,t)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu+
"],_fireDOMEvent:function(e,t,i){if(e.type==="click"){var r=n({},e);r.type="preclick";this._fireDOMEvent(r,r.type,i)}if(e._stopped){return}i=(i||[]).concat(this._findEventTargets(e,t));if(!i.length){return}var o=i[0];if(t==="contextmenu"&&o.listens(t,tru+
e)){Ht(e)}var s={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e);s.layerPoint=t+
his.containerPointToLayerPoint(s.containerPoint);s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<i.length;l++){i[l].fire(t,s,true);if(s.originalEvent._stopped||i[l].options.bubblingMouseEvents===false&&y(this._mouseEvents,t)!+
==-1){return}}},_draggableMoved:function(e){e=e.dragging&&e.dragging.enabled()?e:this;return e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++){this._handlers[e].disa+
ble()}},whenReady:function(e,t){if(this._loaded){e.call(t||this,{target:this})}else{this.on("load",e,t)}return this},_getMapPanePos:function(){return bt(this._mapPane)||new A(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])}+
,_getTopLeftPoint:function(e,t){var i=e&&t!==undefined?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._+
add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return z([this.project(+
e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getS+
ize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i){return e}var n=this.project(e,t),r=this.getSize().divideBy(2),o=new $(n.subtract(r),n.add(r)),s+
=this._getBoundsOffset(o,i,t);if(s.round().equals([0,0])){return e}return this.unproject(n.add(s),t)},_limitOffset:function(e,t){if(!t){return e}var i=this.getPixelBounds(),n=new $(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(n,t))},_get+
BoundsOffset:function(e,t,i){var n=z(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),r=n.min.subtract(e.min),o=n.max.subtract(e.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new A(s,a)},_rebound:function(e,t){return e+
+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom(),n=_e?this.options.zoomSnap:1;if(n){e=Math.round(e/n)*n}return Math.max(t,Math.min(i,e))},_onPanTransitionStep:fu+
nction(){this.fire("move")},_onPanTransitionEnd:function(){ft(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._trunc();if((t&&t.animate)!==true&&!this.getSize().contains(i)){return fals+
e}this.panBy(i,t);return true},_createAnimProxy:function(){var e=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e);this.on("zoomanim",function(e){var t=tt,i=this._proxy.style[t];yt(this._proxy,this.project(e.c+
enter,e.zoom),this.getZoomScale(e.zoom,1));if(i===this._proxy.style[t]&&this._animatingZoom){this._onZoomTransitionEnd()}},this);this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();yt(this._proxy,this.project(e,t),this.getZoomScale(+
t,1))},this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy);delete this._proxy},_catchTransitionEnd:function(e){if(this._animatingZoom&&e.propertyName.indexOf("transform")>=0){this._onZoomTransitionEnd()}},_n+
othingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom){return true}i=i||{};if(!this._zoomAnimated||i.animate===false||this._nothingToAnimate()||Ma+
th.abs(t-this._zoom)>this.options.zoomAnimationThreshold){return false}var n=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/n);if(i.animate!==true&&!this.getSize().contains(r)){return false}C(function(){this._moveStart(true,false)._animate+
Zoom(e,t,true)},this);return true},_animateZoom:function(e,t,i,n){if(!this._mapPane){return}if(i){this._animatingZoom=true;this._animateToCenter=e;this._animateToZoom=t;dt(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:e,zoom:t,noUpdate:+
n});setTimeout(o(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return}if(this._mapPane){ft(this._mapPane,"leaflet-zoom-anim")}this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom)+
;C(function(){this._moveEnd(true)},this)}});function ni(e,t){return new ii(e,t)}var ri=M.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;+
if(t){t.removeControl(this)}this.options.position=e;if(t){t.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(e){this.remove();this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),n=e._controlCor+
ners[i];dt(t,"leaflet-control");if(i.indexOf("bottom")!==-1){n.insertBefore(t,n.firstChild)}else{n.appendChild(t)}this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map){return this}at(this._container);if(this.onRemove){this+
.onRemove(this._map)}this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(e){if(this._map&&e&&e.screenX>0&&e.screenY>0){this._map.getContainer().focus()}}});var oi=function(e){return new ri(e)};ii.include({addContro+
l:function(e){e.addTo(this);return this},removeControl:function(e){e.remove();return this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",i=this._controlContainer=st("div",t+"control-container",this._container);function n(n,r){var +
o=t+n+" "+t+r;e[n+r]=st("div",o,i)}n("top","left");n("top","right");n("bottom","left");n("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners){at(this._controlCorners[e])}at(this._controlContainer);delete this._controlCorners;+
delete this._controlContainer}});var si=ri.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(e,t,i,n){return i<n?-1:n<i?1:0}},initialize:function(e,t,i){p(this,i);this._layerCo+
ntrolInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=false;for(var n in e){this._addLayer(e[n],n)}for(n in t){this._addLayer(t[n],n,true)}},onAdd:function(e){this._initLayout();this._update();this._map=e;e.on("zoomend",this._checkDisable+
dLayers,this);for(var t=0;t<this._layers.length;t++){this._layers[t].layer.on("add remove",this._onLayerChange,this)}return this._container},addTo:function(e){ri.prototype.addTo.call(this,e);return this._expandIfNotCollapsed()},onRemove:function(){this._+
map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++){this._layers[e].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(e,t){this._addLayer(e,t);return this._map?this._update():this},addOverlay:fu+
nction(e,t){this._addLayer(e,t,true);return this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));if(t){this._layers.splice(this._layers.indexOf(t),1)}return this._map?this._update(+
):this},expand:function(){dt(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);if(e<this._section.clientHeight){dt(this._section,"leaflet-control-layers-scrollbar+
");this._section.style.height=e+"px"}else{ft(this._section,"leaflet-control-layers-scrollbar")}this._checkDisabledLayers();return this},collapse:function(){ft(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var e="l+
eaflet-control-layers",t=this._container=st("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",true);Ut(t);Bt(t);var n=this._section=st("section",e+"-list");if(i){this._map.on("click",this.collapse,this);if(!re){Ot(t,{mouseenter:this.expand+
,mouseleave:this.collapse},this)}}var r=this._layersLink=st("a",e+"-toggle",t);r.href="#";r.title="Layers";if(ke){Ot(r,"click",Vt);Ot(r,"click",this.expand,this)}else{Ot(r,"focus",this.expand,this)}if(!i){this.expand()}this._baseLayersList=st("div",e+"-b+
ase",n);this._separator=st("div",e+"-separator",n);this._overlaysList=st("div",e+"-overlays",n);t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++){if(this._layers[t]&&a(this._layers[t].layer)===e){return this._layers[t]}}},_ad+
dLayer:function(e,t,i){if(this._map){e.on("add remove",this._onLayerChange,this)}this._layers.push({layer:e,name:t,overlay:i});if(this.options.sortLayers){this._layers.sort(o(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},+
this))}if(this.options.autoZIndex&&e.setZIndex){this._lastZIndex++;e.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}lt(this._baseLayersList);lt(this._overlaysList);this._layerControlInputs=[]+
;var e,t,i,n,r=0;for(i=0;i<this._layers.length;i++){n=this._layers[i];this._addItem(n);t=t||n.overlay;e=e||!n.overlay;r+=!n.overlay?1:0}if(this.options.hideSingleBase){e=e&&r>1;this._baseLayersList.style.display=e?"":"none"}this._separator.style.display=+
t&&e?"":"none";return this},_onLayerChange:function(e){if(!this._handlingClick){this._update()}var t=this._getLayer(a(e.target));var i=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;if(i){this._map.fire(i,t)}}+
,_createRadioElement:function(e,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>";var n=document.createElement("div");n.innerHTML=i;return n.firstChild},_addItem:function(e){var t=documen+
t.createElement("label"),i=this._map.hasLayer(e.layer),n;if(e.overlay){n=document.createElement("input");n.type="checkbox";n.className="leaflet-control-layers-selector";n.defaultChecked=i}else{n=this._createRadioElement("leaflet-base-layers_"+a(this),i)}+
this._layerControlInputs.push(n);n.layerId=a(e.layer);Ot(n,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var o=document.createElement("div");t.appendChild(o);o.appendChild(n);o.appendChild(r);var s=e.overlay+
?this._overlaysList:this._baseLayersList;s.appendChild(t);this._checkDisabledLayers();return t},_onInputClick:function(){var e=this._layerControlInputs,t,i;var n=[],r=[];this._handlingClick=true;for(var o=e.length-1;o>=0;o--){t=e[o];i=this._getLayer(t.la+
yerId).layer;if(t.checked){n.push(i)}else if(!t.checked){r.push(i)}}for(o=0;o<r.length;o++){if(this._map.hasLayer(r[o])){this._map.removeLayer(r[o])}}for(o=0;o<n.length;o++){if(!this._map.hasLayer(n[o])){this._map.addLayer(n[o])}}this._handlingClick=fals+
e;this._refocusOnMap()},_checkDisabledLayers:function(){var e=this._layerControlInputs,t,i,n=this._map.getZoom();for(var r=e.length-1;r>=0;r--){t=e[r];i=this._getLayer(t.layerId).layer;t.disabled=i.options.minZoom!==undefined&&n<i.options.minZoom||i.opti+
ons.maxZoom!==undefined&&n>i.options.maxZoom}},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed){this.expand()}return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});var ai=function(e,t,+
i){return new si(e,t,i)};var li=ri.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=st("div",t+" leaflet-bar"),n=this.options;this._z+
oomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",i,this._zoomIn);this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",i,this._zoomOut);this._updateDisabled();e.on("zoomend zoomlevelschange",this._updateDisabled,th+
is);return i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:+
function(e){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom()){this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))}},_zoomOut:function(e){if(!this._disabled&&this._map._zoom>this._map.getMinZoom()){this._map.zoomOut(this._map.options.+
zoomDelta*(e.shiftKey?3:1))}},_createButton:function(e,t,i,n,r){var o=st("a",i,n);o.innerHTML=e;o.href="#";o.title=t;o.setAttribute("role","button");o.setAttribute("aria-label",t);Ut(o);Ot(o,"click",Vt);Ot(o,"click",r,this);Ot(o,"click",this._refocusOnMa+
p,this);return o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ft(this._zoomInButton,t);ft(this._zoomOutButton,t);if(this._disabled||e._zoom===e.getMinZoom()){dt(this._zoomOutButton,t)}if(this._disabled||e._zoom===e.getMaxZoom()){dt(th+
is._zoomInButton,t)}}});ii.mergeOptions({zoomControl:true});ii.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new li;this.addControl(this.zoomControl)}});var ui=function(e){return new li(e)};var hi=ri.extend({options:{position:"bott+
omleft",maxWidth:100,metric:true,imperial:true},onAdd:function(e){var t="leaflet-control-scale",i=st("div",t),n=this.options;this._addScales(n,t+"-line",i);e.on(n.updateWhenIdle?"moveend":"move",this._update,this);e.whenReady(this._update,this);return i}+
,onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){if(e.metric){this._mScale=st("div",t,i)}if(e.imperial){this._iScale=st("div",t,i)}},_update:function(){var e=this._map,t=e.getSize().y+
/2;var i=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(e){if(this.options.metric&&e){this._updateMetric(e)}if(this.options.imperial&&e){this._updateImperial(e+
)}},_updateMetric:function(e){var t=this._getRoundNum(e),i=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,i,t/e)},_updateImperial:function(e){var t=e*3.2808399,i,n,r;if(t>5280){i=t/5280;n=this._getRoundNum(i);this._updateScale(this._iScale,n+" m+
i",n/i)}else{r=this._getRoundNum(t);this._updateScale(this._iScale,r+" ft",r/t)}},_updateScale:function(e,t,i){e.style.width=Math.round(this.options.maxWidth*i)+"px";e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i+
=e/t;i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1;return t*i}});var ci=function(e){return new hi(e)};var di=ri.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:functio+
n(e){p(this,e);this._attributions={}},onAdd:function(e){e.attributionControl=this;this._container=st("div","leaflet-control-attribution");Ut(this._container);for(var t in e._layers){if(e._layers[t].getAttribution){this.addAttribution(e._layers[t].getAttr+
ibution())}}this._update();return this._container},setPrefix:function(e){this.options.prefix=e;this._update();return this},addAttribution:function(e){if(!e){return this}if(!this._attributions[e]){this._attributions[e]=0}this._attributions[e]++;this._upda+
te();return this},removeAttribution:function(e){if(!e){return this}if(this._attributions[e]){this._attributions[e]--;this._update()}return this},_update:function(){if(!this._map){return}var e=[];for(var t in this._attributions){if(this._attributions[t]){+
e.push(t)}}var i=[];if(this.options.prefix){i.push(this.options.prefix)}if(e.length){i.push(e.join(", "))}this._container.innerHTML=i.join(" | ")}});ii.mergeOptions({attributionControl:true});ii.addInitHook(function(){if(this.options.attributionControl){+
(new di).addTo(this)}});var fi=function(e){return new di(e)};ri.Layers=si;ri.Zoom=li;ri.Scale=hi;ri.Attribution=di;oi.layers=ai;oi.zoom=ui;oi.scale=ci;oi.attribution=fi;var pi=M.extend({initialize:function(e){this._map=e},enable:function(){if(this._enabl+
ed){return this}this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled){return this}this._enabled=false;this.removeHooks();return this},enabled:function(){return!!this._enabled}});pi.addTo=function(e,t){e.addHandler(t,this);+
return this};var mi={Events:I};var gi=ke?"touchstart mousedown":"mousedown";var vi={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"};var _i={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MS+
PointerDown:"touchmove"};var yi=N.extend({options:{clickTolerance:3},initialize:function(e,t,i,n){p(this,n);this._element=e;this._dragStartTarget=t||e;this._preventOutline=i},enable:function(){if(this._enabled){return}Ot(this._dragStartTarget,gi,this._on+
Down,this);this._enabled=true},disable:function(){if(!this._enabled){return}if(yi._dragging===this){this.finishDrag()}$t(this._dragStartTarget,gi,this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(e){if(e._simulated||!this._enable+
d){return}this._moved=false;if(ct(this._element,"leaflet-zoom-anim")){return}if(yi._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches){return}yi._dragging=this;if(this._preventOutline){Mt(this._element)}Tt();xt();if(this._moving){return}this.fi+
re("down");var t=e.touches?e.touches[0]:e,i=It(this._element);this._startPoint=new A(t.clientX,t.clientY);this._parentScale=Nt(i);Ot(document,_i[e.type],this._onMove,this);Ot(document,vi[e.type],this._onUp,this)},_onMove:function(e){if(e._simulated||!thi+
s._enabled){return}if(e.touches&&e.touches.length>1){this._moved=true;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,i=new A(t.clientX,t.clientY)._subtract(this._startPoint);if(!i.x&&!i.y){return}if(Math.abs(i.x)+Math.abs(i.y)<this.options.c+
lickTolerance){return}i.x/=this._parentScale.x;i.y/=this._parentScale.y;Ht(e);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=bt(this._element).subtract(i);dt(document.body,"leaflet-dragging");this._lastTarget=e.target||e.srcEleme+
nt;if(window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance){this._lastTarget=this._lastTarget.correspondingUseElement}dt(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(i);this._moving=true;D(this._animRequest+
);this._lastEvent=e;this._animRequest=C(this._updatePosition,this,true)},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e);wt(this._element,this._newPos);this.fire("drag",e)},_onUp:function(e){if(e._simulated||!this.+
_enabled){return}this.finishDrag()},finishDrag:function(){ft(document.body,"leaflet-dragging");if(this._lastTarget){ft(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var e in _i){$t(document,_i[e],this._onMove,this);$t(document,vi[e],t+
his._onUp,this)}Ct();Lt();if(this._moved&&this._moving){D(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false;yi._dragging=false}});function wi(e,t){if(!t||!e.length){return e.slice()}var i=t*t;e=+
Ei(e,i);e=Li(e,i);return e}function bi(e,t,i){return Math.sqrt(Pi(e,t,i,true))}function xi(e,t,i){return Pi(e,t,i)}function Li(e,t){var i=e.length,n=typeof Uint8Array!==undefined+""?Uint8Array:Array,r=new n(i);r[0]=r[i-1]=1;ki(e,r,t,0,i-1);var o,s=[];for+
(o=0;o<i;o++){if(r[o]){s.push(e[o])}}return s}function ki(e,t,i,n,r){var o=0,s,a,l;for(a=n+1;a<=r-1;a++){l=Pi(e[a],e[n],e[r],true);if(l>o){s=a;o=l}}if(o>i){t[s]=1;ki(e,t,i,n,s);ki(e,t,i,s,r)}}function Ei(e,t){var i=[e[0]];for(var n=1,r=0,o=e.length;n<o;n+
++){if(Mi(e[n],e[r])>t){i.push(e[n]);r=n}}if(r<o-1){i.push(e[o-1])}return i}var Ti;function Ci(e,t,i,n,r){var o=n?Ti:Si(e,i),s=Si(t,i),a,l,u;Ti=s;while(true){if(!(o|s)){return[e,t]}if(o&s){return false}a=o||s;l=Di(e,t,a,i,r);u=Si(l,i);if(a===o){e=l;o=u}e+
lse{t=l;s=u}}}function Di(e,t,i,n,r){var o=t.x-e.x,s=t.y-e.y,a=n.min,l=n.max,u,h;if(i&8){u=e.x+o*(l.y-e.y)/s;h=l.y}else if(i&4){u=e.x+o*(a.y-e.y)/s;h=a.y}else if(i&2){u=l.x;h=e.y+s*(l.x-e.x)/o}else if(i&1){u=a.x;h=e.y+s*(a.x-e.x)/o}return new A(u,h,r)}fu+
nction Si(e,t){var i=0;if(e.x<t.min.x){i|=1}else if(e.x>t.max.x){i|=2}if(e.y<t.min.y){i|=4}else if(e.y>t.max.y){i|=8}return i}function Mi(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function Pi(e,t,i,n){var r=t.x,o=t.y,s=i.x-r,a=i.y-o,l=s*s+a*a,u;if(l>0)+
{u=((e.x-r)*s+(e.y-o)*a)/l;if(u>1){r=i.x;o=i.y}else if(u>0){r+=s*u;o+=a*u}}s=e.x-r;a=e.y-o;return n?s*s+a*a:new A(r,o)}function Ii(e){return!_(e[0])||typeof e[0][0]!=="object"&&typeof e[0][0]!=="undefined"}function Ni(e){console.warn("Deprecated use of _+
flat, please use L.LineUtil.isFlat instead.");return Ii(e)}var Ai=(Object.freeze||Object)({simplify:wi,pointToSegmentDistance:bi,closestPointOnSegment:xi,clipSegment:Ci,_getEdgeIntersection:Di,_getBitCode:Si,_sqClosestPointOnSegment:Pi,isFlat:Ii,_flat:Ni+
});function Oi(e,t,i){var n,r=[1,4,2,8],o,s,a,l,u,h,c,d;for(o=0,h=e.length;o<h;o++){e[o]._code=Si(e[o],t)}for(a=0;a<4;a++){c=r[a];n=[];for(o=0,h=e.length,s=h-1;o<h;s=o++){l=e[o];u=e[s];if(!(l._code&c)){if(u._code&c){d=Di(u,l,c,t,i);d._code=Si(d,t);n.push+
(d)}n.push(l)}else if(!(u._code&c)){d=Di(u,l,c,t,i);d._code=Si(d,t);n.push(d)}}e=n}return e}var Ri=(Object.freeze||Object)({clipPolygon:Oi});var $i={project:function(e){return new A(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new $(+
[-180,-90],[180,90])};var zi={R:6378137,R_MINOR:6356752.314245179,bounds:new $([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,i=this.R,n=e.lat*t,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=o*Math.sin(n)+
;var a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2);n=-i*Math.log(Math.max(a,1e-10));return new A(e.lng*t*i,n)},unproject:function(e){var t=180/Math.PI,i=this.R,n=this.R_MINOR/i,r=Math.sqrt(1-n*n),o=Math.exp(-e.y/i),s=Math.PI/2-2*Math.atan(o);for(va+
r a=0,l=.1,u;a<15&&Math.abs(l)>1e-7;a++){u=r*Math.sin(s);u=Math.pow((1-u)/(1+u),r/2);l=Math.PI/2-2*Math.atan(o*u)-s;s+=l}return new B(s*t,e.x*t/i)}};var Fi=(Object.freeze||Object)({LonLat:$i,Mercator:zi,SphericalMercator:Z});var qi=n({},V,{code:"EPSG:339+
5",projection:zi,transformation:function(){var e=.5/(Math.PI*zi.R);return G(e,.5,-e,.5)}()});var Bi=n({},V,{code:"EPSG:4326",projection:$i,transformation:G(1/180,1,-1/180,.5)});var Ui=n({},H,{projection:$i,transformation:G(1,0,-1,0),scale:function(e){ret+
urn Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var i=t.lng-e.lng,n=t.lat-e.lat;return Math.sqrt(i*i+n*n)},infinite:true});H.Earth=V;H.EPSG3395=qi;H.EPSG3857=Y;H.EPSG900913=X;H.EPSG4326=Bi;H.Simple=Ui;var Hi=N.exte+
nd({options:{pane:"overlayPane",                                                                                                                                                                                                                               
// String to be shown in the attribution control, e.g. "© OpenStreetMap contributors". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.                                                               
attribution:null,bubblingMouseEvents:true},addTo:function(e){e.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){if(e){e.removeLayer(this)}return this},getPane:function(e){return this.+
_map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){this._map._targets[a(e)]=this;return this},removeInteractiveTarget:function(e){delete this._map._targets[a(e)];return this},getAttribution:function(){return this.optio+
ns.attribution},_layerAdd:function(e){var t=e.target;if(!t.hasLayer(this)){return}this._map=t;this._zoomAnimated=t._zoomAnimated;if(this.getEvents){var i=this.getEvents();t.on(i,this);this.once("remove",function(){t.off(i,this)},this)}this.onAdd(t);if(th+
is.getAttribution&&t.attributionControl){t.attributionControl.addAttribution(this.getAttribution())}this.fire("add");t.fire("layeradd",{layer:this})}});ii.include({addLayer:function(e){if(!e._layerAdd){throw new Error("The provided object is not a Layer.+
")}var t=a(e);if(this._layers[t]){return this}this._layers[t]=e;e._mapToAdd=this;if(e.beforeAdd){e.beforeAdd(this)}this.whenReady(e._layerAdd,e);return this},removeLayer:function(e){var t=a(e);if(!this._layers[t]){return this}if(this._loaded){e.onRemove(+
this)}if(e.getAttribution&&this.attributionControl){this.attributionControl.removeAttribution(e.getAttribution())}delete this._layers[t];if(this._loaded){this.fire("layerremove",{layer:e});e.fire("remove")}e._map=e._mapToAdd=null;return this},hasLayer:fu+
nction(e){return!!e&&a(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers){e.call(t,this._layers[i])}return this},_addLayers:function(e){e=e?_(e)?e:[e]:[];for(var t=0,i=e.length;t<i;t++){this.addLayer(e[t])}},_addZoomLimit:function(e){i+
f(isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom)){this._zoomBoundLayers[a(e)]=e;this._updateZoomLevels()}},_removeZoomLimit:function(e){var t=a(e);if(this._zoomBoundLayers[t]){delete this._zoomBoundLayers[t];this._updateZoomLevels()}},_updateZoomLev+
els:function(){var e=Infinity,t=-Infinity,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var r=this._zoomBoundLayers[n].options;e=r.minZoom===undefined?e:Math.min(e,r.minZoom);t=r.maxZoom===undefined?t:Math.max(t,r.maxZoom)}this._layersMaxZoom+
=t===-Infinity?undefined:t;this._layersMinZoom=e===Infinity?undefined:e;if(i!==this._getZoomSpan()){this.fire("zoomlevelschange")}if(this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom){this.setZoom(this._layersMaxZo+
om)}if(this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom){this.setZoom(this._layersMinZoom)}}});var Vi=Hi.extend({initialize:function(e,t){p(this,t);this._layers={};var i,n;if(e){for(i=0,n=e.length;i<n;i++){this.ad+
dLayer(e[i])}}},addLayer:function(e){var t=this.getLayerId(e);this._layers[t]=e;if(this._map){this._map.addLayer(e)}return this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);if(this._map&&this._layers[t]){this._map.removeLayer(thi+
s._layers[t])}delete this._layers[t];return this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.+
call(arguments,1),i,n;for(i in this._layers){n=this._layers[i];if(n[e]){n[e].apply(n,t)}}return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var i in this._layers)+
{e.call(t,this._layers[i])}return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];this.eachLayer(e.push,e);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}});var ji=fu+
nction(e,t){return new Vi(e,t)};var Zi=Vi.extend({addLayer:function(e){if(this.hasLayer(e)){return this}e.addEventParent(this);Vi.prototype.addLayer.call(this,e);return this.fire("layeradd",{layer:e})},removeLayer:function(e){if(!this.hasLayer(e)){return+
 this}if(e in this._layers){e=this._layers[e]}e.removeEventParent(this);Vi.prototype.removeLayer.call(this,e);return this.fire("layerremove",{layer:e})},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("br+
ingToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}});var Wi=function(e){return new Zi(e)};v+
ar Gi=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this+
._getIconUrl(e);if(!i){if(e==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var n=this._createImg(i,t&&t.tagName==="IMG"?t:null);this._setIconStyles(n,e);return n},_setIconStyles:function(e,t){var i=this.options;v+
ar n=i[t+"Size"];if(typeof n==="number"){n=[n,n]}var r=R(n),o=R(t==="shadow"&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,true));e.className="leaflet-marker-"+t+" "+(i.className||"");if(o){e.style.marginLeft=-o.x+"px";e.style.marginTop=-o.y+"px"}if(r){+
e.style.width=r.x+"px";e.style.height=r.y+"px"}},_createImg:function(e,t){t=t||document.createElement("img");t.src=e;return t},_getIconUrl:function(e){return Ce&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Yi(e){return new Gi(e)}var Xi+
=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){if(!Xi.imagePath){X+
i.imagePath=this._detectIconPath()}return(this.options.imagePath||Xi.imagePath)+Gi.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=st("div","leaflet-default-icon-path",document.body);var t=ot(e,"background-image")||ot(e,"backgroundIm+
age");document.body.removeChild(e);if(t===null||t.indexOf("url")!==0){t=""}else{t=t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}return t}});var Ki=pi.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._mark+
er._icon;if(!this._draggable){this._draggable=new yi(e,e,true)}this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();dt(e,"leaflet-marker-draggable")},removeHooks:function(){this+
._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon){ft(this._marker._icon,"leaflet-marker-draggable")}},moved:function(){return this._draggable&&this._drag+
gable._moved},_adjustPan:function(e){var t=this._marker,i=t._map,n=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=bt(t._icon),s=i.getPixelBounds(),a=i.getPixelOrigin();var l=z(s.min._subtract(a).add(r),s.max._subtract(a).subtra+
ct(r));if(!l.contains(o)){var u=R((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(n);i.pan+
By(u,{animate:false});this._draggable._newPos._add(u);this._draggable._startPos._add(u);wt(t._icon,this._draggable._newPos);this._onDrag(e);this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(+
);this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){if(this._marker.options.autoPan){D(this._panRequest);this._panRequest=C(this._adjustPan.bind(this,e))}},_onDrag:function(e){var t=this._marker,i=t._shadow,n=bt(t._ico+
n),r=t._map.layerPointToLatLng(n);if(i){wt(i,n)}t._latlng=r;e.latlng=r;e.oldLatLng=this._oldLatLng;t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){D(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",e)}});var Qi+
=Hi.extend({options:{icon:new Xi,interactive:true,keyboard:true,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:false,draggable:false,autoPan:false,autoPanPadding:[50+
,50],autoPanSpeed:10},initialize:function(e,t){p(this,t);this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation;if(this._zoomAnimated){e.on("zoomanim",this._animateZoom,this)}this._initIcon();this.update+
()},onRemove:function(e){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}delete this.dragging;if(this._zoomAnimated){e.off("zoomanim",this._animateZoom,this)}this._removeIcon();this._removeShadow()},getE+
vents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;this._latlng=U(e);this.update();return this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffse+
t:function(e){this.options.zIndexOffset=e;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){this.options.icon=e;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup,this._popup.optio+
ns)}return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._z+
oomAnimated?"animated":"hide");var i=e.icon.createIcon(this._icon),n=false;if(i!==this._icon){if(this._icon){this._removeIcon()}n=true;if(e.title){i.title=e.title}if(i.tagName==="IMG"){i.alt=e.alt||""}}dt(i,t);if(e.keyboard){i.tabIndex="0"}this._icon=i;i+
f(e.riseOnHover){this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex})}var r=e.icon.createShadow(this._shadow),o=false;if(r!==this._shadow){this._removeShadow();o=true}if(r){dt(r,t);r.alt=""}this._shadow=r;if(e.opacity<1){this._updateOpacity+
()}if(n){this.getPane().appendChild(this._icon)}this._initInteraction();if(r&&o){this.getPane(e.shadowPane).appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}+
)}at(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){at(this._shadow)}this._shadow=null},_setPos:function(e){wt(this._icon,e);if(this._shadow){wt(this._shadow,e)}this._zIndex=e.y+this.option+
s.zIndexOffset;this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(!t+
his.options.interactive){return}dt(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(Ki){var e=this.options.draggable;if(this.dragging){e=this.dragging.enabled();this.dragging.disable()}this.dragging=new Ki(this);if(e){this.dragg+
ing.enable()}}},setOpacity:function(e){this.options.opacity=e;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){var e=this.options.opacity;if(this._icon){gt(this._icon,e)}if(this._shadow){gt(this._shadow,e)}},_bringToFront:functi+
on(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});funct+
ion Ji(e,t){return new Qi(e,t)}var en=Hi.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:true,bubbling+
MouseEvents:true},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map)+
{this._renderer._updatePath(this)}return this},setStyle:function(e){p(this,e);if(this._renderer){this._renderer._updateStyle(this);if(this.options.stroke&&e.hasOwnProperty("weight")){this._updateBounds()}}return this},bringToFront:function(){if(this._ren+
derer){this._renderer._bringToFront(this)}return this},bringToBack:function(){if(this._renderer){this._renderer._bringToBack(this)}return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:fun+
ction(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}});var tn=en.extend({options:{fill:true,radius:10},initialize:function(e,t){p(this,t);this._latlng=U(e);this._radius=this.options.radius},setLatLng:function(e){t+
his._latlng=U(e);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){this.options.radius=this._radius=e;return this.redraw()},getRadius:function(){return this._radius},setStyle:fun+
ction(e){var t=e&&e.radius||this._radius;en.prototype.setStyle.call(this,e);this.setRadius(t);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this+
._radiusY||e,i=this._clickTolerance(),n=[e+i,t+i];this._pxBounds=new $(this._point.subtract(n),this._point.add(n))},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return +
this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nn(e,t){return new tn(e,t)}var rn=tn.extend({initialize:function(e,t,i){if(type+
of t==="number"){t=n({},i,{radius:t})}p(this,t);this._latlng=U(e);if(isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(e){this._mRadius=e;return this.redraw()},getRadius:funct+
ion(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:en.prototype.setStyle,_projec+
t:function(){var e=this._latlng.lng,t=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===V.distance){var r=Math.PI/180,o=this._mRadius/V.R/r,s=i.project([t+o,e]),a=i.project([t-o,e]),l=s.add(a).divideBy(2),u=i.unproject(l).lat,h=Math.acos((Math+
.cos(o*r)-Math.sin(t*r)*Math.sin(u*r))/(Math.cos(t*r)*Math.cos(u*r)))/r;if(isNaN(h)||h===0){h=o/Math.cos(Math.PI/180*t)}this._point=l.subtract(i.getPixelOrigin());this._radius=isNaN(h)?0:l.x-i.project([u,e-h]).x;this._radiusY=l.y-s.y}else{var c=n.unproje+
ct(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng);this._radius=this._point.x-i.latLngToLayerPoint(c).x}this._updateBounds()}});function on(e,t,i){return new rn(e,t,i)}var sn=en.extend({options:{smoothF+
actor:1,noClip:false},initialize:function(e,t){p(this,t);this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){this._setLatLngs(e);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:f+
unction(e){var t=Infinity,i=null,n=Pi,r,o;for(var s=0,a=this._parts.length;s<a;s++){var l=this._parts[s];for(var u=1,h=l.length;u<h;u++){r=l[u-1];o=l[u];var c=n(e,r,o,true);if(c<t){t=c;i=n(e,r,o)}}}if(i){i.distance=Math.sqrt(t)}return i},getCenter:functi+
on(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var e,t,i,n,r,o,s,a=this._rings[0],l=a.length;if(!l){return null}for(e=0,t=0;e<l-1;e++){t+=a[e].distanceTo(a[e+1])/2}if(t===0){return this._map.layerPointToLatLng(a[0])+
}for(e=0,n=0;e<l-1;e++){r=a[e];o=a[e+1];i=r.distanceTo(o);n+=i;if(n>t){s=(n-t)/i;return this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(e,t){t=t||this._defaultShape();e=U(e);+
t.push(e);this._bounds.extend(e);return this.redraw()},_setLatLngs:function(e){this._bounds=new F;this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ii(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){var t=[+
],i=Ii(e);for(var n=0,r=e.length;n<r;n++){if(i){t[n]=U(e[n]);this._bounds.extend(t[n])}else{t[n]=this._convertLatLngs(e[n])}}return t},_project:function(){var e=new $;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,e);if(this._bounds.isVali+
d()&&e.isValid()){this._rawPxBounds=e;this._updateBounds()}},_updateBounds:function(){var e=this._clickTolerance(),t=new A(e,e);this._pxBounds=new $([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(e,t,i){var n=+
e[0]instanceof B,r=e.length,o,s;if(n){s=[];for(o=0;o<r;o++){s[o]=this._map.latLngToLayerPoint(e[o]);i.extend(s[o])}t.push(s)}else{for(o=0;o<r;o++){this._projectLatlngs(e[o],t,i)}}},_clipPoints:function(){var e=this._renderer._bounds;this._parts=[];if(!th+
is._pxBounds||!this._pxBounds.intersects(e)){return}if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,i,n,r,o,s,a,l;for(i=0,r=0,o=this._rings.length;i<o;i++){l=this._rings[i];for(n=0,s=l.length;n<s-1;n++){a=Ci(l[n],l[n+1],e,n,true)+
;if(!a){continue}t[r]=t[r]||[];t[r].push(a[0]);if(a[1]!==l[n+1]||n===s-2){t[r].push(a[1]);r++}}}},_simplifyPoints:function(){var e=this._parts,t=this.options.smoothFactor;for(var i=0,n=e.length;i<n;i++){e[i]=wi(e[i],t)}},_update:function(){if(!this._map)+
{return}this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var i,n,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e)){return f+
alse}for(i=0,o=this._parts.length;i<o;i++){a=this._parts[i];for(n=0,s=a.length,r=s-1;n<s;r=n++){if(!t&&n===0){continue}if(bi(e,a[r],a[n])<=l){return true}}}return false}});function an(e,t){return new sn(e,t)}sn._flat=Ni;var ln=sn.extend({options:{fill:tr+
ue},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var e,t,i,n,r,o,s,a,l,u=this._rings[0],h=u.length;if(!h){return null}o=s=a+
=0;for(e=0,t=h-1;e<h;t=e++){i=u[e];n=u[t];r=i.y*n.x-n.y*i.x;s+=(i.x+n.x)*r;a+=(i.y+n.y)*r;o+=r*3}if(o===0){l=u[0]}else{l=[s/o,a/o]}return this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=sn.prototype._convertLatLngs.call(this,e),i=t.len+
gth;if(i>=2&&t[0]instanceof B&&t[0].equals(t[i-1])){t.pop()}return t},_setLatLngs:function(e){sn.prototype._setLatLngs.call(this,e);if(Ii(this._latlngs)){this._latlngs=[this._latlngs]}},_defaultShape:function(){return Ii(this._latlngs[0])?this._latlngs[0+
]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,i=new A(t,t);e=new $(e.min.subtract(i),e.max.add(i));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(e)){return}if(this.options.noClip){this._p+
arts=this._rings;return}for(var n=0,r=this._rings.length,o;n<r;n++){o=Oi(this._rings[n],e,true);if(o.length){this._parts.push(o)}}},_updatePath:function(){this._renderer._updatePoly(this,true)},_containsPoint:function(e){var t=false,i,n,r,o,s,a,l,u;if(!t+
his._pxBounds||!this._pxBounds.contains(e)){return false}for(o=0,l=this._parts.length;o<l;o++){i=this._parts[o];for(s=0,u=i.length,a=u-1;s<u;a=s++){n=i[s];r=i[a];if(n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x){t=!t}}}return t||sn.prototype._+
containsPoint.call(this,e,true)}});function un(e,t){return new ln(e,t)}var hn=Zi.extend({initialize:function(e,t){p(this,t);this._layers={};if(e){this.addData(e)}},addData:function(e){var t=_(e)?e:e.features,i,n,r;if(t){for(i=0,n=t.length;i<n;i++){r=t[i]+
;if(r.geometries||r.geometry||r.features||r.coordinates){this.addData(r)}}return this}var o=this.options;if(o.filter&&!o.filter(e)){return this}var s=cn(e,o);if(!s){return this}s.feature=vn(e);s.defaultOptions=s.options;this.resetStyle(s);if(o.onEachFeat+
ure){o.onEachFeature(e,s)}return this.addLayer(s)},resetStyle:function(e){e.options=n({},e.defaultOptions);this._setLayerStyle(e,this.options.style);return this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_set+
LayerStyle:function(e,t){if(e.setStyle){if(typeof t==="function"){t=t(e.feature)}e.setStyle(t)}}});function cn(e,t){var i=e.type==="Feature"?e.geometry:e,n=i?i.coordinates:null,r=[],o=t&&t.pointToLayer,s=t&&t.coordsToLatLng||dn,a,l,u,h;if(!n&&!i){return +
null}switch(i.type){case"Point":a=s(n);return o?o(e,a):new Qi(a);case"MultiPoint":for(u=0,h=n.length;u<h;u++){a=s(n[u]);r.push(o?o(e,a):new Qi(a))}return new Zi(r);case"LineString":case"MultiLineString":l=fn(n,i.type==="LineString"?0:1,s);return new sn(l+
,t);case"Polygon":case"MultiPolygon":l=fn(n,i.type==="Polygon"?1:2,s);return new ln(l,t);case"GeometryCollection":for(u=0,h=i.geometries.length;u<h;u++){var c=cn({geometry:i.geometries[u],type:"Feature",properties:e.properties},t);if(c){r.push(c)}}return+
 new Zi(r);default:throw new Error("Invalid GeoJSON object.")}}function dn(e){return new B(e[1],e[0],e[2])}function fn(e,t,i){var n=[];for(var r=0,o=e.length,s;r<o;r++){s=t?fn(e[r],t-1,i):(i||dn)(e[r]);n.push(s)}return n}function pn(e,t){t=typeof t==="nu+
mber"?t:6;return e.alt!==undefined?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function mn(e,t,i,n){var r=[];for(var o=0,s=e.length;o<s;o++){r.push(t?mn(e[o],t-1,i,n):pn(e[o],n))}if(!t&&i){r.push(r[0])}return r}function gn(e,t){return e.fe+
ature?n({},e.feature,{geometry:t}):vn(t)}function vn(e){if(e.type==="Feature"||e.type==="FeatureCollection"){return e}return{type:"Feature",properties:{},geometry:e}}var _n={toGeoJSON:function(e){return gn(this,{type:"Point",coordinates:pn(this.getLatLng+
(),e)})}};Qi.include(_n);rn.include(_n);tn.include(_n);sn.include({toGeoJSON:function(e){var t=!Ii(this._latlngs);var i=mn(this._latlngs,t?1:0,false,e);return gn(this,{type:(t?"Multi":"")+"LineString",coordinates:i})}});ln.include({toGeoJSON:function(e){+
var t=!Ii(this._latlngs),i=t&&!Ii(this._latlngs[0]);var n=mn(this._latlngs,i?2:t?1:0,true,e);if(!t){n=[n]}return gn(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}});Vi.include({toMultiPoint:function(e){var t=[];this.eachLayer(function(i){t.push(i.t+
oGeoJSON(e).geometry.coordinates)});return gn(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint"){return this.toMultiPoint(e)}var i=t==="GeometryCollect+
ion",n=[];this.eachLayer(function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(i){n.push(r.geometry)}else{var o=vn(r);if(o.type==="FeatureCollection"){n.push.apply(n,o.features)}else{n.push(o)}}}});if(i){return gn(this,{geometries:n,type:"GeometryCollectio+
n"})}return{type:"FeatureCollection",features:n}}});function yn(e,t){return new hn(e,t)}var wn=yn;var bn=Hi.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,i){this._u+
rl=e;this._bounds=q(t);p(this,i)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1){this._updateOpacity()}}if(this.options.interactive){dt(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane+
().appendChild(this._image);this._reset()},onRemove:function(){at(this._image);if(this.options.interactive){this.removeInteractiveTarget(this._image)}},setOpacity:function(e){this.options.opacity=e;if(this._image){this._updateOpacity()}return this},setSt+
yle:function(e){if(e.opacity){this.setOpacity(e.opacity)}return this},bringToFront:function(){if(this._map){ut(this._image)}return this},bringToBack:function(){if(this._map){ht(this._image)}return this},setUrl:function(e){this._url=e;if(this._image){this+
._image.src=e}return this},setBounds:function(e){this._bounds=q(e);if(this._map){this._reset()}return this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated){e.zoomanim=this._animateZoom}return e},setZIndex:functi+
on(e){this.options.zIndex=e;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG";var t=this._image=e?this._url:st("img");dt(t,"leaflet-+
image-layer");if(this._zoomAnimated){dt(t,"leaflet-zoom-animated")}if(this.options.className){dt(t,this.options.className)}t.onselectstart=h;t.onmousemove=h;t.onload=o(this.fire,this,"load");t.onerror=o(this._overlayOnError,this,"error");if(this.options.+
crossOrigin||this.options.crossOrigin===""){t.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}if(this.options.zIndex){this._updateZIndex()}if(e){this._url=t.src;return}t.src=this._url;t.alt=this.options.alt},_animateZoom:function(+
e){var t=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;yt(this._image,i,t)},_reset:function(){var e=this._image,t=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLn+
gToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();wt(e,t.min);e.style.width=i.x+"px";e.style.height=i.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&this.options.zIndex!==undefined+
&&this.options.zIndex!==null){this._image.style.zIndex=this.options.zIndex}},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;if(e&&this._url!==e){this._url=e;this._image.src=e}}});var xn=function(e,t,i){return new bn(e,t,+
i)};var Ln=bn.extend({options:{autoplay:true,loop:true,keepAspectRatio:true},_initImage:function(){var e=this._url.tagName==="VIDEO";var t=this._image=e?this._url:st("video");dt(t,"leaflet-image-layer");if(this._zoomAnimated){dt(t,"leaflet-zoom-animated"+
)}t.onselectstart=h;t.onmousemove=h;t.onloadeddata=o(this.fire,this,"load");if(e){var i=t.getElementsByTagName("source");var n=[];for(var r=0;r<i.length;r++){n.push(i[r].src)}this._url=i.length>0?n:[t.src];return}if(!_(this._url)){this._url=[this._url]}i+
f(!this.options.keepAspectRatio&&t.style.hasOwnProperty("objectFit")){t.style["objectFit"]="fill"}t.autoplay=!!this.options.autoplay;t.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var a=st("source");a.src=this._url[s];t.appendChild(a)}}})+
;function kn(e,t,i){return new Ln(e,t,i)}var En=bn.extend({_initImage:function(){var e=this._image=this._url;dt(e,"leaflet-image-layer");if(this._zoomAnimated){dt(e,"leaflet-zoom-animated")}e.onselectstart=h;e.onmousemove=h}});function Tn(e,t,i){return n+
ew En(e,t,i)}var Cn=Hi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){p(this,e);this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated;if(!this._container){this._initLayout()}if(e._fadeAnimated){gt(thi+
s._container,0)}clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(e._fadeAnimated){gt(this._container,1)}this.bringToFront()},onRemove:function(e){if(e._fadeAnimated){gt(this._container,0);this._removeTimeout=+
setTimeout(o(at,undefined,this._container),200)}else{at(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(e){this._latlng=U(e);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return +
this._content},setContent:function(e){this._content=e;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();th+
is._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated){e.zoomanim=this._animateZoom}return e},isOpen:function(){return!!this+
._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map){ut(this._container)}return this},bringToBack:function(){if(this._map){ht(this._container)}return this},_prepareOpen:function(e,t,i){if(!(t instanceof Hi)){i=t;t=e}if(t instanceof Zi){+
for(var n in e._layers){t=e._layers[n];break}}if(!i){if(t.getCenter){i=t.getCenter()}else if(t.getLatLng){i=t.getLatLng()}else{throw new Error("Unable to get source layer LatLng.")}}this._source=t;this.update();return i},_updateContent:function(){if(!thi+
s._content){return}var e=this._contentNode;var t=typeof this._content==="function"?this._content(this._source||this):this._content;if(typeof t==="string"){e.innerHTML=t}else{while(e.hasChildNodes()){e.removeChild(e.firstChild)}e.appendChild(t)}this.fire(+
"contentupdate")},_updatePosition:function(){if(!this._map){return}var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),i=this._getAnchor();if(this._zoomAnimated){wt(this._container,e.add(i))}else{t=t.add(e).add(i)}var n=this._contai+
nerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=n+"px";this._container.style.left=r+"px"},_getAnchor:function(){return[0,0]}});var Dn=Cn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,au+
toPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,closeOnEscapeKey:true,className:""},openOn:function(e){e.openPopup(this);return this},onAdd:function(e){Cn.prototyp+
e.onAdd.call(this,e);e.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof en)){this._source.on("preclick",qt)}}},onRemove:function(e){Cn.prototype.onRemove.call(this,e);e.fire("po+
pupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof en)){this._source.off("preclick",qt)}}},getEvents:function(){var e=Cn.prototype.getEvents.call(this);if(this.options.closeOnClick!==un+
defined?this.options.closeOnClick:this._map.options.closePopupOnClick){e.preclick=this._close}if(this.options.keepInView){e.moveend=this._adjustPan}return e},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var e="leafl+
et-popup",t=this._container=st("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated");var i=this._wrapper=st("div",e+"-content-wrapper",t);this._contentNode=st("div",e+"-content",i);Ut(i);Bt(this._contentNode);Ot(i,"contextmenu",qt);this._tip+
Container=st("div",e+"-tip-container",t);this._tip=st("div",e+"-tip",this._tipContainer);if(this.options.closeButton){var n=this._closeButton=st("a",e+"-close-button",t);n.href="#close";n.innerHTML="&#215;";Ot(n,"click",this._onCloseButtonClick,this)}},_+
updateLayout:function(){var e=this._contentNode,t=e.style;t.width="";t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth);i=Math.max(i,this.options.minWidth);t.width=i+1+"px";t.whiteSpace="";t.height="";var n=e.offsetHeight,r=thi+
s.options.maxHeight,o="leaflet-popup-scrolled";if(r&&n>r){t.height=r+"px";dt(e,o)}else{ft(e,o)}this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnch+
or();wt(this._container,t.add(i))},_adjustPan:function(){if(!this.options.autoPan){return}if(this._map._panAnim){this._map._panAnim.stop()}var e=this._map,t=parseInt(ot(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+t,n=this._conta+
inerWidth,r=new A(this._containerLeft,-i-this._containerBottom);r._add(bt(this._container));var o=e.layerPointToContainerPoint(r),s=R(this.options.autoPanPadding),a=R(this.options.autoPanPaddingTopLeft||s),l=R(this.options.autoPanPaddingBottomRight||s),u+
=e.getSize(),h=0,c=0;if(o.x+n+l.x>u.x){h=o.x+n-u.x+l.x}if(o.x-h-a.x<0){h=o.x-a.x}if(o.y+i+l.y>u.y){c=o.y+i-u.y+l.y}if(o.y-c-a.y<0){c=o.y-a.y}if(h||c){e.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(e){this._close();Vt(e)},_getAnchor:fu+
nction(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});var Sn=function(e,t){return new Dn(e,t)};ii.mergeOptions({closePopupOnClick:true});ii.include({openPopup:function(e,t,i){if(!(e instanceof Dn)){e=new Dn+
(i).setContent(e)}if(t){e.setLatLng(t)}if(this.hasLayer(e)){return this}if(this._popup&&this._popup.options.autoClose){this.closePopup()}this._popup=e;return this.addLayer(e)},closePopup:function(e){if(!e||e===this._popup){e=this._popup;this._popup=null}+
if(e){this.removeLayer(e)}return this}});Hi.include({bindPopup:function(e,t){if(e instanceof Dn){p(e,t);this._popup=e;e._source=this}else{if(!this._popup||t){this._popup=new Dn(t,this)}this._popup.setContent(e)}if(!this._popupHandlersAdded){this.on({clic+
k:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,m+
ove:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(e,t){if(this._popup&&this._map){t=this._popup._prepareOpen(this,e,t);this._map.openPopup(this._popup,t)}return this},closePopup:function(){if(this._popu+
p){this._popup._close()}return this},togglePopup:function(e){if(this._popup){if(this._popup._map){this.closePopup()}else{this.openPopup(e)}}return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():false},setPopupContent:function(e){if(+
this._popup){this._popup.setContent(e)}return this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;if(!this._popup){return}if(!this._map){return}Vt(e);if(t instanceof en){this.openPopup(e.layer||e.target,e.latlng);+
return}if(this._map.hasLayer(this._popup)&&this._popup._source===t){this.closePopup()}else{this.openPopup(t,e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){if(e.originalEvent.keyCode===13){this._openPopup(e)}}}+
);var Mn=Cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,interactive:false,opacity:.9},onAdd:function(e){Cn.prototype.onAdd.call(this,e);this.setOpacity(this.options.opacity);e.fire("tooltipopen",{tooltip+
:this});if(this._source){this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(e){Cn.prototype.onRemove.call(this,e);e.fire("tooltipclose",{tooltip:this});if(this._source){this._source.fire("tooltipclose",{tooltip:this},true)}},getEven+
ts:function(){var e=Cn.prototype.getEvents.call(this);if(ke&&!this.options.permanent){e.preclick=this._close}return e},_close:function(){if(this._map){this._map.closeTooltip(this)}},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.cla+
ssName||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,i=this._container,n=t.latLngToContainerPoint(t.+
getCenter()),r=t.layerPointToContainerPoint(e),o=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,l=R(this.options.offset),u=this._getAnchor();if(o==="top"){e=e.add(R(-s/2+l.x,-a+l.y+u.y,true))}else if(o==="bottom"){e=e.subtract(R(s/2-l.x,-l.y,tru+
e))}else if(o==="center"){e=e.subtract(R(s/2+l.x,a/2-u.y+l.y,true))}else if(o==="right"||o==="auto"&&r.x<n.x){o="right";e=e.add(R(l.x+u.x,u.y-a/2+l.y,true))}else{o="left";e=e.subtract(R(s+u.x-l.x,a/2-u.y-l.y,true))}ft(i,"leaflet-tooltip-right");ft(i,"lea+
flet-tooltip-left");ft(i,"leaflet-tooltip-top");ft(i,"leaflet-tooltip-bottom");dt(i,"leaflet-tooltip-"+o);wt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opaci+
ty=e;if(this._container){gt(this._container,e)}},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.option+
s.sticky?this._source._getTooltipAnchor():[0,0])}});var Pn=function(e,t){return new Mn(e,t)};ii.include({openTooltip:function(e,t,i){if(!(e instanceof Mn)){e=new Mn(i).setContent(e)}if(t){e.setLatLng(t)}if(this.hasLayer(e)){return this}return this.addLay+
er(e)},closeTooltip:function(e){if(e){this.removeLayer(e)}return this}});Hi.include({bindTooltip:function(e,t){if(e instanceof Mn){p(e,t);this._tooltip=e;e._source=this}else{if(!this._tooltip||t){this._tooltip=new Mn(t,this)}this._tooltip.setContent(e)}t+
his._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)){this.openTooltip()}return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}+
return this},_initTooltipInteractions:function(e){if(!e&&this._tooltipHandlersAdded){return}var t=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent){i.mouseover=this._openTooltip;i.mouseout=this.closeToo+
ltip;if(this._tooltip.options.sticky){i.mousemove=this._moveTooltip}if(ke){i.click=this._openTooltip}}else{i.add=this._openTooltip}this[t](i);this._tooltipHandlersAdded=!e},openTooltip:function(e,t){if(this._tooltip&&this._map){t=this._tooltip._prepareOp+
en(this,e,t);this._map.openTooltip(this._tooltip,t);if(this._tooltip.options.interactive&&this._tooltip._container){dt(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function()+
{if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){ft(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(e){if(t+
his._tooltip){if(this._tooltip._map){this.closeTooltip()}else{this.openTooltip(e)}}return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){if(this._tooltip){this._tooltip.setContent(e)}return this},getTooltip:fu+
nction(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;if(!this._tooltip||!this._map){return}this.openTooltip(t,this._tooltip.options.sticky?e.latlng:undefined)},_moveTooltip:function(e){var t=e.latlng,i,n;if(this._tooltip.option+
s.sticky&&e.originalEvent){i=this._map.mouseEventToContainerPoint(e.originalEvent);n=this._map.containerPointToLayerPoint(i);t=this._map.layerPointToLatLng(n)}this._tooltip.setLatLng(t)}});var In=Gi.extend({options:{iconSize:[12,12],html:false,bgPos:null+
,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),i=this.options;if(i.html instanceof Element){lt(t);t.appendChild(i.html)}else{t.innerHTML=i.html!==false?i.html:""}if(i.bgPos){var n=R(i.bgPo+
s);t.style.backgroundPosition=-n.x+"px "+-n.y+"px"}this._setIconStyles(t,"icon");return t},createShadow:function(){return null}});function Nn(e){return new In(e)}Gi.Default=Xi;var An=Hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ye,updateWhen+
Zooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,maxNativeZoom:undefined,minNativeZoom:undefined,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContaine+
r();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles();at(this._container);e._removeZoomLimit(this);this._container=null;this._tileZoom=undefined},brin+
gToFront:function(){if(this._map){ut(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){ht(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacit+
y:function(e){this.options.opacity=e;this._updateOpacity();return this},setZIndex:function(e){this.options.zIndex=e;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._+
update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove){this._onMove=l(this._onMoveEnd,this.options.upda+
teInterval,this)}e.move=this._onMove}if(this._zoomAnimated){e.zoomanim=this._animateZoom}return e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof A?e:new A(e,e)},_updateZ+
Index:function(){if(this._container&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(e){var t=this.getPane().children,i=-e(-Infinity,Infinity);for(var n=0,r=t.length,+
o;n<r;n++){o=t[n].style.zIndex;if(t[n]!==this._container&&o){i=e(i,+o)}}if(isFinite(i)){this.options.zIndex=i+e(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map){return}if(te){return}gt(this._container,this.options.opacity);var e=+new+
 Date,t=false,i=false;for(var n in this._tiles){var r=this._tiles[n];if(!r.current||!r.loaded){continue}var o=Math.min(1,(e-r.loaded)/200);gt(r.el,o);if(o<1){t=true}else{if(r.active){i=true}else{this._onOpaqueTile(r)}r.active=true}}if(i&&!this._noPrune){+
this._pruneTiles()}if(t){D(this._fadeFrame);this._fadeFrame=C(this._updateOpacity,this)}},_onOpaqueTile:h,_initContainer:function(){if(this._container){return}this._container=st("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if+
(this.options.opacity<1){this._updateOpacity()}this.getPane().appendChild(this._container)},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e===undefined){return undefined}for(var i in this._levels){if(this._levels[i].el.children.+
length||i===e){this._levels[i].el.style.zIndex=t-Math.abs(e-i);this._onUpdateLevel(i)}else{at(this._levels[i].el);this._removeTilesAtZoom(i);this._onRemoveLevel(i);delete this._levels[i]}}var n=this._levels[e],r=this._map;if(!n){n=this._levels[e]={};n.el+
=st("div","leaflet-tile-container leaflet-zoom-animated",this._container);n.el.style.zIndex=t;n.origin=r.project(r.unproject(r.getPixelOrigin()),e).round();n.zoom=e;this._setZoomTransform(n,r.getCenter(),r.getZoom());h(n.el.offsetWidth);this._onCreateLev+
el(n)}this._level=n;return n},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(!this._map){return}var e,t;var i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(e in this+
._tiles){t=this._tiles[e];t.retain=t.current}for(e in this._tiles){t=this._tiles[e];if(t.current&&!t.active){var n=t.coords;if(!this._retainParent(n.x,n.y,n.z,n.z-5)){this._retainChildren(n.x,n.y,n.z,n.z+2)}}}for(e in this._tiles){if(!this._tiles[e].reta+
in){this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles){if(this._tiles[t].coords.z!==e){continue}this._removeTile(t)}},_removeAllTiles:function(){for(var e in this._tiles){this._removeTile(e)}},_invalidateAll:function(){for(va+
r e in this._levels){at(this._levels[e].el);this._onRemoveLevel(e);delete this._levels[e]}this._removeAllTiles();this._tileZoom=undefined},_retainParent:function(e,t,i,n){var r=Math.floor(e/2),o=Math.floor(t/2),s=i-1,a=new A(+r,+o);a.z=+s;var l=this._til+
eCoordsToKey(a),u=this._tiles[l];if(u&&u.active){u.retain=true;return true}else if(u&&u.loaded){u.retain=true}if(s>n){return this._retainParent(r,o,s,n)}return false},_retainChildren:function(e,t,i,n){for(var r=2*e;r<2*e+2;r++){for(var o=2*t;o<2*t+2;o++)+
{var s=new A(r,o);s.z=i+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];if(l&&l.active){l.retain=true;continue}else if(l&&l.loaded){l.retain=true}if(i+1<n){this._retainChildren(r,o,i+1,n)}}}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._set+
View(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,true,e.noUpdate)},_clampZoom:function(e){var t=this.options;if(undefined!==t.minNativeZoom&&e<t.minNativeZoom){return t.minNativeZoom}if(undefined+
!==t.maxNativeZoom&&t.maxNativeZoom<e){return t.maxNativeZoom}return e},_setView:function(e,t,i,n){var r=this._clampZoom(Math.round(t));if(this.options.maxZoom!==undefined&&r>this.options.maxZoom||this.options.minZoom!==undefined&&r<this.options.minZoom)+
{r=undefined}var o=this.options.updateWhenZooming&&r!==this._tileZoom;if(!n||o){this._tileZoom=r;if(this._abortLoading){this._abortLoading()}this._updateLevels();this._resetGrid();if(r!==undefined){this._update(e)}if(!i){this._pruneTiles()}this._noPrune=+
!!i}this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var i in this._levels){this._setZoomTransform(this._levels[i],e,t)}},_setZoomTransform:function(e,t,i){var n=this._map.getZoomScale(i,e.zoom),r=e.origin.multiplyBy(n).subtract(this._m+
ap._getNewPixelOrigin(t,i)).round();if(_e){yt(e.el,r,n)}else{wt(e.el,r)}},_resetGrid:function(){var e=this._map,t=e.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom;var r=this._map.getPixelWorldBounds(this._tileZoom);if(r){this._globalTil+
eRange=this._pxBoundsToTileRange(r)}this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],n).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],n).x/i.y)];this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLa+
t[0],0],n).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom){return}this._update()},_getTiledPixelBounds:function(e){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZo+
om()):t.getZoom(),n=t.getZoomScale(i,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(n*2);return new $(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(!t){return}var i=this._clampZoom(t.getZoom());if(e===undef+
ined){e=t.getCenter()}if(this._tileZoom===undefined){return}var n=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(n),o=r.getCenter(),s=[],a=this.options.keepBuffer,l=new $(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFi+
nite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y))){throw new Error("Attempted to load an infinite number of tiles")}for(var u in this._tiles){var h=this._tiles[u].coords;if(h.z!==this._tileZoom||!l.contains(new A(h.x,h.y))){this._ti+
les[u].current=false}}if(Math.abs(i-this._tileZoom)>1){this._setView(e,i);return}for(var c=r.min.y;c<=r.max.y;c++){for(var d=r.min.x;d<=r.max.x;d++){var f=new A(d,c);f.z=this._tileZoom;if(!this._isValidTile(f)){continue}var p=this._tiles[this._tileCoords+
ToKey(f)];if(p){p.current=true}else{s.push(f)}}}s.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)});if(s.length!==0){if(!this._loading){this._loading=true;this.fire("loading")}var m=document.createDocumentFragment();for(d=0;d<s.length;d++){this+
._addTile(s[d],m)}this._level.el.appendChild(m)}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!t.wrapLat&&(e.y<i.min.y||e.y>i.max.y)){return false}}if(!this.o+
ptions.bounds){return true}var n=this._tileCoordsToBounds(e);return q(this.options.bounds).overlaps(n)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,i=this.getTileSize()+
,n=e.scaleBy(i),r=n.add(i),o=t.unproject(n,e.z),s=t.unproject(r,e.z);return[o,s]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),i=new F(t[0],t[1]);if(!this.options.noWrap){i=this._map.wrapLatLngBounds(i)}return i},_tileCoordsToKey:funct+
ion(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),i=new A(+t[0],+t[1]);i.z=+t[2];return i},_removeTile:function(e){var t=this._tiles[e];if(!t){return}at(t.el);delete this._tiles[e];this.fire("tileunload",{tile:t.el,coords+
:this._keyToTileCoords(e)})},_initTile:function(e){dt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px";e.style.height=t.y+"px";e.onselectstart=h;e.onmousemove=h;if(te&&this.options.opacity<1){gt(e,this.options.opacity)}if(re&&!oe){e.styl+
e.WebkitBackfaceVisibility="hidden"}},_addTile:function(e,t){var i=this._getTilePos(e),n=this._tileCoordsToKey(e);var r=this.createTile(this._wrapCoords(e),o(this._tileReady,this,e));this._initTile(r);if(this.createTile.length<2){C(o(this._tileReady,this+
,e,null,r))}wt(r,i);this._tiles[n]={el:r,coords:e,current:true};t.appendChild(r);this.fire("tileloadstart",{tile:r,coords:e})},_tileReady:function(e,t,i){if(t){this.fire("tileerror",{error:t,tile:i,coords:e})}var n=this._tileCoordsToKey(e);i=this._tiles[+
n];if(!i){return}i.loaded=+new Date;if(this._map._fadeAnimated){gt(i.el,0);D(this._fadeFrame);this._fadeFrame=C(this._updateOpacity,this)}else{i.active=true;this._pruneTiles()}if(!t){dt(i.el,"leaflet-tile-loaded");this.fire("tileload",{tile:i.el,coords:e+
})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(te||!this._map._fadeAnimated){C(this._pruneTiles,this)}else{setTimeout(o(this._pruneTiles,this),250)}}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._leve+
l.origin)},_wrapCoords:function(e){var t=new A(this._wrapX?u(e.x,this._wrapX):e.x,this._wrapY?u(e.y,this._wrapY):e.y);t.z=e.z;return t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new $(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).c+
eil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles){if(!this._tiles[e].loaded){return false}}return true}});function On(e){return new An(e)}                                                                                           
/*                                                                                                                                                                                                                                                             
	 * @class TileLayer                                                                                                                                                                                                                                           
	 * @inherits GridLayer                                                                                                                                                                                                                                        
	 * @aka L.TileLayer                                                                                                                                                                                                                                           
	 * Used to load and display tile layers on the map. Note that most tile servers require attribution, which you can set under `Layer`. Extends `GridLayer`.                                                                                                    
	 *                                                                                                                                                                                                                                                            
	 * @example                                                                                                                                                                                                                                                   
	 *                                                                                                                                                                                                                                                            
	 * ```js                                                                                                                                                                                                                                                      
	 * L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar', attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-B+
Y-SA</a>'}).addTo(map);                                                                                                                                                                                                                                        
	 * ```                                                                                                                                                                                                                                                        
	 *                                                                                                                                                                                                                                                            
	 * @section URL template                                                                                                                                                                                                                                      
	 * @example                                                                                                                                                                                                                                                   
	 *                                                                                                                                                                                                                                                            
	 * A string of the following form:                                                                                                                                                                                                                            
	 *                                                                                                                                                                                                                                                            
	 * ```                                                                                                                                                                                                                                                        
	 * 'http://{s}.somedomain.com/blabla/{z}/{x}/{y}{r}.png'                                                                                                                                                                                                      
	 * ```                                                                                                                                                                                                                                                        
	 *                                                                                                                                                                                                                                                            
	 * `{s}` means one of the available subdomains (used sequentially to help with browser parallel requests per domain limitation; subdomain values are specified in options; `a`, `b` or `c` by default, can be omitted), `{z}` — zoom level, `{x}` and `{y}` —+
 tile coordinates. `{r}` can be used to add "&commat;2x" to the URL to load retina tiles.                                                                                                                                                                      
	 *                                                                                                                                                                                                                                                            
	 * You can use custom keys in the template, which will be [evaluated](#util-template) from TileLayer options, like this:                                                                                                                                      
	 *                                                                                                                                                                                                                                                            
	 * ```                                                                                                                                                                                                                                                        
	 * L.tileLayer('http://{s}.somedomain.com/{foo}/{z}/{x}/{y}.png', {foo: 'bar'});                                                                                                                                                                              
	 * ```                                                                                                                                                                                                                                                        
	 */var Rn=An.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false},initialize:function(e,t){this._url=e;t=p(this,t);if(t.detectRetina&&Ce&&t.maxZoom>0){t.til+
eSize=Math.floor(t.tileSize/2);if(!t.zoomReverse){t.zoomOffset++;t.maxZoom--}else{t.zoomOffset--;t.minZoom++}t.minZoom=Math.max(0,t.minZoom)}if(typeof t.subdomains==="string"){t.subdomains=t.subdomains.split("")}if(!re){this.on("tileunload",this._onTileR+
emove)}},setUrl:function(e,t){if(this._url===e&&t===undefined){t=true}this._url=e;if(!t){this.redraw()}return this},createTile:function(e,t){var i=document.createElement("img");Ot(i,"load",o(this._tileOnLoad,this,t,i));Ot(i,"error",o(this._tileOnError,th+
is,t,i));if(this.options.crossOrigin||this.options.crossOrigin===""){i.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}i.alt="";i.setAttribute("role","presentation");i.src=this.getTileUrl(e);return i},getTileUrl:function(e){var t=+
{r:Ce?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;if(this.options.tms){t["y"]=i}t["-y"]=i}return v(this._url,n(t,this.options))},_tileOnLoad:fu+
nction(e,t){if(te){setTimeout(o(e,this,null,t),0)}else{e(null,t)}},_tileOnError:function(e,t,i){var n=this.options.errorTileUrl;if(n&&t.getAttribute("src")!==n){t.src=n}e(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e+
=this._tileZoom,t=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;if(i){e=t-e}return e+n},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function+
(){var e,t;for(e in this._tiles){if(this._tiles[e].coords.z!==this._tileZoom){t=this._tiles[e].el;t.onload=h;t.onerror=h;if(!t.complete){t.src=w;at(t);delete this._tiles[e]}}}},_removeTile:function(e){var t=this._tiles[e];if(!t){return}if(!ae){t.el.setAt+
tribute("src",w)}return An.prototype._removeTile.call(this,e)},_tileReady:function(e,t,i){if(!this._map||i&&i.getAttribute("src")===w){return}return An.prototype._tileReady.call(this,e,t,i)}});function $n(e,t){return new Rn(e,t)}                          
/*                                                                                                                                                                                                                                                             
	 * @class TileLayer.WMS                                                                                                                                                                                                                                       
	 * @inherits TileLayer                                                                                                                                                                                                                                        
	 * @aka L.TileLayer.WMS                                                                                                                                                                                                                                       
	 * Used to display [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services as tile layers on the map. Extends `TileLayer`.                                                                                                                              
	 *                                                                                                                                                                                                                                                            
	 * @example                                                                                                                                                                                                                                                   
	 *                                                                                                                                                                                                                                                            
	 * ```js                                                                                                                                                                                                                                                      
	 * var nexrad = L.tileLayer.wms("http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi", {                                                                                                                                                              
	 * 	layers: 'nexrad-n0r-900913',                                                                                                                                                                                                                              
	 * 	format: 'image/png',                                                                                                                                                                                                                                      
	 * 	transparent: true,                                                                                                                                                                                                                                        
	 * 	attribution: "Weather data © 2012 IEM Nexrad"                                                                                                                                                                                                             
	 * });                                                                                                                                                                                                                                                        
	 * ```                                                                                                                                                                                                                                                        
	 */var zn=Rn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(e,t){this._url=e;var i=n({},this.defaultWmsParams);fo+
r(var r in t){if(!(r in this.options)){i[r]=t[r]}}t=p(this,t);var o=t.detectRetina&&Ce?2:1;var s=this.getTileSize();i.width=s.x*o;i.height=s.y*o;this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs;this._wmsVersion=parseFloat(thi+
s.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code;Rn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),i=this._crs,n=z(i.project(t[0]),i.project(t[1])),r=n.min,o=n.max,s=(this+
._wmsVersion>=1.3&&this._crs===Bi?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=Rn.prototype.getTileUrl.call(this,e);return a+m(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,t){n(this.wmsPa+
rams,e);if(!t){this.redraw()}return this}});function Fn(e,t){return new zn(e,t)}Rn.WMS=zn;$n.wms=Fn;var qn=Hi.extend({options:{padding:.1,tolerance:0},initialize:function(e){p(this,e);a(this);this._layers=this._layers||{}},onAdd:function(){if(!this._cont+
ainer){this._initContainer();if(this._zoomAnimated){dt(this._container,"leaflet-zoom-animated")}}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,+
this);this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated){e.zoomanim=this._onAnimZoom}return e},_onAnimZoom:function(e){this._updateTransform(e+
.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var i=this._map.getZoomScale(t,this._zoom),n=bt(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding+
),o=this._map.project(this._center,t),s=this._map.project(e,t),a=s.subtract(o),l=r.multiplyBy(-i).add(n).add(r).subtract(a);if(_e){yt(this._container,l,i)}else{wt(this._container,l)}},_reset:function(){this._update();this._updateTransform(this._center,th+
is._zoom);for(var e in this._layers){this._layers[e]._reset()}},_onZoomEnd:function(){for(var e in this._layers){this._layers[e]._project()}},_updatePaths:function(){for(var e in this._layers){this._layers[e]._update()}},_update:function(){var e=this.opt+
ions.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new $(i,i.add(t.multiplyBy(1+e*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});var Bn=qn.extend({getEvents:+
function(){var e=qn.prototype.getEvents.call(this);e.viewprereset=this._onViewPreReset;return e},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){qn.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var e=this.+
_container=document.createElement("canvas");Ot(e,"mousemove",l(this._onMouseMove,32,this),this);Ot(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this);Ot(e,"mouseout",this._handleMouseOut,this);this._ctx=e.getContext("2d")},_destroyConta+
iner:function(){D(this._redrawRequest);delete this._ctx;at(this._container);$t(this._container);delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths){return}var e;this._redrawBounds=null;for(var t in this._layers){e=this._layers[t+
];e._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}qn.prototype._update.call(this);var e=this._bounds,t=this._container,i=e.getSize(),n=Ce?2:1;wt(t,e.min);t.width=n*i.x;t.height=n*i.y;t.style.width=i.x+"px"+
;t.style.height=i.y+"px";if(Ce){this._ctx.scale(2,2)}this._ctx.translate(-e.min.x,-e.min.y);this.fire("update")},_reset:function(){qn.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPat+
h:function(e){this._updateDashArray(e);this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};if(this._drawLast){this._drawLast.next=t}this._drawLast=t;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._reque+
stRedraw(e)},_removePath:function(e){var t=e._order;var i=t.next;var n=t.prev;if(i){i.prev=n}else{this._drawLast=n}if(n){n.next=i}else{this._drawFirst=i}delete e._order;delete this._layers[a(e)];this._requestRedraw(e)},_updatePath:function(e){this._exten+
dRedrawBounds(e);e._project();e._update();this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e);this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray==="string"){var t=e.options.dashArray.split(/[, ]+/),i=+
[],n,r;for(r=0;r<t.length;r++){n=Number(t[r]);if(isNaN(n)){return}i.push(n)}e.options._dashArray=i}else{e.options._dashArray=e.options.dashArray}},_requestRedraw:function(e){if(!this._map){return}this._extendRedrawBounds(e);this._redrawRequest=this._redr+
awRequest||C(this._redraw,this)},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $;this._redrawBounds.extend(e._pxBounds.min.subtract([t,t]));this._redrawBounds.extend(e._pxBounds.m+
ax.add([t,t]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=+
e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var e,t=this._redrawBounds;this._ctx.save();if(t){var i=t.getSize();this._ctx.beginPath();this._ctx.rec+
t(t.min.x,t.min.y,i.x,i.y);this._ctx.clip()}this._drawing=true;for(var n=this._drawFirst;n;n=n.next){e=n.layer;if(!t||e._pxBounds&&e._pxBounds.intersects(t)){e._updatePath()}}this._drawing=false;this._ctx.restore()},_updatePoly:function(e,t){if(!this._dr+
awing){return}var i,n,r,o,s=e._parts,a=s.length,l=this._ctx;if(!a){return}l.beginPath();for(i=0;i<a;i++){for(n=0,r=s[i].length;n<r;n++){o=s[i][n];l[n?"lineTo":"moveTo"](o.x,o.y)}if(t){l.closePath()}}this._fillStroke(l,e)},_updateCircle:function(e){if(!th+
is._drawing||e._empty()){return}var t=e._point,i=this._ctx,n=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||n)/n;if(r!==1){i.save();i.scale(1,r)}i.beginPath();i.arc(t.x,t.y/r,n,0,Math.PI*2,false);if(r!==1){i.restore()}this._fill+
Stroke(i,e)},_fillStroke:function(e,t){var i=t.options;if(i.fill){e.globalAlpha=i.fillOpacity;e.fillStyle=i.fillColor||i.color;e.fill(i.fillRule||"evenodd")}if(i.stroke&&i.weight!==0){if(e.setLineDash){e.setLineDash(t.options&&t.options._dashArray||[])}e+
.globalAlpha=i.opacity;e.lineWidth=i.weight;e.strokeStyle=i.color;e.lineCap=i.lineCap;e.lineJoin=i.lineJoin;e.stroke()}},_onClick:function(e){var t=this._map.mouseEventToLayerPoint(e),i,n;for(var r=this._drawFirst;r;r=r.next){i=r.layer;if(i.options.inter+
active&&i._containsPoint(t)&&!this._map._draggableMoved(i)){n=i}}if(n){Yt(e);this._fireEvent([n],e)}},_onMouseMove:function(e){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom){return}var t=this._map.mouseEventToLayerPoint(e);this._ha+
ndleMouseHover(e,t)},_handleMouseOut:function(e){var t=this._hoveredLayer;if(t){ft(this._container,"leaflet-interactive");this._fireEvent([t],e,"mouseout");this._hoveredLayer=null}},_handleMouseHover:function(e,t){var i,n;for(var r=this._drawFirst;r;r=r.+
next){i=r.layer;if(i.options.interactive&&i._containsPoint(t)){n=i}}if(n!==this._hoveredLayer){this._handleMouseOut(e);if(n){dt(this._container,"leaflet-interactive");this._fireEvent([n],e,"mouseover");this._hoveredLayer=n}}if(this._hoveredLayer){this._f+
ireEvent([this._hoveredLayer],e)}},_fireEvent:function(e,t,i){this._map._fireDOMEvent(t,i||t.type,e)},_bringToFront:function(e){var t=e._order;if(!t){return}var i=t.next;var n=t.prev;if(i){i.prev=n}else{return}if(n){n.next=i}else if(i){this._drawFirst=i}+
t.prev=this._drawLast;this._drawLast.next=t;t.next=null;this._drawLast=t;this._requestRedraw(e)},_bringToBack:function(e){var t=e._order;if(!t){return}var i=t.next;var n=t.prev;if(n){n.next=i}else{return}if(i){i.prev=n}else if(n){this._drawLast=n}t.prev=+
null;t.next=this._drawFirst;this._drawFirst.prev=t;this._drawFirst=t;this._requestRedraw(e)}});function Un(e){return De?new Bn(e):null}var Hn=function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(e){return documen+
t.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}();var Vn={_initContainer:function(){this._container=st("div","leaflet-vml-container")+
},_update:function(){if(this._map._animatingZoom){return}qn.prototype._update.call(this);this.fire("update")},_initPath:function(e){var t=e._container=Hn("shape");dt(t,"leaflet-vml-shape "+(this.options.className||""));t.coordsize="1 1";e._path=Hn("path"+
);t.appendChild(e._path);this._updateStyle(e);this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t);if(e.options.interactive){e.addInteractiveTarget(t)}},_removePath:function(e){var t=e._container;at(t);e.removeInte+
ractiveTarget(t);delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,i=e._fill,n=e.options,r=e._container;r.stroked=!!n.stroke;r.filled=!!n.fill;if(n.stroke){if(!t){t=e._stroke=Hn("stroke")}r.appendChild(t);t.weight=n.weight+"px";t.color=+
n.color;t.opacity=n.opacity;if(n.dashArray){t.dashStyle=_(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," ")}else{t.dashStyle=""}t.endcap=n.lineCap.replace("butt","flat");t.joinstyle=n.lineJoin}else if(t){r.removeChild(t);e._stroke=nu+
ll}if(n.fill){if(!i){i=e._fill=Hn("fill")}r.appendChild(i);i.color=n.fillColor||n.color;i.opacity=n.fillOpacity}else if(i){r.removeChild(i);e._fill=null}},_updateCircle:function(e){var t=e._point.round(),i=Math.round(e._radius),n=Math.round(e._radiusY||i+
);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+n+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){ut(e._container)},_bringToBack:function(e){ht(e._container)}};var jn=Me?Hn:K;var Zn=qn.extend({getEvents:fun+
ction(){var e=qn.prototype.getEvents.call(this);e.zoomstart=this._onZoomStart;return e},_initContainer:function(){this._container=jn("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=jn("g");this._container.appendChild(this._ro+
otGroup)},_destroyContainer:function(){at(this._container);$t(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(this._map._animatingZoom&&this._bounds){retur+
n}qn.prototype._update.call(this);var e=this._bounds,t=e.getSize(),i=this._container;if(!this._svgSize||!this._svgSize.equals(t)){this._svgSize=t;i.setAttribute("width",t.x);i.setAttribute("height",t.y)}wt(i,e.min);i.setAttribute("viewBox",[e.min.x,e.min+
.y,t.x,t.y].join(" "));this.fire("update")},_initPath:function(e){var t=e._path=jn("path");if(e.options.className){dt(t,e.options.className)}if(e.options.interactive){dt(t,"leaflet-interactive")}this._updateStyle(e);this._layers[a(e)]=e},_addPath:functio+
n(e){if(!this._rootGroup){this._initContainer()}this._rootGroup.appendChild(e._path);e.addInteractiveTarget(e._path)},_removePath:function(e){at(e._path);e.removeInteractiveTarget(e._path);delete this._layers[a(e)]},_updatePath:function(e){e._project();e+
._update()},_updateStyle:function(e){var t=e._path,i=e.options;if(!t){return}if(i.stroke){t.setAttribute("stroke",i.color);t.setAttribute("stroke-opacity",i.opacity);t.setAttribute("stroke-width",i.weight);t.setAttribute("stroke-linecap",i.lineCap);t.set+
Attribute("stroke-linejoin",i.lineJoin);if(i.dashArray){t.setAttribute("stroke-dasharray",i.dashArray)}else{t.removeAttribute("stroke-dasharray")}if(i.dashOffset){t.setAttribute("stroke-dashoffset",i.dashOffset)}else{t.removeAttribute("stroke-dashoffset"+
)}}else{t.setAttribute("stroke","none")}if(i.fill){t.setAttribute("fill",i.fillColor||i.color);t.setAttribute("fill-opacity",i.fillOpacity);t.setAttribute("fill-rule",i.fillRule||"evenodd")}else{t.setAttribute("fill","none")}},_updatePoly:function(e,t){t+
his._setPath(e,Q(e._parts,t))},_updateCircle:function(e){var t=e._point,i=Math.max(Math.round(e._radius),1),n=Math.max(Math.round(e._radiusY),1)||i,r="a"+i+","+n+" 0 1,0 ";var o=e._empty()?"M0 0":"M"+(t.x-i)+","+t.y+r+i*2+",0 "+r+-i*2+",0 ";this._setPath+
(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){ut(e._path)},_bringToBack:function(e){ht(e._path)}});if(Me){Zn.include(Vn)}function Wn(e){return Se||Me?new Zn(e):null}ii.include({getRenderer:function(e){var t=e.option+
s.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;if(!t){t=this._renderer=this._createRenderer()}if(!this.hasLayer(t)){this.addLayer(t)}return t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===undefined){ret+
urn false}var t=this._paneRenderers[e];if(t===undefined){t=this._createRenderer({pane:e});this._paneRenderers[e]=t}return t},_createRenderer:function(e){return this.options.preferCanvas&&Un(e)||Wn(e)}});var Gn=ln.extend({initialize:function(e,t){ln.proto+
type.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){e=q(e);return[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Yn(+
e,t){return new Gn(e,t)}Zn.create=jn;Zn.pointsToPath=Q;hn.geometryToLayer=cn;hn.coordsToLatLng=dn;hn.coordsToLatLngs=fn;hn.latLngToCoords=pn;hn.latLngsToCoords=mn;hn.getFeature=gn;hn.asFeature=vn;ii.mergeOptions({boxZoom:true});var Xn=pi.extend({initiali+
ze:function(e){this._map=e;this._container=e._container;this._pane=e._panes.overlayPane;this._resetStateTimeout=0;e.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$t(thi+
s._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=false},_clearDeferredResetState:function(){if(this._+
resetStateTimeout!==0){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1){return false}this._clearDeferredResetState();this._resetState();xt();Tt();this._startPoint=this._+
map.mouseEventToContainerPoint(e);Ot(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){if(!this._moved){this._moved=true;this._box=st("div","leaflet-zoom-box",this._conta+
iner);dt(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(e);var t=new $(this._point,this._startPoint),i=t.getSize();wt(this._box,t.min);this._box.style.width=i.x+"px";this._box.style.he+
ight=i.y+"px"},_finish:function(){if(this._moved){at(this._box);ft(this._container,"leaflet-crosshair")}Lt();Ct();$t(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(e.+
which!==1&&e.button!==1){return}this._finish();if(!this._moved){return}this._clearDeferredResetState();this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var t=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointT+
oLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})},_onKeyDown:function(e){if(e.keyCode===27){this._finish()}}});ii.addInitHook("addHandler","boxZoom",Xn);ii.mergeOptions({doubleClickZoom:true});var Kn=pi.extend({addHooks:f+
unction(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom(),n=t.options.zoomDelta,r=e.originalEvent.shiftKey?i-n:i+n;if(t+
.options.doubleClickZoom==="center"){t.setZoom(r)}else{t.setZoomAround(e.containerPoint,r)}}});ii.addInitHook("addHandler","doubleClickZoom",Kn);ii.mergeOptions({dragging:true,inertia:!oe,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2+
,worldCopyJump:false,maxBoundsViscosity:0});var Qn=pi.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new yi(e._mapPane,e._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragE+
nd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(e.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);e.on("zoomend",this._onZoomEnd,this);e.whenReady(this._onZoomEnd,this)}}dt(this._map._container,"leaflet-+
grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){ft(this._map._container,"leaflet-grab");ft(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._dr+
aggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;e._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=q(this._map.options.maxBound+
s);this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosit+
y))}else{this._offsetLimit=null}e.fire("movestart").fire("dragstart");if(e.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this+
._draggable._newPos;this._positions.push(i);this._times.push(t);this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){while(this._positions.length>1&&e-this._times[0]>50){this._positions.shift();this._times.shift()}+
},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._vi+
scosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit){return}var e=this._draggable._newPos.subtract(this._draggable._startPos);var t=this._offsetLimit;if(e.x<t.min.x){e.x=this._viscousLimit(e.x,t.min.x)}if(e.y<t.min.y){e.y=this._vi+
scousLimit(e.y,t.min.y)}if(e.x>t.max.x){e.x=this._viscousLimit(e.x,t.max.x)}if(e.y>t.max.y){e.y=this._viscousLimit(e.y,t.max.y)}this._draggable._newPos=this._draggable._startPos.add(e)},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),i+
=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-t+i)%e+t-i,o=(n+t+i)%e-t-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,i=t.option+
s,n=!i.inertia||this._times.length<2;t.fire("dragend",e);if(n){t.fire("moveend")}else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=r.multiplyBy(s/o),l=a.distanc+
eTo([0,0]),u=Math.min(i.inertiaMaxSpeed,l),h=a.multiplyBy(u/l),c=u/(i.inertiaDeceleration*s),d=h.multiplyBy(-c/2).round();if(!d.x&&!d.y){t.fire("moveend")}else{d=t._limitOffset(d,t.options.maxBounds);C(function(){t.panBy(d,{duration:c,easeLinearity:s,noM+
oveStart:true,animate:true})})}}}});ii.addInitHook("addHandler","dragging",Qn);ii.mergeOptions({keyboard:true,keyboardPanDelta:80});var Jn=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initi+
alize:function(e){this._map=e;this._setPanDelta(e.options.keyboardPanDelta);this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;if(e.tabIndex<=0){e.tabIndex="0"}Ot(e,{focus:this._onFocus,blur:this._onBlur,mousedown:thi+
s._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();$t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this+
._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused){return}var e=document.body,t=document.documentElement,i=e.scrollTop||t.scrollTop,n=e.scrollLeft||t.scrollLeft;this._map._container.focus();window.scrollTo(n,i)},_onFocus:+
function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},i=this.keyCodes,n,r;for(n=0,r=i.left.length;n<r;n++){t[i.left[n]]=[-1*e,0]}for(n=0,r=i.r+
ight.length;n<r;n++){t[i.right[n]]=[e,0]}for(n=0,r=i.down.length;n<r;n++){t[i.down[n]]=[0,e]}for(n=0,r=i.up.length;n<r;n++){t[i.up[n]]=[0,-1*e]}},_setZoomDelta:function(e){var t=this._zoomKeys={},i=this.keyCodes,n,r;for(n=0,r=i.zoomIn.length;n<r;n++){t[i+
.zoomIn[n]]=e}for(n=0,r=i.zoomOut.length;n<r;n++){t[i.zoomOut[n]]=-e}},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(e.altKey||e.ctrlKey||e+
.metaKey){return}var t=e.keyCode,i=this._map,n;if(t in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress){n=this._panKeys[t];if(e.shiftKey){n=R(n).multiplyBy(3)}i.panBy(n);if(i.options.maxBounds){i.panInsideBounds(i.options.maxBounds)}}}else if(t in+
 this._zoomKeys){i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t])}else if(t===27&&i._popup&&i._popup.options.closeOnEscapeKey){i.closePopup()}else{return}Vt(e)}});ii.addInitHook("addHandler","keyboard",Jn);ii.mergeOptions({scrollWheelZoom:true,w+
heelDebounceTime:40,wheelPxPerZoomLevel:60});var er=pi.extend({addHooks:function(){Ot(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){$t(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWhe+
elScroll:function(e){var t=Wt(e);var i=this._map.options.wheelDebounceTime;this._delta+=t;this._lastMousePos=this._map.mouseEventToContainerPoint(e);if(!this._startTime){this._startTime=+new Date}var n=Math.max(i-(+new Date-this._startTime),0);clearTimeo+
ut(this._timer);this._timer=setTimeout(o(this._performZoom,this),n);Vt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var n=this._delta/(this._map.options.wheelPxPerZoomLevel*4),r=4*Math.log(2/(1+Math.+
exp(-Math.abs(n))))/Math.LN2,o=i?Math.ceil(r/i)*i:r,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0;this._startTime=null;if(!s){return}if(e.options.scrollWheelZoom==="center"){e.setZoom(t+s)}else{e.setZoomAround(this._lastMousePos,t+s)}}});ii.addI+
nitHook("addHandler","scrollWheelZoom",er);ii.mergeOptions({tap:true,tapTolerance:15});var tr=pi.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$t(this._map._container,"touchstart",this._onDown+
,this)},_onDown:function(e){if(!e.touches){return}Ht(e);this._fireClick=true;if(e.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var t=e.touches[0],i=t.target;this._startPos=this._newPos=new A(t.clientX,t.clientY);if(i.tag+
Name&&i.tagName.toLowerCase()==="a"){dt(i,"leaflet-active")}this._holdTimeout=setTimeout(o(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",t)}},this),1e3);this._simulateEvent("mousedown",t);Ot(docume+
nt,{touchmove:this._onMove,touchend:this._onUp},this)},_onUp:function(e){clearTimeout(this._holdTimeout);$t(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],i=t.target;if(i&&i.+
tagName&&i.tagName.toLowerCase()==="a"){ft(i,"leaflet-active")}this._simulateEvent("mouseup",t);if(this._isTapValid()){this._simulateEvent("click",t)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance+
},_onMove:function(e){var t=e.touches[0];this._newPos=new A(t.clientX,t.clientY);this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var i=document.createEvent("MouseEvents");i._simulated=true;t.target._simulatedClick=true;i.initMouseEvent(e+
,true,true,window,1,t.screenX,t.screenY,t.clientX,t.clientY,false,false,false,false,0,null);t.target.dispatchEvent(i)}});if(ke&&!Le){ii.addInitHook("addHandler","tap",tr)}ii.mergeOptions({touchZoom:ke&&!oe,bounceAtZoomLimits:true});var ir=pi.extend({addH+
ooks:function(){dt(this._map._container,"leaflet-touch-zoom");Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ft(this._map._container,"leaflet-touch-zoom");$t(this._map._container,"touchstart",this._onTouchStart,this+
)},_onTouchStart:function(e){var t=this._map;if(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming){return}var i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideB+
y(2);this._startLatLng=t.containerPointToLatLng(this._centerPoint);if(t.options.touchZoom!=="center"){this._pinchStartLatLng=t.containerPointToLatLng(i.add(n)._divideBy(2))}this._startDist=i.distanceTo(n);this._startZoom=t.getZoom();this._moved=false;thi+
s._zooming=true;t._stop();Ot(document,"touchmove",this._onTouchMove,this);Ot(document,"touchend",this._onTouchEnd,this);Ht(e)},_onTouchMove:function(e){if(!e.touches||e.touches.length!==2||!this._zooming){return}var t=this._map,i=t.mouseEventToContainerP+
oint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]),r=i.distanceTo(n)/this._startDist;this._zoom=t.getScaleZoom(r,this._startZoom);if(!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&r<1||this._zoom>t.getMaxZoom()&&r>1)){this._zoom=+
t._limitZoom(this._zoom)}if(t.options.touchZoom==="center"){this._center=this._startLatLng;if(r===1){return}}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(r===1&&s.x===0&&s.y===0){return}this._center=t.unproject(t.project(this._pinchS+
tartLatLng,this._zoom).subtract(s),this._zoom)}if(!this._moved){t._moveStart(true,false);this._moved=true}D(this._animRequest);var a=o(t._move,t,this._center,this._zoom,{pinch:true,round:false});this._animRequest=C(a,this,true);Ht(e)},_onTouchEnd:functio+
n(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;D(this._animRequest);$t(document,"touchmove",this._onTouchMove);$t(document,"touchend",this._onTouchEnd);if(this._map.options.zoomAnimation){this._map._animateZoom(this._+
center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap)}else{this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}});ii.addInitHook("addHandler","touchZoom",ir);ii.BoxZoom=Xn;ii.DoubleClickZoom=Kn;ii.Drag=Qn;ii.Keyboard=J+
n;ii.ScrollWheelZoom=er;ii.Tap=tr;ii.TouchZoom=ir;Object.freeze=i;e.version=t;e.Control=ri;e.control=oi;e.Browser=Ie;e.Evented=N;e.Mixin=mi;e.Util=S;e.Class=M;e.Handler=pi;e.extend=n;e.bind=o;e.stamp=a;e.setOptions=p;e.DomEvent=ei;e.DomUtil=At;e.PosAnima+
tion=ti;e.Draggable=yi;e.LineUtil=Ai;e.PolyUtil=Ri;e.Point=A;e.point=R;e.Bounds=$;e.bounds=z;e.Transformation=W;e.transformation=G;e.Projection=Fi;e.LatLng=B;e.latLng=U;e.LatLngBounds=F;e.latLngBounds=q;e.CRS=H;e.GeoJSON=hn;e.geoJSON=yn;e.geoJson=wn;e.La+
yer=Hi;e.LayerGroup=Vi;e.layerGroup=ji;e.FeatureGroup=Zi;e.featureGroup=Wi;e.ImageOverlay=bn;e.imageOverlay=xn;e.VideoOverlay=Ln;e.videoOverlay=kn;e.SVGOverlay=En;e.svgOverlay=Tn;e.DivOverlay=Cn;e.Popup=Dn;e.popup=Sn;e.Tooltip=Mn;e.tooltip=Pn;e.Icon=Gi;e+
.icon=Yi;e.DivIcon=In;e.divIcon=Nn;e.Marker=Qi;e.marker=Ji;e.TileLayer=Rn;e.tileLayer=$n;e.GridLayer=An;e.gridLayer=On;e.SVG=Zn;e.svg=Wn;e.Renderer=qn;e.Canvas=Bn;e.canvas=Un;e.Path=en;e.CircleMarker=tn;e.circleMarker=nn;e.Circle=rn;e.circle=on;e.Polylin+
e=sn;e.polyline=an;e.Polygon=ln;e.polygon=un;e.Rectangle=Gn;e.rectangle=Yn;e.Map=ii;e.map=ni;var nr=window.L;e.noConflict=function(){window.L=nr;return this};window.L=e})});                                                                                  
/*                                                                                                                                                                                                                                                             
	 Leaflet.draw 1.0.4+838a63b, a plugin that adds drawing and editing tools to Leaflet powered maps.                                                                                                                                                            
	 (c) 2012-2017, Jacob Toye, Jon West, Smartrak, Leaflet                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
	 https://github.com/Leaflet/Leaflet.draw                                                                                                                                                                                                                      
	 http://leafletjs.com                                                                                                                                                                                                                                         
	 */!function(e,t,i){function n(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}L.drawVersion="1.0.4+838a63b",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Fin+
ish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{c+
ircle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont+
:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last po+
int to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discard+
s all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or +
markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Dr+
aw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITV+
ERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Eve+
nt.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(e,t){this._map=e,this._container=e._container,this._overlayPane=e._panes.overlayPane,this._popupPane=e._panes.popupPane,t&&t.shapeOptions&&(t.sha+
peOptions=L.Util.extend({},this.options.shapeOptions,t.shapeOptions)),L.setOptions(this,t);var i=L.version.split(".");1===parseInt(i[0],10)&&parseInt(i[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:f+
unction(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fi+
re(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(L.DomUtil.disableTextSelection(),e.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._+
container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(e){L.setOpt+
ions(this,e)},_fireCreatedEvent:function(e){this._map.fire(L.Draw.Event.CREATED,{layer:e,layerType:this.type})},_cancelDrawing:function(e){27===e.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Fe+
ature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L+
.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,n+
autic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(e,t){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,t&&t.drawError&&(t.drawError=L.Util+
.extend({},this.options.drawError,t.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.Layer+
Group,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leafl+
et-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",t+
his._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:fun+
ction(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mo+
useMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this+
._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:func+
tion(){if(!(this._markers.length<=1)){var e=this._markers.pop(),t=this._poly,i=t.getLatLngs(),n=i.splice(-1,1)[0];this._poly.setLatLngs(i),this._markerGroup.removeLayer(e),t.getLatLngs().length<2&&this._map.removeLayer(t),this._vertexChanged(n,!1)}},addV+
ertex:function(e){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(e))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(e)),this._poly.addLatLn+
g(e),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(e,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},+
_finishShape:function(){var e=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),t=this._poly.newLatLngIntersects(e[e.length-1]);if(!this.options.allowIntersection&&t||!this._shapeIsValid())return void this._showErrorTooltip();th+
is._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEv+
ent),i=this._map.layerPointToLatLng(t);this._currentLatLng=i,this._updateTooltip(i),this._updateGuide(t),this._mouseMarker.setLatLng(i),L.DomEvent.preventDefault(e.originalEvent)},_vertexChanged:function(e,t){this._map.fire(L.Draw.Event.DRAWVERTEX,{layer+
s:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(e,t),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(e){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(e),this._clickHand+
led=!0,this._disableNewMarkers();var t=e.originalEvent,i=t.clientX,n=t.clientY;this._startPoint.call(this,i,n)}},_startPoint:function(e,t){this._mouseDownOrigin=L.point(e,t)},_onMouseUp:function(e){var t=e.originalEvent,i=t.clientX,n=t.clientY;this._endP+
oint.call(this,i,n,e),this._clickHandled=null},_endPoint:function(t,i,n){if(this._mouseDownOrigin){var r=L.point(t,i).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(n.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._mark+
ers.length+1?(this.addVertex(n.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(e.devicePixelRatio||1)&&this.addVertex(n.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(e){var t,i,n=e.or+
iginalEvent;!n.touches||!n.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(t=n.touches[0].clientX,i=n.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,t,i),this._endPoint.call(this,t+
,i,e),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(e){var t;if(this._markers.length>0){var i;if(this.type===L.Draw.Polyline.TYPE)i+
=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;i=this._markers[0]}var n=this._map.latLngToContainerPoint(i.getLatLng()),r=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this.+
_map.latLngToContainerPoint(r.getLatLng());t=n.distanceTo(o)}else t=1/0;return t},_updateFinishHandler:function(){var e=this._markers.length;e>1&&this._markers[e-1].on("click",this._finishShape,this),e>2&&this._markers[e-2].off("click",this._finishShape,+
this)},_createMarker:function(e){var t=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(t),t},_updateGuide:function(e){var t=this._markers?this._markers.length:0;t>0&&(e=e||this._map.latL+
ngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[t-1].getLatLng()),e))},_updateTooltip:function(e){var t=this._getTooltipText();e&&this._tooltip.updatePosition(e),this._errorShown||this._t+
ooltip.updateContent(t)},_drawGuide:function(e,t){var i,n,r,o=Math.floor(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))),s=this.options.guidelineDistance,a=this.options.maxGuideLineLength,l=o>a?o-a:s;for(this._guidesContainer||(this._guidesContainer=+
L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<o;l+=this.options.guidelineDistance)i=l/o,n={x:Math.floor(e.x*(1-i)+i*t.x),y:Math.floor(e.y*(1-i)+i*t.y)},r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),r.style+
.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,n)},_updateGuideColor:function(e){if(this._guidesContainer)for(var t=0,i=this._guidesContainer.childNodes.length;t<i;t++)this._guidesCo+
ntainer.childNodes[t].style.backgroundColor=e},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var e,t,i=this.options.+
showLength;return 0===this._markers.length?e={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(t=i?this._getMeasurementString():"",e=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:t}:{text:L.drawLocal.draw.h+
andlers.polyline.tooltip.end,subtext:t}),e},_updateRunningMeasure:function(e,t){var i,n,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(i=r-(t?2:1),n=L.GeometryUtil.isVersion07x()?e.distanceTo(this._markers[i].getLatLng()+
)*(this.options.factor||1):this._map.distance(e,this._markers[i].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=n*(t?1:-1))},_getMeasurementString:function(){var e,t=this._currentLatLng,i=this._markers[this._markers.length-1].getLat+
Lng();return e=L.GeometryUtil.isVersion07x()?i&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(i)*(this.options.factor||1):this._measurementRunningTotal||0:i&&t?this._measurementRunningTotal+this._map.distance(t,i)*(this.options.factor||1):th+
is._measurementRunningTotal||0,L.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.opti+
ons.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.d+
rawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.op+
tions.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(funct+
ion(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var e=new this.Poly(this._poly.getLatLngs(),this.optio+
ns.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill+
:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(e,t){L.Draw.Polyline.prototype.initialize.call(this,e,t),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var e=this._markers.leng+
th;1===e&&this._markers[0].on("click",this._finishShape,this),e>2&&(this._markers[e-1].on("dblclick",this._finishShape,this),e>3&&this._markers[e-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var e,t;return 0===this._markers.leng+
th?e=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(e=L.drawLocal.draw.handlers.polygon.tooltip.cont,t=this._getMeasurementString()):(e=L.drawLocal.draw.handlers.polygon.tooltip.end,t=this._getMeasurementString()),{text:e,subtext+
:t}},_getMeasurementString:function(){var e=this._area,t="";return e||this.options.showLength?(this.options.showLength&&(t=L.Draw.Polyline.prototype._getMeasurementString.call(this)),e&&(t+="<br>"+L.GeometryUtil.readableArea(e,this.options.metric,this.op+
tions.precision)),t):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(e,t){var i;!this.options.allowIntersection&&this.options.showArea&&(i=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(i)),L.Draw.Po+
lyline.prototype._vertexChanged.call(this,e,t)},_cleanUpShape:function(){var e=this._markers.length;e>0&&(this._markers[0].off("click",this._finishShape,this),e>2&&this._markers[e-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.Simp+
leShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(e,t){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks+
.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._on+
MouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototyp+
e.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("t+
ouchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete thi+
s._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(e){this._isDrawing=!0,this._startLatLng=e.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preven+
tDefault(e.originalEvent)},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(t))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this+
.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:+
!0,metric:!0},initialize:function(e,t){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},disable:function(){this._enabled&&(this._isCurrentlyTw+
oClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(e){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!n(e.target,"leaflet-pane")||L+
.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(e){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),this._map+
.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_getTooltipText:function(){var e,t,i,n=L.Draw.SimpleShape.prototyp+
e._getTooltipText.call(this),r=this._shape,o=this.options.showArea;return r&&(e=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),t=L.GeometryUtil.geodesicArea(e),i=o?L.GeometryUtil.readableArea(t,this.options.metric):""),{te+
xt:n.text,subtext:i}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.m+
arker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker+
(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",+
this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.of+
f("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))}+
,_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._mouseMarker.setLatLng(t),this._marker?(t=this._mouseMarker.getLatLng(),this._marker.setLatLng(t)):(this._marker=this._createMarker(t),this._marker.on("click",this._onClick,thi+
s),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(e){return new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.option+
s.repeatMode&&this.enable()},_onTouch:function(e){this._onMouseMove(e),this._onClick()},_fireCreatedEvent:function(){var e=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.+
Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.CircleMarker.TYPE,+
this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},_fireCreatedEvent:function(){var e=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCre+
atedEvent.call(this,e)},_createMarker:function(e){return new L.CircleMarker(e,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fi+
llOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(e,t){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},_dra+
wShape:function(e){if(L.GeometryUtil.isVersion07x())var t=this._startLatLng.distanceTo(e);else var t=this._map.distance(this._startLatLng,e);this._shape?this._shape.setRadius(t):(this._shape=new L.Circle(this._startLatLng,t,this.options.shapeOptions),thi+
s._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_onMouseMove:function(e){var t,i=e.latlng,n=t+
his.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(i),this._isDrawing){this._drawShape(i),t=this._shape.getRadius().toFixed(1);var o="";n&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(t,r,this.+
options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(e,t){this._marker=e,L.setOptions(this,t)},addHooks:function(){var e=this._marker+
;e.dragging.enable(),e.on("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},removeHooks:function(){var e=this._marker;e.dragging.disable(),e.off("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},_onDragEnd:function(e){var t=e.target;t+
.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_toggleMarkerHighlight:function(){var e=this._marker._icon;e&&(e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"+
),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display="")},_offsetMarker:function(e,t){var i=parseInt(e.style.marginTop,10)-t,n=parseInt(e.style.marginLeft,10)-t;e.style.marginTop=i+"px+
",e.style.marginLeft=n+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(e){this.latlngs=[e._la+
tlngs],e._holes&&(this.latlngs=this.latlngs.concat(e._holes)),this._poly=e,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._lat+
lngs[0]:this._poly._latlngs},_eachVertexHandler:function(e){for(var t=0;t<this._verticesHandlers.length;t++)e(this._verticesHandlers[t])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(e){e.addHooks()})},removeHooks:function(){+
this._eachVertexHandler(function(e){e.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(e){e.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var e=0;e<this.latlngs.length;e++)this._verticesHandlers.push(+
new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))},_updateLatLngs:function(e){this.latlngs=[e.layer._latlngs],e.layer._holes&&(this.latlngs=this.latlngs.concat(e.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({o+
ptions:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b0+
0",timeout:1e3}},initialize:function(e,t,i){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=e,i&&i.drawError&&(i.drawError=L.Util.extend({},this.options.drawError,i.drawError)),this._latlngs=t,L.setOptions(this,i)},_defaultShape:fu+
nction(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var e=this._poly,t=e._path;e instanceof L.Polygon||(e.options.fill=!1,e.options.editing&&(e.options.editing.fill=!1)),t&&e.+
options.editing&&e.options.editing.className&&(e.options.original.className&&e.options.original.className.split(" ").forEach(function(e){L.DomUtil.removeClass(t,e)}),e.options.editing.className.split(" ").forEach(function(e){L.DomUtil.addClass(t,e)})),e.+
setStyle(e.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var e=this._poly,t=e._path;t&&e.options.editing&&e.options.editing.classNa+
me&&(e.options.editing.className.split(" ").forEach(function(e){L.DomUtil.removeClass(t,e)}),e.options.original.className&&e.options.original.className.split(" ").forEach(function(e){L.DomUtil.addClass(t,e)})),e.setStyle(e.options.original),e._map&&(e._m+
ap.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=+
[];var e,t,i,n,r=this._defaultShape();for(e=0,i=r.length;e<i;e++)n=this._createMarker(r[e],e),n.on("click",this._onMarkerClick,this),n.on("contextmenu",this._onContextMenu,this),this._markers.push(n);var o,s;for(e=0,t=i-1;e<i;t=e++)(0!==e||L.Polygon&&thi+
s._poly instanceof L.Polygon)&&(o=this._markers[t],s=this._markers[e],this._createMiddleMarker(o,s),this._updatePrevNext(o,s))},_createMarker:function(e,t){var i=new L.Marker.Touch(e,{draggable:!0,icon:this.options.icon});return i._origLatLng=e,i._index=+
t,i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",th+
is._fireEdit,this),this._markerGroup.addLayer(i),i},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var e=this._defaultShape(),t=[].splice.apply(e,arguments);return this._poly._convertLatLngs(e,!0),this._poly.redraw(+
),t},_removeMarker:function(e){var t=e._index;this._markerGroup.removeLayer(e),this._markers.splice(t,1),this._spliceLatLngs(t,1),this._updateIndexes(t,-1),e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",+
this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.ed+
ited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(e){var t=e.target,i=this._poly,n=L.LatLngUtil.cloneLatLng(t._origLatLng);if(L.extend(t._origLatLng,t._latlng)+
,i.options.poly){var r=i._map._editTooltip;if(!i.options.poly.allowIntersection&&i.intersects()){L.extend(t._origLatLng,n),t.setLatLng(n);var o=i.options.color;i.setStyle({color:this.options.drawError.color}),r&&r.updateContent({text:L.drawLocal.draw.han+
dlers.polyline.error}),setTimeout(function(){i.setStyle({color:o}),r&&r.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}t._middleLeft&&t._middleLeft.setLatLng(this._getMiddle+
LatLng(t._prev,t)),t._middleRight&&t._middleRight.setLatLng(this._getMiddleLatLng(t,t._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var s=this._poly.getLatLngs();this._poly._convertLatLngs(s,!0)+
,this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(e){var t=L.Polygon&&this._poly instanceof L.Polygon?4:3,i=e.target;this._defaultShape().length<t||(this._removeMarker(i),this._updatePrevNext(i._prev,i._next),i._middleLeft&&this._+
markerGroup.removeLayer(i._middleLeft),i._middleRight&&this._markerGroup.removeLayer(i._middleRight),i._prev&&i._next?this._createMiddleMarker(i._prev,i._next):i._prev?i._next||(i._prev._middleRight=null):i._next._middleLeft=null,this._fireEdit())},_onCo+
ntextMenu:function(e){var t=e.target;this._poly;this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:t,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEve+
nt.touches[0]),i=this._map.layerPointToLatLng(t),n=e.target;L.extend(n._origLatLng,i),n._middleLeft&&n._middleLeft.setLatLng(this._getMiddleLatLng(n._prev,n)),n._middleRight&&n._middleRight.setLatLng(this._getMiddleLatLng(n,n._next)),this._poly.redraw(),+
this.updateMarkers()},_updateIndexes:function(e,t){this._markerGroup.eachLayer(function(i){i._index>e&&(i._index+=t)})},_createMiddleMarker:function(e,t){var i,n,r,o=this._getMiddleLatLng(e,t),s=this._createMarker(o);s.setOpacity(.6),e._middleRight=t._mi+
ddleLeft=s,n=function(){s.off("touchmove",n,this);var r=t._index;s._index=r,s.off("click",i,this).on("click",this._onMarkerClick,this),o.lat=s.getLatLng().lat,o.lng=s.getLatLng().lng,this._spliceLatLngs(r,0,o),this._markers.splice(r,0,s),s.setOpacity(1),+
this._updateIndexes(r,1),t._index++,this._updatePrevNext(e,s),this._updatePrevNext(s,t),this._poly.fire("editstart")},r=function(){s.off("dragstart",n,this),s.off("dragend",r,this),s.off("touchmove",n,this),this._createMiddleMarker(e,s),this._createMiddl+
eMarker(s,t)},i=function(){n.call(this),r.call(this),this._fireEdit()},s.on("click",i,this).on("dragstart",n,this).on("dragend",r,this).on("touchmove",n,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(e,t){e&&(e._next=t),t&&(t._prev=e)},_ge+
tMiddleLatLng:function(e,t){var i=this._poly._map,n=i.project(e.getLatLng()),r=i.project(t.getLatLng());return i.unproject(n._add(r)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.o+
ptions.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.Si+
mpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-i+
con leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div+
-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(e,t){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=e,L.Util.setOptions(this,t+
)},addHooks:function(){var e=this._shape;this._shape._map&&(this._map=this._shape._map,e.setStyle(e.options.editing),e._map&&(this._map=e._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var e=th+
is._shape;if(e.setStyle(e.options.original),e._map){this._unbindMarker(this._moveMarker);for(var t=0,i=this._resizeMarkers.length;t<i;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete +
this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMo+
veMarker:function(){},_createResizeMarker:function(){},_createMarker:function(e,t){var i=new L.Marker.Touch(e,{draggable:!0,icon:t,zIndexOffset:10});return this._bindMarker(i),this._markerGroup.addLayer(i),i},_bindMarker:function(e){e.on("dragstart",this+
._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEn+
d,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(e){e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchm+
ove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(e){e.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:functi+
on(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(e){var t=e.target,i=t.getLatLng();t===this._moveMarker?this._move(i):this._resize(i),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(e){e.target.setO+
pacity(1),this._fireEdit()},_onTouchStart:function(e){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e),"function"==typeof this._getCorners){var t=this._getCorners(),i=e.target,n=i._cornerIndex;i.setOpacity(0),this._oppositeCorner=t[(n+2)%4+
],this._toggleCornerMarkers(0,n)}this._shape.fire("editstart")},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),i=this._map.layerPointToLatLng(t);return e.target===this._moveMarker?this._move(i):this._resize(i)+
,this._shape.redraw(),!1},_onTouchEnd:function(e){e.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=thi+
s._shape.getBounds(),t=e.getCenter();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var e=this._getCorners();this._resizeMarkers=[];for(var t=0,i=e.length;t<i;t++)this._resizeMarkers.push(this._createMarker(e+
[t],this.options.resizeIcon)),this._resizeMarkers[t]._cornerIndex=t},_onMarkerDragStart:function(e){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e);var t=this._getCorners(),i=e.target,n=i._cornerIndex;this._oppositeCorner=t[(n+2)%4],this._to+
ggleCornerMarkers(0,n)},_onMarkerDragEnd:function(e){var t,i,n=e.target;n===this._moveMarker&&(t=this._shape.getBounds(),i=t.getCenter(),n.setLatLng(i)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDr+
agEnd.call(this,e)},_move:function(e){for(var t,i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),n=this._shape.getBounds(),r=n.getCenter(),o=[],s=0,a=i.length;s<a;s++)t=[i[s].lat-r.lat,i[s].lng-r.lng],o.push([e.lat+t[0],e.+
lng+t[1]]);this._shape.setLatLngs(o),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var t;this._shape.setBounds(L.latLngBounds(e,this._oppositeCorner)),t=this._shape.getBounds(),this._moveMa+
rker.setLatLng(t.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var e=this._shape.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_toggleCornerMarkers:function(e){+
for(var t=0,i=this._resizeMarkers.length;t<i;t++)this._resizeMarkers[t].setOpacity(e)},_repositionCornerMarkers:function(){for(var e=this._getCorners(),t=0,i=this._resizeMarkers.length;t<i;t++)this._resizeMarkers[t].setLatLng(e[t])}}),L.Rectangle.addInit+
Hook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getLatLng();this._m+
oveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(e){if(this._resizeMarkers.length){var t=this._getResizeMarkerPoint(e);this._resizeMarkers[0].setLatLng(t)}this._shape.setLatLng(e+
),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&thi+
s.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var e=this._shape.g+
etLatLng(),t=this._getResizeMarkerPoint(e);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(t,this.options.resizeIcon))},_getResizeMarkerPoint:function(e){var t=this._shape._radius*Math.cos(Math.PI/4),i=this._map.project(e);return this.+
_map.unproject([i.x+t,i.y-t])},_resize:function(e){var t=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=t.distanceTo(e):radius=this._map.distance(t,e),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateCo+
ntent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._+
shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0+
}),L.Map.TouchExtend=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,+
"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this+
),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touch+
leave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,th+
is),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._+
container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(e,t){var i={};if(void 0!==e.touches+
){if(!e.touches.length)return;i=e.touches[0]}else{if("touch"!==e.pointerType)return;if(i=e,!this._filterClick(e))return}var n=this._map.mouseEventToContainerPoint(i),r=this._map.mouseEventToLayerPoint(i),o=this._map.layerPointToLatLng(r);this._map.fire(t+
,{latlng:o,layerPoint:r,containerPoint:n,pageX:i.pageX,pageY:i.pageY,originalEvent:e})},_filterClick:function(e){var t=e.timeStamp||e.originalEvent.timeStamp,i=L.DomEvent._lastClick&&t-L.DomEvent._lastClick;return i&&i>100&&i<500||e.target._simulatedClic+
k&&!e._simulated?(L.DomEvent.stop(e),!1):(L.DomEvent._lastClick=t,!0)},_onTouchStart:function(e){if(this._map._loaded){this._touchEvent(e,"touchstart")}},_onTouchEnd:function(e){if(this._map._loaded){this._touchEvent(e,"touchend")}},_onTouchCancel:functi+
on(e){if(this._map._loaded){var t="touchcancel";this._detectIE()&&(t="pointercancel"),this._touchEvent(e,t)}},_onTouchLeave:function(e){if(this._map._loaded){this._touchEvent(e,"touchleave")}},_onTouchMove:function(e){if(this._map._loaded){this._touchEve+
nt(e,"touchmove")}},_detectIE:function(){var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10+
)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker+
.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this.+
_detectIE?t.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):t.concat(["touchcancel"]),L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this),L.DomEvent.on(e,"keypress",this._onKeyPress,this);f+
or(var i=0;i<t.length;i++)L.DomEvent.on(e,t[i],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=e.navigator.userAgent,i=t.indexOf("+
MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),+
10)}}),L.LatLngUtil={cloneLatLngs:function(e){for(var t=[],i=0,n=e.length;i<n;i++)Array.isArray(e[i])?t.push(L.LatLngUtil.cloneLatLngs(e[i])):t.push(this.cloneLatLng(e[i]));return t},cloneLatLng:function(e){return L.latLng(e.lat,e.lng)}},function(){var e+
={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(e){var t,i,n=e.length,r=0,o=Math.PI/180;if(n>2){for(var s=0;s<n;s++)t=e[s],i=e[(s+1)%n],r+=(i.lng-t.lng)*o*(2+Math.sin(t.lat*o)+Math.sin(i.lat*o))+
;r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(e,t){var i=parseFloat(e).toFixed(t),n=L.drawLocal.format&&L.drawLocal.format.numeric,r=n&&n.delimiters,o=r&&r.thousands,s=r&&r.decimal;if(o||s){var a=i.split(".");i=o?a[0].replace(/(\d)(+
?=(\d{3})+(?!\d))/g,"$1"+o):a[0],s=s||".",a.length>1&&(i=i+s+a[1])}return i},readableArea:function(t,i,n){var r,o,s,n=L.Util.extend({},e,n);return i?(o=["ha","m"],s=typeof i,"string"===s?o=[i]:"boolean"!==s&&(o=i),r=t>=1e6&&-1!==o.indexOf("km")?L.Geometr+
yUtil.formattedNumber(1e-6*t,n.km)+" km²":t>=1e4&&-1!==o.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*t,n.ha)+" ha":L.GeometryUtil.formattedNumber(t,n.m)+" m²"):(t/=.836127,r=t>=3097600?L.GeometryUtil.formattedNumber(t/3097600,n.mi)+" mi²":t>=4840?L+
.GeometryUtil.formattedNumber(t/4840,n.ac)+" acres":L.GeometryUtil.formattedNumber(t,n.yd)+" yd²"),r},readableDistance:function(t,i,n,r,o){var s,o=L.Util.extend({},e,o);switch(i?"string"==typeof i?i:"metric":n?"feet":r?"nauticalMile":"yards"){case"metric+
":s=t>1e3?L.GeometryUtil.formattedNumber(t/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(t,o.m)+" m";break;case"feet":t*=3.28083,s=L.GeometryUtil.formattedNumber(t,o.ft)+" ft";break;case"nauticalMile":t*=.53996,s=L.GeometryUtil.formattedNumber(t/1e3,o.n+
m)+" nm";break;case"yards":default:t*=1.09361,s=t>1760?L.GeometryUtil.formattedNumber(t/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(t,o.yd)+" yd"}return s},isVersion07x:function(){var e=L.version.split(".");return 0===parseInt(e[0],10)&&7===parseI+
nt(e[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(e,t,i,n){return this._checkCounterclockwise(e,i,n)!==this._checkCounterclockwise(t,i,n)&&this._checkCounterclockwise(e,t,i)!==this._checkCounterclockwise(e,t,n)},_checkCounterclockwis+
e:function(e,t,i){return(i.y-e.y)*(t.x-e.x)>(t.y-e.y)*(i.x-e.x)}}),L.Polyline.include({intersects:function(){var e,t,i,n=this._getProjectedPoints(),r=n?n.length:0;if(this._tooFewPointsForIntersection())return!1;for(e=r-1;e>=3;e--)if(t=n[e-1],i=n[e],this.+
_lineSegmentsIntersectsRange(t,i,e-2))return!0;return!1},newLatLngIntersects:function(e,t){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(e),t)},newPointIntersects:function(e,t){var i=this._getProjectedPoints(),n=i?i.length:0,r=i+
?i[n-1]:null,o=n-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,e,o,t?1:0)},_tooFewPointsForIntersection:function(e){var t=this._getProjectedPoints(),i=t?t.length:0;return i+=e||0,!t||i<=3},_lineSegmentsIntersectsRange+
:function(e,t,i,n){var r,o,s=this._getProjectedPoints();n=n||0;for(var a=i;a>n;a--)if(r=s[a-1],o=s[a],L.LineUtil.segmentsIntersect(e,t,r,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var e=[],+
t=this._defaultShape(),i=0;i<t.length;i++)e.push(this._map.latLngToLayerPoint(t[i]));return e}}),L.Polygon.include({intersects:function(){var e,t,i,n,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.interse+
cts.call(this)||(e=r.length,t=r[0],i=r[e-1],n=e-2,this._lineSegmentsIntersectsRange(i,t,n,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(e){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3++
 requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,e);var t;this._toolbars={},L.DrawToolbar&&this.options.draw&&(t=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolba+
r.TYPE]=t,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(t=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=t,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolb+
arEnabled,this)),L.toolbar=this},onAdd:function(e){var t,i=L.DomUtil.create("div","leaflet-draw"),n=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(t=this._toolbars[r].addToolbar(e))&&(n||(L.DomUtil.hasClass(t,"leaflet-draw-toolbar-top"+
)||L.DomUtil.addClass(t.childNodes[0],"leaflet-draw-toolbar-top"),n=!0),i.appendChild(t));return i},onRemove:function(){for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&this._toolbars[e].removeToolbar()},setDrawingOptions:function(e){for(var+
 t in this._toolbars)this._toolbars[t]instanceof L.DrawToolbar&&this._toolbars[t].setOptions(e)},_toolbarEnabled:function(e){var t=e.target;for(var i in this._toolbars)this._toolbars[i]!==t&&this._toolbars[i].disable()}}),L.Map.mergeOptions({drawControlT+
ooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(e){L.setOptions(this,e),this._modes={},this._action+
Buttons=[],this._activeMode=null;var t=L.version.split(".");1===parseInt(t[0],10)&&parseInt(t[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.e+
nabled()&&this._activeMode.handler.disable()},addToolbar:function(e){var t,i=L.DomUtil.create("div","leaflet-draw-section"),n=0,r=this._toolbarClass||"",o=this.getModeHandlers(e);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar lea+
flet-bar"),this._map=e,t=0;t<o.length;t++)o[t].enabled&&this._initModeHandler(o[t].handler,this._toolbarContainer,n++,r,o[t].title);if(n)return this._lastButtonIndex=--n,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),i.appendChild(t+
his._toolbarContainer),i.appendChild(this._actionsContainer),i},removeToolbar:function(){for(var e in this._modes)this._modes.hasOwnProperty(e)&&(this._disposeButton(this._modes[e].button,this._modes[e].handler.enable,this._modes[e].handler),this._modes[+
e].handler.disable(),this._modes[e].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var t=0,i=this._actionButtons.length;t<i;t++)this._disposeButton(this._actionButtons[t].button,this._+
actionButtons[t].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(e,t,i,n,r){var o=e.type;this._modes[o]={},this._modes[o].handler=e,this._modes[o].button=this._createButton({type:o,title:r,className:n+"-"+o,co+
ntainer:t,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=i,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPa+
d|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(e){var t=L.DomUtil.create("a",e.className||"",e.container),i=L.DomUtil.create("span","sr-only",e.container);t.href="#",t.appendChild(i),e.title&&(t.title=e.title,i.innerHTML=e.+
title),e.text&&(t.innerHTML=e.text,i.innerHTML=e.text);var n=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(t,"click",L.DomEvent.stopPropagation).on(t,"mousedown",L.DomEvent.stopPropagation).on(t,"dblclick",L.DomEvent.stopPropagation).on(t,"+
touchstart",L.DomEvent.stopPropagation).on(t,"click",L.DomEvent.preventDefault).on(t,n,e.callback,e.context),t},_disposeButton:function(e,t){var i=this._detectIOS()?"touchstart":"click";L.DomEvent.off(e,"click",L.DomEvent.stopPropagation).off(e,"mousedow+
n",L.DomEvent.stopPropagation).off(e,"dblclick",L.DomEvent.stopPropagation).off(e,"touchstart",L.DomEvent.stopPropagation).off(e,"click",L.DomEvent.preventDefault).off(e,i,t)},_handlerActivated:function(e){this.disable(),this._activeMode=this._modes[e.ha+
ndler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw+
-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(e){var t,i,n,r,o=this._actionsContainer,s=this.getActions(e),a=s.length;for(i=0,n=this._actionButtons.length;i<n;i++)this._disposeButton(this._actionButtons[i].+
button,this._actionButtons[i].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var l=0;l<a;l++)"enabled"in s[l]&&!s[l].enabled||(t=L.DomUtil.create("li","",o),r=this._createButton({title:s[l].title,text:s[l].text,contain+
er:t,callback:s[l].callback,context:s[l].context}),this._actionButtons.push({button:r,callback:s[l].callback}))},_showActionsToolbar:function(){var e=this._activeMode.buttonIndex,t=this._lastButtonIndex,i=this._activeMode.button.offsetTop-1;this._createA+
ctions(this._activeMode.handler),this._actionsContainer.style.top=i+"px",0===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),e===t&&(L.DomUtil.addClass(thi+
s._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._a+
ctionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actio+
ns-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(e){this._map=e,this._popupPane=e._panes.popupPane,this+
._visible=!1,this._container=e.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMo+
useOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(e){return this._container?(e.subtext=e.subtext||"",0!==e.subtext.length||this._singleLineLabel?e.subtext.length>0&&this._singleLineL+
abel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(e.subtext.length>0?'<span class=+
"leaflet-draw-tooltip-subtext">'+e.subtext+"</span><br />":"")+"<span>"+e.text+"</span>",e.text||e.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePositi+
on:function(e){var t=this._map.latLngToLayerPoint(e),i=this._container;return this._container&&(this._visible&&(i.style.visibility="inherit"),L.DomUtil.setPosition(i,t)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._contai+
ner,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.Draw+
Toolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(e){for(var t in this.options)this.options.hasOwnProperty(t)&&e[t]&&(e[t]=L.extend({},this.options[t],e[t+
]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,e)},getModeHandlers:function(e){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(e,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline+
},{enabled:this.options.polygon,handler:new L.Draw.Polygon(e,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(e,this.options.rectangle),title:L.drawLocal.draw.toolbar.butto+
ns.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(e,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(e,this.options.marker),title:L.drawLocal.draw.toolbar.button+
s.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(e,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(e){return[{enabled:e.completeShape,title:L.drawLocal.draw.toolbar.finish.+
title,text:L.drawLocal.draw.toolbar.finish.text,callback:e.completeShape,context:e},{enabled:e.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:e.deleteLastVertex,context:e},{title:L.drawLocal.dr+
aw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(e){L.setOptions(this,e);for(var t in this._modes)this._modes.hasOwnProperty(t)&&e.hasOwnProperty(t)&&this._modes[t].handler.setO+
ptions(e[t])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(e){e.edi+
t&&(void 0===e.edit.selectedPathOptions&&(e.edit.selectedPathOptions=this.options.edit.selectedPathOptions),e.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,e.edit.selectedPathOptions)),e.remove&&(e.remove=L.extend({},this.opt+
ions.remove,e.remove)),e.poly&&(e.poly=L.extend({},this.options.poly,e.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,e),this._selectedFeatureCount=0},getModeHandlers:function(e){var t=this.options.featureGroup;ret+
urn[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(e,{featureGroup:t,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.Edi+
tToolbar.Delete(e,{featureGroup:t}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(e){var t=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title+
:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return e.removeAllLayers&&t.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.ac+
tions.clearAll.text,callback:this._clearAllLayers,context:this}),t},addToolbar:function(e){var t=L.Toolbar.prototype.addToolbar.call(this,e);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),t},rem+
oveToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.cal+
l(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:fu+
nction(){var e,t=this.options.featureGroup,i=0!==t.getLayers().length;this.options.edit&&(e=this._modes[L.EditToolbar.Edit.TYPE].button,i?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",i?L.draw+
Local.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(e=this._modes[L.EditToolbar.Delete.TYPE].button,i?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("t+
itle",i?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.setOptions(this,t),t+
his._featureGroup=t.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var i=L.version.split(".");1===parseInt(i[0],1+
0)&&parseInt(i[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITS+
TART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enable+
LayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getConta+
iner().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),e._+
editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function+
(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",+
this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(e){this._revertLayer(e)},this)},save:function(){var e=new L.LayerGroup;this._featureGroup.eachLayer(function(t){+
t.edited&&(e.addLayer(t),t.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:e})},_backupLayer:function(e){var t=L.Util.stamp(e);this._uneditedLayerProps[t]||(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?this._uneditedL+
ayerProps[t]={latlngs:L.LatLngUtil.cloneLatLngs(e.getLatLngs())}:e instanceof L.Circle?this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng()),radius:e.getRadius()}:(e instanceof L.Marker||e instanceof L.CircleMarker)&&(this._unedited+
LayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateCo+
ntent(this._getTooltipText())},_revertLayer:function(e){var t=L.Util.stamp(e);e.edited=!1,this._uneditedLayerProps.hasOwnProperty(t)&&(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?e.setLatLngs(this._uneditedLayerProps[t].latl+
ngs):e instanceof L.Circle?(e.setLatLng(this._uneditedLayerProps[t].latlng),e.setRadius(this._uneditedLayerProps[t].radius)):(e instanceof L.Marker||e instanceof L.CircleMarker)&&e.setLatLng(this._uneditedLayerProps[t].latlng),e.fire("revert-edited",{lay+
er:e}))},_enableLayerEdit:function(e){var t,i,n=e.layer||e.target||e;this._backupLayer(n),this.options.poly&&(i=L.Util.extend({},this.options.poly),n.options.poly=i),this.options.selectedPathOptions&&(t=L.Util.extend({},this.options.selectedPathOptions),+
t.maintainColor&&(t.color=n.options.color,t.fillColor=n.options.fillColor),n.options.original=L.extend({},n.options),n.options.editing=t),n instanceof L.Marker?(n.editing&&n.editing.enable(),n.dragging.enable(),n.on("dragend",this._onMarkerDragEnd).on("t+
ouchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):n.editing.enable()},_disableLayerEdit:function(e){var t=e.layer||e.target||e;t.edited=!1,+
t.editing&&t.editing.disable(),delete t.options.editing,delete t.options.original,this._selectedPathOptions&&(t instanceof L.Marker?this._toggleMarkerHighlight(t):(t.setStyle(t.options.previousOptions),delete t.options.previousOptions)),t instanceof L.Ma+
rker?(t.dragging.disable(),t.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):t.editing+
.disable()},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_onMarkerDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_onTouchMove:function(e){var t=e.originalEvent.changedTouches[0],i=this.+
_map.mouseEventToLayerPoint(t),n=this._map.layerPointToLatLng(i);e.target.setLatLng(n)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(+
e,t){if(L.Handler.prototype.initialize.call(this,e),L.Util.setOptions(this,t),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.+
EditToolbar.Delete.TYPE;var i=L.version.split(".");1===parseInt(i[0],10)&&parseInt(i[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(+
this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))+
},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),th+
is.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this+
._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,th+
is._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(e){this._deletableLayers.addLayer(e),e.fire("revert-deleted",{layer:e})},this)},save:function(){th+
is._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(e){this._removeLayer({layer:e})},this),this.save()},_enableLayerDelete:function(e){(e.layer||e.target||e).on("click",this+
._removeLayer,this)},_disableLayerDelete:function(e){var t=e.layer||e.target||e;t.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(t)},_removeLayer:function(e){var t=e.layer||e.target||e;this._deletableLayers.removeLayer(t),this._delet+
edLayers.addLayer(t),t.fire("deleted")},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document);L.GridLayer.GoogleMutant=L.GridLayer.extend({+
options:{minZoom:0,maxZoom:23,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:false,noWrap:false,type:"roadmap",maxNativeZoom:21},initialize:function(e){L.GridLayer.prototype.initialize.call(this,e);this._ready=!!wi+
ndow.google&&!!window.google.maps&&!!window.google.maps.Map;this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise(function(e,t){var i=0;var n=null;n=setInterval(function(){if(i>=10){clearInterval(n);return t(new Error("window.google no+
t found after 10 attempts"))}if(!!window.google&&!!window.google.maps&&!!window.google.maps.Map){clearInterval(n);return e(window.google)}i++},500)});this._tileCallbacks={};this._freshTiles={};this._imagesPerTile=this.options.type==="hybrid"?2:1;this._bo+
undOnMutatedImage=this._onMutatedImage.bind(this)},onAdd:function(e){L.GridLayer.prototype.onAdd.call(this,e);this._initMutantContainer();this._GAPIPromise.then(function(){this._ready=true;this._map=e;this._initMutant();e.on("viewreset",this._reset,this)+
;if(this.options.updateWhenIdle){e.on("moveend",this._update,this)}else{e.on("move",this._update,this)}e.on("zoomend",this._handleZoomAnim,this);e.on("resize",this._resize,this);google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._check+
ZoomLevels();this._mutantIsReady=true}.bind(this));e._controlCorners.bottomright.style.marginBottom="20px";e._controlCorners.bottomleft.style.marginBottom="20px";this._reset();this._update();if(this._subLayers){for(var t in this._subLayers){this._subLaye+
rs[t].setMap(this._mutant)}}}.bind(this))},onRemove:function(e){L.GridLayer.prototype.onRemove.call(this,e);this._observer.disconnect();e._container.removeChild(this._mutantContainer);google.maps.event.clearListeners(e,"idle");google.maps.event.clearList+
eners(this._mutant,"idle");e.off("viewreset",this._reset,this);e.off("move",this._update,this);e.off("moveend",this._update,this);e.off("zoomend",this._handleZoomAnim,this);e.off("resize",this._resize,this);if(e._controlCorners){e._controlCorners.bottomr+
ight.style.marginBottom="0em";e._controlCorners.bottomleft.style.marginBottom="0em"}},getAttribution:function(){return this.options.attribution},setElementSize:function(e,t){e.style.width=t.x+"px";e.style.height=t.y+"px"},addGoogleLayer:function(e,t){if(+
!this._subLayers)this._subLayers={};return this._GAPIPromise.then(function(){var i=google.maps[e];var n=new i(t);n.setMap(this._mutant);this._subLayers[e]=n;return n}.bind(this))},removeGoogleLayer:function(e){var t=this._subLayers&&this._subLayers[e];if+
(!t)return;t.setMap(null);delete this._subLayers[e]},_initMutantContainer:function(){if(!this._mutantContainer){this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left");this._mutantContainer.id="_MutantContainer_"+L.+
Util.stamp(this._mutantContainer);this._mutantContainer.style.zIndex="800";this._mutantContainer.style.pointerEvents="none";L.DomEvent.off(this._mutantContainer)}this._map.getContainer().appendChild(this._mutantContainer);this.setOpacity(this.options.opa+
city);this.setElementSize(this._mutantContainer,this._map.getSize());this._attachObserver(this._mutantContainer)},_initMutant:function(){if(!this._ready||!this._mutantContainer)return;if(this._mutant){this._resize();return}this._mutantCenter=new google.m+
aps.LatLng(0,0);var e=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:true,keyboardShortcuts:false,draggable:false,disableDoubleClickZoom:true,scrollwheel:false,streetViewCon+
trol:false,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=e;google.maps.event.addListenerOnce(e,"idle",function(){var e=this._mutantContainer.querySelectorAll("a");for(var t=0;t<e.length;t++){e[t].style.pointerEvents="auto"}}+
.bind(this));this.fire("spawned",{mapObject:e})},_attachObserver:function e(t){if(!this._observer)this._observer=new MutationObserver(this._onMutations.bind(this));this._observer.observe(t,{childList:true,subtree:true});Array.prototype.forEach.call(t.que+
rySelectorAll("img"),this._boundOnMutatedImage)},_onMutations:function e(t){for(var i=0;i<t.length;++i){var n=t[i];for(var r=0;r<n.addedNodes.length;++r){var o=n.addedNodes[r];if(o instanceof HTMLImageElement){this._onMutatedImage(o)}else if(o instanceof+
 HTMLElement){Array.prototype.forEach.call(o.querySelectorAll("img"),this._boundOnMutatedImage);if(o.style.backgroundColor==="white"){L.DomUtil.remove(o)}if(o.textContent.indexOf("For development purposes only")===0){L.DomUtil.remove(o)}Array.prototype.f+
orEach.call(o.querySelectorAll('div[draggable=false][style*="text-align: center"]'),L.DomUtil.remove)}}}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function +
e(t){var i;var n=t.src.match(this._roadRegexp);var r=0;if(n){i={z:n[1],x:n[2],y:n[3]};if(this._imagesPerTile>1){t.style.zIndex=1;r=1}}else{n=t.src.match(this._satRegexp);if(n){i={x:n[1],y:n[2],z:n[3]}}r=0}if(i){var o=this._tileCoordsToKey(i);t.style.posi+
tion="absolute";t.style.visibility="hidden";var s=o+"/"+r;this._freshTiles[s]=t;if(s in this._tileCallbacks&&this._tileCallbacks[s]){this._tileCallbacks[s].pop()(t);if(!this._tileCallbacks[s].length){delete this._tileCallbacks[s]}}else{if(this._tiles[o])+
{var a=this._tiles[o].el;var l=r===0?a.firstChild:a.firstChild.nextSibling;var u=this._clone(t);a.replaceChild(u,l)}}}else if(t.src.match(this._staticRegExp)){t.style.visibility="hidden"}},createTile:function(e,t){var i=this._tileCoordsToKey(e);var n=L.D+
omUtil.create("div");n.dataset.pending=this._imagesPerTile;t=t.bind(this,null,n);for(var r=0;r<this._imagesPerTile;r++){var o=i+"/"+r;if(o in this._freshTiles){var s=this._freshTiles[o];n.appendChild(this._clone(s));n.dataset.pending--}else{this._tileCal+
lbacks[o]=this._tileCallbacks[o]||[];this._tileCallbacks[o].push(function(e){return function(i){e.appendChild(this._clone(i));e.dataset.pending--;if(!parseInt(e.dataset.pending)){t()}}.bind(this)}.bind(this)(n))}}if(!parseInt(n.dataset.pending)){L.Util.r+
equestAnimFrame(t)}return n},_clone:function(e){var t=e.cloneNode(true);t.style.visibility="visible";return t},_checkZoomLevels:function(){var e=this._map.getZoom();var t=this._mutant.getZoom();if(!e||!t)return;if(t!==e||t>this.options.maxNativeZoom){thi+
s._setMaxNativeZoom(t)}},_setMaxNativeZoom:function(e){if(e!=this.options.maxNativeZoom){this.options.maxNativeZoom=e;this._resetView()}},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var e=this._map.getCenter();var t=new g+
oogle.maps.LatLng(e.lat,e.lng);this._mutant.setCenter(t);var i=this._map.getZoom();var n=i!==Math.round(i);var r=this._mutant.getZoom();if(!n&&i!=r){this._mutant.setZoom(i);if(this._mutantIsReady)this._checkZoomLevels()}}L.GridLayer.prototype._update.cal+
l(this)},_resize:function(){var e=this._map.getSize();if(this._mutantContainer.style.width===e.x&&this._mutantContainer.style.height===e.y)return;this.setElementSize(this._mutantContainer,e);if(!this._mutant)return;google.maps.event.trigger(this._mutant,+
"resize")},_handleZoomAnim:function(){if(!this._mutant)return;var e=this._map.getCenter();var t=new google.maps.LatLng(e.lat,e.lng);this._mutant.setCenter(t);this._mutant.setZoom(Math.round(this._map.getZoom()))},_removeTile:function(e){if(!this._mutant)+
return;setTimeout(this._pruneTile.bind(this,e),1e3);return L.GridLayer.prototype._removeTile.call(this,e)},_pruneTile:function(e){var t=this._mutant.getZoom();var i=e.split(":")[2];var n=this._mutant.getBounds();var r=n.getSouthWest();var o=n.getNorthEas+
t();var s=L.latLngBounds([[r.lat(),r.lng()],[o.lat(),o.lng()]]);for(var a=0;a<this._imagesPerTile;a++){var l=e+"/"+a;if(l in this._freshTiles){var u=this._map&&this._keyToBounds(e);var h=this._map&&u.overlaps(s)&&i==t;if(!h)delete this._freshTiles[l]}}}}+
);L.gridLayer.googleMutant=function(e){return new L.GridLayer.GoogleMutant(e)};let rt;const ot=15;const st=S&&S.maps&&S.maps.length>0?S.maps:[{name:"streets",maxzoom:24,tiles:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"],attribution:'© <a href="+
http://openstreetmap.org">OpenStreetMap</a> | <a href="www.openstreetmap.org/copyright">Terms</a>'}];let at="https://maps.googleapis.com/maps/api/geocode/json?address={address}&sensor=true&key={api_key}";const lt=nt.divIcon({iconSize:24,className:"enketo+
-geopoint-marker"});const ut=nt.divIcon({iconSize:16,className:"enketo-geopoint-circle-marker"});const ht=nt.divIcon({iconSize:16,className:"enketo-geopoint-circle-marker-active"});class ct extends Ve{static get selector(){return'.question input[data-typ+
e-xml="geopoint"], .question input[data-type-xml="geotrace"], .question input[data-type-xml="geoshape"]'}static condition(e){return!C.has(e,"ArcGisGeopicker")}_init(){const e=this.originalInputValue;const t=this;this.$form=i(this.element).closest("form.o+
r");this.$question=i(this.element).closest(".question");this.mapId=Math.round(Math.random()*1e7);this._addDomElements();this.currentIndex=0;this.points=[];if(e){this.value=e}this.$widget.find('[name="lat"], [name="long"], [name="alt"], [name="acc"]').on(+
"change change.bymap change.bysearch",e=>{const i=t.$lat.val()?Number(t.$lat.val()):"";const n=t.$lng.val()?Number(t.$lng.val()):"";const r=t.$alt.val()?Number(t.$alt.val()):"";const o=t.$acc.val()?Number(t.$acc.val()):"";const s={lat:i,lng:n};e.stopImme+
diatePropagation();if(e.namespace!=="bymap"&&e.namespace!=="bysearch"&&t.polyline&&t.props.type==="geoshape"&&!t.containsEmptyPoints(t.points,t.currentIndex)&&t.updatedPolylineWouldIntersect(s,t.currentIndex)){t._showIntersectError();t._updateInputs(t.po+
ints[t.currentIndex],"nochange")}else{t._editPoint([i,n,r,o]);if(e.namespace!=="bysearch"&&t.$search){t.$search.val("")}}});this.$kmlInput.on("change",function(e){const n=t.$points.find(".addpoint");const r=i(this).prev(".paste-progress").removeClass("hi+
de");const o=e.target.value;const s=t._convertKmlCoordinatesToLeafletCoordinates(o);e.target.value="";setTimeout(()=>{s.forEach((e,i)=>{t._updateInputs(e);if(i<s.length-1){n.click()}});r.remove();t._switchInputType("points")},10)});this.$widget.find(".to+
ggle-input-type-btn").on("click",()=>{const e=t.$inputGroup.hasClass("kml-input-mode")?"points":"kml";t._switchInputType(e);return false});i(this.element).on("change",function(){t.$kmlInput.prop("disabled",!!this.value)}).on("applyfocus",()=>{t.$widget[0+
].querySelector("input").focus()});this.$points.on("click",".point",function(){t._setCurrent(t.$points.find(".point").index(i(this)));t._switchInputType("points");return false});this.$points.find(".addpoint").on("click",()=>{t._addPoint();return false});+
this.$widget.find(".close-chain-btn").on("click",()=>{t._closePolygon();return false});this.$widget.find(".btn-remove").on("click",()=>{if(t.points.length<2){t._updateInputs([])}else{Ae.confirm(Se("geopicker.removePoint")).then(e=>{if(e){t._removePoint()+
}}).catch(()=>{})}});this.$map.find(".show-map-btn").on("click",()=>{t.$widget.find(".search-bar").removeClass("hide-search");t.$widget.addClass("full-screen");t._updateMap();return false});this.$form.on(`pageflip.map${this.mapId}`,e=>{if(t.map&&i.contai+
ns(e.target,t.element)){t.map.invalidateSize();t.$form.off(`pageflip.map${t.mapId}`)}});if(this.props.wide){this.$widget.addClass("wide")}this.$widget.toggleClass("hide-input",this.$question.hasClass("or-appearance-hide-input")).find(".toggle-input-visib+
ility-btn").on("click",function(){t.$widget.toggleClass("hide-input");i(this).toggleClass("open",t.$widget.hasClass("hide-input"));if(t.map){t.map.invalidateSize(false)}}).toggleClass("open",t.$widget.hasClass("hide-input"));this.$widget.find(".hide-map-+
btn").on("click",()=>{t.$widget.find(".search-bar").addClass("hide-search");t.$widget.removeClass("full-screen").find(".map-canvas").removeClass("leaflet-container").find(".leaflet-google-layer").remove();if(t.map){t.map.remove();t.map=null;t.polygon=nul+
l;t.polyline=null}return false});if(this.props.search){this._enableSearch()}if(this.props.detect){this._enableDetection()}if(this.props.readonly){this.disable()}if(e){this.points.forEach(()=>{t._addPointBtn()})}else{this._addPoint()}if(!e){this._updateMa+
p([0,0],1);if(this.props.detect){navigator.geolocation.getCurrentPosition(e=>{t._updateMap([e.coords.latitude,e.coords.longitude],ot)})}}else{this._updateMap();this._setCurrent(this.currentIndex)}}_switchInputType(e){if(e==="kml"){this.$inputGroup.addCla+
ss("kml-input-mode")}else if(e==="points"){this.$inputGroup.removeClass("kml-input-mode")}}_addPointBtn(){this.$points.find(".addpoint").before('<a href="#" class="point" aria-label="point"> </a>')}_addDomElements(){const e=`<div class="map-canvas-wrappe+
r"><div class=map-canvas id="map${this.mapId}"></div></div>`;const t='<div class="points"><button type="button" class="addpoint">+</button></div>';const n=`\n            <a href="#" class="toggle-input-type-btn">\n                <span class="kml-input">+
KML</span>\n                <span class="points-input" data-i18n="geopicker.points">${Se("geopicker.points")}</span>\n            </a>\n            <label class="geo kml">\n                <span data-i18n="geopicker.kmlcoords">${Se("geopicker.kmlcoords")+
}</span>\n                <progress class="paste-progress hide"></progress>\n                <textarea class="ignore" name="kml" placeholder="${Se("geopicker.kmlpaste")}" data-i18n="geopicker.kmlpaste"></textarea>\n                <span class="disabled-m+
sg">remove all points to enable</span>\n            </label>`;const r=`<button type="button" class="close-chain-btn btn btn-default btn-xs" data-i18n="geopicker.closepolygon">${Se("geopicker.closepolygon")}</button>`;const o='<button type="button" class=+
"show-map-btn btn btn-default">Map</button>';this.$widget=i(`<div class="geopicker widget">\n                <div class="search-bar hide-search no-map no-detect">\n                    <button type="button" class="hide-map-btn btn btn-default"><span class+
="icon icon-arrow-left"> </span></button>\n                    <button name="geodetect" type="button" class="btn btn-default" title="detect current location" data-placement="top"><span class="icon icon-crosshairs"> </span></button>\n                    <+
div class="input-group">\n                        <input class="geo ignore" name="search" type="text" placeholder="${Se("geopicker.searchPlaceholder")}" data-i18n="geopicker.searchPlaceholder" disabled="disabled"/>\n                        <button type="+
button" class="btn btn-default search-btn"><i class="icon icon-search"> </i></button>\n                    </div>\n                </div>\n                <div class="geo-inputs">\n                    <label class="geo lat">\n                        <spa+
n data-i18n="geopicker.latitude">${Se("geopicker.latitude")}</span>\n                        <input class="ignore" name="lat" type="number" step="0.000001" min="-90" max="90"/>\n                    </label>\n                    <label class="geo long">\n+
                        <span data-i18n="geopicker.longitude">${Se("geopicker.longitude")}</span>\n                        <input class="ignore" name="long" type="number" step="0.000001" min="-180" max="180"/>\n                    </label>\n             +
       <label class="geo alt">\n                        <span data-i18n="geopicker.altitude">${Se("geopicker.altitude")}</span>\n                        <input class="ignore" name="alt" type="number" step="0.1" />\n                    </label>\n         +
           <label class="geo acc">\n                        <span data-i18n="geopicker.accuracy">${Se("geopicker.accuracy")}</span>\n                        <input class="ignore" name="acc" type="number" step="0.1" />\n                    </label>\n     +
               <button type="button" class="btn-icon-only btn-remove" aria-label="remove"><span class="icon icon-trash"> </span></button>\n                </div>\n            </div>`);if(this.props.detect){this.$widget.find(".search-bar").removeClass("no+
-detect");this.$detect=this.$widget.find('button[name="geodetect"]')}this.$search=this.$widget.find('[name="search"]');this.$inputGroup=this.$widget.find(".geo-inputs");if(this.props.map){this.$widget.find(".search-bar").removeClass("no-map").after(e);th+
is.$map=this.$widget.find(".map-canvas");this.$map.parent().append('<button type="button" class="toggle-input-visibility-btn" aria-label="toggle input"> </button>')}else{this.$map=i()}if(this.props.touch&&this.props.map){this.$map.append(o)}if(!this.prop+
s.touch){this.$widget.find(".search-bar").removeClass("hide-search")}if(this.props.type!=="geopoint"){this.$points=i(t);this.$widget.prepend(this.$points);if(this.props.type==="geoshape"){this.$inputGroup.append(r)}const e=i(n);this.$kmlInput=e.find('[na+
me="kml"]');this.$inputGroup.prepend(e)}else{this.$points=i();this.$kmlInput=i()}this.$lat=this.$widget.find('[name="lat"]');this.$lng=this.$widget.find('[name="long"]');this.$alt=this.$widget.find('[name="alt"]');this.$acc=this.$widget.find('[name="acc"+
]');i(this.element).hide().after(this.$widget).parent().addClass("clearfix")}_updateValue(){this._markAsValid();const e=this.originalInputValue;const t=this.value;if(e!==t){this.originalInputValue=t;return true}else{return false}}_isValidGeopoint(e){retu+
rn e?z.geopoint.validate(e):false}_isValidLatLngList(e){const t=this;return e.every((e,i,n)=>t._isValidLatLng(e)||e.join()===""&&i===n.length-1)}_cleanLatLng(e){if(Array.isArray(e)){return[e[0],e[1]]}return e}_isValidLatLng(e){const t=typeof e[0]==="numb+
er"?e[0]:typeof e.lat==="number"?e.lat:null;const i=typeof e[1]==="number"?e[1]:typeof e.lng==="number"?e.lng:null;return z.geopoint.validate([t,i].join(" "))}_markAsInvalid(e){this.$points.find(".point").eq(e).addClass("has-error")}_markAsValid(){this.$+
points.find(".point").removeClass("has-error")}_setCurrent(e){this.currentIndex=e;this.$points.find(".point").removeClass("active").eq(e).addClass("active");this._updateInputs(this.points[e],"");if(this.map&&(!this.props.touch||this._inFullScreenMode()))+
{this._updateMarkers()}}_enableDetection(){const e=this;const t={enableHighAccuracy:true,maximumAge:0};this.$detect.click(i=>{i.preventDefault();navigator.geolocation.getCurrentPosition(t=>{const i={lat:Math.round(t.coords.latitude*1e6)/1e6,lng:Math.roun+
d(t.coords.longitude*1e6)/1e6};if(e.polyline&&e.props.type==="geoshape"&&e.updatedPolylineWouldIntersect(i,e.currentIndex)){e._showIntersectError()}else{e._updateInputs([i.lat,i.lng,t.coords.altitude,t.coords.accuracy]);if(e.currentIndex===e.points.lengt+
h-1&&e.props.type!=="geopoint"){e._addPoint()}}},()=>{console.error("error occurred trying to obtain position")},t);return false})}_enableSearch(){const e=this;{at=at.replace("&key={api_key}","")}this.$search.prop("disabled",false).on("change",function(t+
){let n=i(this).val();t.stopImmediatePropagation();if(n){n=n.split(/\s+/).join("+");i.get(at.replace("{address}",n),t=>{let i;if(t.results&&t.results.length>0&&t.results[0].geometry&&t.results[0].geometry.location){i=t.results[0].geometry.location;e._upd+
ateMap([i.lat,i.lng],ot);e.$search.closest(".input-group").removeClass("has-error")}else{e.$search.closest(".input-group").addClass("has-error");console.log(`Location "${n}" not found`)}},"json").fail(()=>{e.$search.closest(".input-group").addClass("has-+
error");console.log("Error. Geocoding service may not be available or app is offline")}).always(()=>{})}})}_dynamicMapAvailable(){return!!this.map}_inFullScreenMode(){return this.$widget.hasClass("full-screen")}_updateMap(e,t){const i=this;if(!this.props+
.map){return}if(!t){if(this.map){t=this.map.getZoom()||ot}else{t=ot}}if(e){this.lastLatLng=e;this.lastZoom=t}if(!this.props.touch||this._inFullScreenMode()){if(!this.map){this._addDynamicMap().then(()=>{i._updateDynamicMapView(e,t)})}else{i._updateDynami+
cMapView(e,t)}}}_addDynamicMap(){const e=this;return this._getLayers().then(t=>{const i={layers:e._getDefaultLayer(t)};e.map=nt.map(`map${e.mapId}`,i).on("click",t=>{let i;let n;if(e.props.readonly){return false}i=t.latlng;n=e.$lat.val()&&e.$lng.val()?e.+
points.length:e.currentIndex;i.lat=Math.round(i.lat*1e6)/1e6;i.lng=Math.round(i.lng*1e6)/1e6;if(e.props.type==="geoshape"&&!e.containsEmptyPoints(e.points,n)&&e.updatedPolylineWouldIntersect(i,n)){e._showIntersectError()}else{if(!e.$lat.val()||!e.$lng.va+
l()||e.props.type==="geopoint"){e._updateInputs(i,"change.bymap")}else if(e.$lat.val()&&e.$lng.val()){e._addPoint();e._updateInputs(i,"change.bymap")}}});e.map.attributionControl.setPrefix("");if(t.length>1){nt.control.layers(e._getBaseLayers(t),null).ad+
dTo(e.map)}e.$widget.find(".leaflet-control-layers-toggle").append('<span class="icon icon-globe"></span>');e.map.on("baselayerchange",()=>{e.$widget.find(".leaflet-control-container input").addClass("ignore no-unselect").next("span").addClass("option-la+
bel")})})}_updateDynamicMapView(e,t){if(!e){this._updatePolyline();this._updateMarkers();if(this.points.length===1&&this.points[0].toString()===""){if(this.lastLatLng){this.map.setView(this.lastLatLng,this.lastZoom||ot)}else{this.map.setView(nt.latLng(0,+
0),t||ot)}}}else{this.map.setView(e,t||ot)}}_showIntersectError(){Ae.alert("Borders cannot intersect!")}_getLayers(){const e=this;const t=[];st.forEach((i,n)=>{if(typeof i.tiles==="string"&&/^GOOGLE_(SATELLITE|ROADMAP|HYBRID|TERRAIN)/.test(i.tiles)){t.pu+
sh(e._getGoogleTileLayer(i,n))}else if(i.tiles){t.push(e._getLeafletTileLayer(i,n))}else{console.error("Configuration error for map tiles. Not a valid tile layer: ",i)}});return Promise.all(t)}_getLeafletTileLayer(e,t){let i;const n=this._getTileOptions(+
e,t);e.tileIndex=e.tileIndex===undefined?Math.round(Math.random()*100)%e.tiles.length:e.tileIndex;i=e.tiles[e.tileIndex];return Promise.resolve(nt.tileLayer(i,n))}_getGoogleTileLayer(e,t){const i=this._getTileOptions(e,t);i.type=e.tiles.substring(7).toLo+
werCase();return this._loadGoogleMapsScript().then(()=>nt.gridLayer.googleMutant(i))}_getTileOptions(e,t){const i=e.name||`map-${t+1}`;return{id:e.id||i,maxZoom:e.maxzoom||18,minZoom:e.minzoom||0,name:i,attribution:e.attribution||""}}_loadGoogleMapsScrip+
t(){if(!rt){rt=new Promise(e=>{let t,n;window.gmapsLoaded=(()=>{delete window.gmapsLoaded;e()});t="";n=`https://maps.google.com/maps/api/js?v=3.exp${t}&libraries=places&callback=gmapsLoaded`;i.getScript(n)})}return rt}_getDefaultLayer(e){let t;const i=th+
is;e.reverse().some(e=>{t=e;return i.props.appearances.some(t=>t===e.options.name)});return t}_getBaseLayers(e){const t={};e.forEach(e=>{t[e.options.name]=e});return t}_updateMarkers(){const e=[];const t=[];const i=this;if(this.markerLayer){this.markerLa+
yer.clearLayers()}if(this.points.length<2&&this.points[0].join()===""){return}this.points.forEach((n,r)=>{const o=i.props.type==="geopoint"?lt:r===i.currentIndex?ht:ut;if(i._isValidLatLng(n)){e.push(i._cleanLatLng(n));t.push(nt.marker(i._cleanLatLng(n),{+
icon:o,clickable:!i.props.readonly,draggable:!i.props.readonly,alt:r,opacity:.9}).on("click",e=>{if(e.target.options.alt===0&&i.props.type==="geoshape"){i._closePolygon()}else{i._setCurrent(e.target.options.alt)}}).on("dragend",e=>{const t=e.target.getLa+
tLng(),n=e.target.options.alt;t.lat=Math.round(t.lat*1e6)/1e6;t.lng=Math.round(t.lng*1e6)/1e6;if(i.polyline&&i.props.type==="geoshape"&&i.updatedPolylineWouldIntersect(t,n)){i._showIntersectError();i._updateMarkers()}else{i._setCurrent(n);i._updateInputs+
(t,"change.bymap");i._updateMap()}}))}else{console.debug("this latLng was not considered valid",n)}});if(t.length>0){this.markerLayer=nt.layerGroup(t).addTo(this.map);if(this.points.length===1||!this._isValidLatLngList(this.points)){this.map.setView(e[0]+
,this.lastZoom||ot)}}}_updatePolyline(){let e;const t=this;if(this.props.type==="geopoint"){return}if(this.points.length<2||!this._isValidLatLngList(this.points)){if(this.map){if(this.polyline){this.map.removeLayer(this.polyline)}if(this.polygon){this.ma+
p.removeLayer(this.polygon)}}this.polyline=null;this.polygon=null;return}if(this.props.type==="geoshape"){this._updatePolygon()}e=this.points[this.points.length-1].join("")!==""?this.points:this.points.slice(0,this.points.length-1);e=e.map(e=>t._cleanLat+
Lng(e));if(!this.polyline){this.polyline=nt.polyline(e,{color:"red"});this.map.addLayer(this.polyline)}else{this.polyline.setLatLngs(e)}setTimeout(()=>{t.map.fitBounds(t.polyline.getBounds())},0)}_updatePolygon(){let e;const t=this;if(this.props.type==="+
geopoint"||this.props.type==="geotrace"){return}e=this.points[this.points.length-1].join("")!==""?this.points:this.points.slice(0,this.points.length-1);e=e.map(e=>t._cleanLatLng(e));if(!this.polygon){this.polygon=nt.polygon(e,{color:"red",stroke:false});+
this.map.addLayer(this.polygon)}else{this.polygon.setLatLngs(e)}this._updateArea(e)}_updateArea(e){let t;let i;if(e.length>2){const n=e.map(e=>({lat:e[0],lng:e[1]}));t=nt.GeometryUtil.geodesicArea(n);i=nt.GeometryUtil.readableArea(t,true);nt.popup({class+
Name:"enketo-area-popup"}).setLatLng(this.polygon.getBounds().getCenter()).setContent(i).openOn(this.map)}else{this.map.closePopup()}}_addPoint(){this._addPointBtn();this.points.push([]);this._setCurrent(this.points.length-1);this._updateValue()}_editPoi+
nt(e){let t;this.points[this.currentIndex]=e;t=this._updateValue();if(t){this._updateMap()}return t}_removePoint(){let e=this.currentIndex;this.points.splice(this.currentIndex,1);this._updateValue();this.$points.find(".point").eq(this.currentIndex).remov+
e();if(typeof this.points[this.currentIndex]==="undefined"){e=this.currentIndex-1}this._setCurrent(e);this._updateMap()}_closePolygon(){const e=this.points[this.points.length-1];if(this.points.length<3||this.points.length===3&&!this._isValidLatLng(this.p+
oints[2])||JSON.stringify(this.points[0])===JSON.stringify(e)){return}if(!this._isValidLatLng(e)){console.log("current last point is not a valid point, so will use this as closing point");this.currentIndex=this.points.length-1}else{console.log("current l+
ast point is valid, so will create a new one to use to close");this._addPoint()}if(this.polyline&&!this.containsEmptyPoints(this.points,this.points.length)&&this.updatedPolylineWouldIntersect(this.points[0],this.currentIndex)){return this._showIntersectE+
rror()}this._updateInputs(this.points[0])}_updateInputs(e,t){const i=e[0]||e.lat||"";const n=e[1]||e.lng||"";const r=e[2]||e.alt||"";const o=e[3]||e.acc||"";t=typeof t!=="undefined"?t:"change";this.$lat.val(i||"");this.$lng.val(n||"");this.$alt.val(r||""+
);this.$acc.val(o||"").trigger(t)}_convertKmlCoordinatesToLeafletCoordinates(e){const t=[];const i=/<\s?coordinates>(([^<]|\n)*)<\/\s?coordinates\s?>/;const n=i.test(e);e=n?e.match(i)[1]:e;e.trim().split(/\s+/).forEach(e=>{const i=[];e.split(",").forEach+
((e,t)=>{const n=Number(e);if(t===0){i[1]=n}else if(t===1){i[0]=n}else if(t===2){i[2]=n}});t.push(i)});return t}updatedPolylineWouldIntersect(e,t){const n=[];let r;let o;let s;const a=this;if(this.points<3){return false}i.extend(true,n,this.points);n[t]=+
[e[0]||e.lat,e[1]||e.lng];r=n[n.length-1].join("")!==""?n:n.slice(0,n.length-1);if(r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]){r=r.slice(0,r.length-1)}r=r.map(e=>a._cleanLatLng(e));o=nt.polyline(r,{color:"white"});this.map.addLayer(o);s=o.int+
ersects();this.map.removeLayer(o);return s}containsEmptyPoints(e,t){return e.some((e,i)=>i!==t&&(!e[0]||!e[1]))}get props(){const e=this._props;e.detect=!!navigator.geolocation;e.map=!a.touch||e.appearances.includes("maps")||e.appearances.includes("place+
ment-map");e.search=e.map;e.touch=a.touch;e.wide=this.question.clientWidth/this.element.closest("form.or").clientWidth>.8;return e}get value(){let e="";this.points.forEach((t,i,n)=>{let r;const o=typeof t[0]==="number"?t[0]:typeof t.lat==="number"?t.lat:+
null;const s=typeof t[1]==="number"?t[1]:typeof t.lng==="number"?t.lng:null;const a=typeof t[2]==="number"?t[2]:0;const l=typeof t[3]==="number"?t[3]:0;r=o&&s?`${o} ${s} ${a} ${l}`:"";if(!this._isValidGeopoint(r)&&!(r===""&&i===n.length-1)){this._markAsI+
nvalid(i)}if(!(r===""&&i===n.length-1)){e+=r;if(i!==n.length-1){e+=";"}}else{e=e.substring(0,e.lastIndexOf(";"))}});return e}set value(e){e.trim().split(";").forEach((e,t)=>{this.points[t]=e.trim().split(" ");this.points[t].forEach((e,t,i)=>{i[t]=Number(+
e)})})}enable(){i(this.element).next(".widget").removeClass("readonly").find("input, select, textarea").prop("disabled",false).end().find(".btn:not(.show-map-btn):not(.hide-map-btn), .btn-icon-only, .addpoint").prop("disabled",false);if(this.map){this.ma+
p.invalidateSize()}}disable(){i(this.element).next(".widget").addClass("readonly").find("input, select, textarea").prop("disabled",true).end().find(".btn:not(.show-map-btn):not(.hide-map-btn), .btn-icon-only, .addpoint").prop("disabled",true)}update(){co+
nst e=this.element.parentElement.querySelector(".widget");if(e){e.remove();this.map=undefined;this.polyline=undefined;this.polygon=undefined;this._init()}}}class dt extends Ve{static get selector(){return"form"}_init(){const e=this.element.querySelector(+
"textarea");const t=e?e.clientHeight:20;this.element.addEventListener("input",e=>{const i=e.target;if(i.nodeName.toLowerCase()==="textarea"){if(i.scrollHeight>i.clientHeight&&i.scrollHeight>t){i.style["height"]=`${i.scrollHeight}px`;i.style["flex"]="auto+
"}}})}}class ft{}class pt extends Ve{static get selector(){return"form"}_init(){const e=i(this.element);const t=this;e.on("click",'input[type="radio"]:not([readonly]):checked',function(){i(this).parent("label").siblings().removeAttr("data-checked").end()+
.attr("data-checked","true")}).on("click",'input[type="checkbox"]:not([readonly])',function(){t._updateDataChecked(this)}).on(te.InputUpdate().type,'input[type="radio"], input[type="checkbox"]',function(){this.closest(".option-wrapper").querySelectorAll(+
'input[type="radio"],input[type="checkbox"]').forEach(e=>t._updateDataChecked(e))}).on("click",'input[type="checkbox"][readonly],input[type="radio"][readonly]',e=>{e.stopImmediatePropagation();return false}).on(te.Change().type,'input[type="checkbox"][re+
adonly],input[type="radio"][readonly]',function(e){const t=typeof e.originalEvent==="undefined";if(!t){e.stopImmediatePropagation();if(this.checked&&this.parentNode.dataset.checked!=="true"){this.checked=false}}return t}).on("click",'[data-checked]>input+
[type="radio"]:not(.no-unselect)',function(){i(this).prop("checked",false).trigger("change").parent().removeAttr("data-checked")});this.element.querySelectorAll('input[type="radio"]:checked, input[type="checkbox"]:checked').forEach(e=>this._updateDataChe+
cked(e))}_updateDataChecked(e){if(e.checked){e.parentNode.dataset.checked=true}else{delete e.parentNode.dataset.checked}}}var mt=t(function(e,t){                                                                                                              
/*!                                                                                                                                                                                                                                                            
	 * Datepicker for Bootstrap v1.9.0 (https://github.com/uxsolutions/bootstrap-datepicker)                                                                                                                                                                      
	 *                                                                                                                                                                                                                                                            
	 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)                                                                                                                                                                        
	 */                                                                                                                                                                                                                                                           
(function(e){{e(i)}})(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth(+
)===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(i,n){return function(){if(n!==t){e.fn.datepicker.deprecated(n)}return this[i].apply(this,arguments)}}function s(e){return e&&!isNaN(e.getTime())}var a=function(){var t={get:function(e){retur+
n this.slice(e)[0]},contains:function(e){var t=e&&e.valueOf();for(var i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-t&&this[i].valueOf()-t<1e3*60*60*24)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){if(!t)return;if(!e.isA+
rray(t))t=[t];this.clear();this.push.apply(this,t)},clear:function(){this.length=0},copy:function(){var e=new a;e.replace(this);return e}};return function(){var i=[];i.push.apply(i,arguments);e.extend(i,t);return i}}();var l=function(t,i){e.data(t,"datep+
icker",this);this._events=[];this._secondaryEvents=[];this._process_options(i);this.dates=new a;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=e(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:thi+
s.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"):false;if(this.component&&this.component.length===0)this.component=false;this.isInline=!+
this.component&&this.element.is("div");this.picker=e(v.template);if(this._check_template(this.o.templates.leftArrow)){this.picker.find(".prev").html(this.o.templates.leftArrow)}if(this._check_template(this.o.templates.rightArrow)){this.picker.find(".next+
").html(this.o.templates.rightArrow)}this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.add+
Class("datepicker-rtl")}if(this.o.calendarWeeks){this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1})}this._process_options({startDate:this._o.start+
Date,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled});this._allow_update=false;this.setViewMode(this.o.startView);this._allow_update=true;this.fil+
lDow();this.fillMonths();this.update();if(this.isInline){this.show()}};l.prototype={constructor:l,_resolveViewName:function(t){e.each(v.viewModes,function(i,n){if(t===i||e.inArray(t,n.names)!==-1){t=i;return false}});return t},_resolveDaysOfWeek:function+
(t){if(!e.isArray(t))t=t.split(/[,\s]*/);return e.map(t,Number)},_check_template:function(i){try{if(i===t||i===""){return false}if((i.match(/[<>]/g)||[]).length<=0){return true}var n=e(i);return n.length>0}catch(e){return false}},_process_options:functio+
n(t){this._o=e.extend({},this._o,t);var r=this.o=e.extend({},this._o);var o=r.language;if(!g[o]){o=o.split("-")[0];if(!g[o])o=p.language}r.language=o;r.startView=this._resolveViewName(r.startView);r.minViewMode=this._resolveViewName(r.minViewMode);r.maxV+
iewMode=this._resolveViewName(r.maxViewMode);r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView));if(r.multidate!==true){r.multidate=Number(r.multidate)||false;if(r.multidate!==false)r.multidate=Math.max(0,r.multidate)}r.mult+
idateSeparator=String(r.multidateSeparator);r.weekStart%=7;r.weekEnd=(r.weekStart+6)%7;var s=v.parseFormat(r.format);if(r.startDate!==-Infinity){if(!!r.startDate){if(r.startDate instanceof Date)r.startDate=this._local_to_utc(this._zero_time(r.startDate))+
;else r.startDate=v.parseDate(r.startDate,s,r.language,r.assumeNearbyYear)}else{r.startDate=-Infinity}}if(r.endDate!==Infinity){if(!!r.endDate){if(r.endDate instanceof Date)r.endDate=this._local_to_utc(this._zero_time(r.endDate));else r.endDate=v.parseDa+
te(r.endDate,s,r.language,r.assumeNearbyYear)}else{r.endDate=Infinity}}r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]);r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]);r.datesDisabled=r.datesDisabled||[]+
;if(!e.isArray(r.datesDisabled)){r.datesDisabled=r.datesDisabled.split(",")}r.datesDisabled=e.map(r.datesDisabled,function(e){return v.parseDate(e,s,r.language,r.assumeNearbyYear)});var a=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.+
toLowerCase();a=e.grep(a,function(e){return/^auto|left|right|top|bottom$/.test(e)});r.orientation={x:"auto",y:"auto"};if(!l||l==="auto");else if(a.length===1){switch(a[0]){case"top":case"bottom":r.orientation.y=a[0];break;case"left":case"right":r.orienta+
tion.x=a[0];break}}else{l=e.grep(a,function(e){return/^left|right$/.test(e)});r.orientation.x=l[0]||"auto";l=e.grep(a,function(e){return/^top|bottom$/.test(e)});r.orientation.y=l[0]||"auto"}if(r.defaultViewDate instanceof Date||typeof r.defaultViewDate==+
="string"){r.defaultViewDate=v.parseDate(r.defaultViewDate,s,r.language,r.assumeNearbyYear)}else if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear();var h=r.defaultViewDate.month||0;var c=r.defaultViewDate.day||1;r.defaultViewDat+
e=i(u,h,c)}else{r.defaultViewDate=n()}},_applyEvents:function(e){for(var i=0,n,r,o;i<e.length;i++){n=e[i][0];if(e[i].length===2){r=t;o=e[i][1]}else if(e[i].length===3){r=e[i][1];o=e[i][2]}n.on(o,r)}},_unapplyEvents:function(e){for(var i=0,n,r,o;i<e.lengt+
h;i++){n=e[i][0];if(e[i].length===2){o=t;r=e[i][1]}else if(e[i].length===3){o=e[i][1];r=e[i][2]}n.off(r,o)}},_buildEvents:function(){var t={keyup:e.proxy(function(t){if(e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1)this.update()},this),keydown:e.pro+
xy(this.keydown,this),paste:e.proxy(this.paste,this)};if(this.o.showOnFocus===true){t.focus=e.proxy(this.show,this)}if(this.isInput){this._events=[[this.element,t]]}else if(this.component&&this.inputField.length){this._events=[[this.inputField,t],[this.c+
omponent,{click:e.proxy(this.show,this)}]]}else{this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]]}this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.elem+
ent,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]);if(this.o.immediateUpdates){this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}])}this._secondaryEvents=[[this.picker,{click:e.proxy+
(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.pr+
oxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this.+
_events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},+
_trigger:function(t,i){var n=i||this.dates.get(-1),r=this._utc_to_local(n);this.element.trigger({type:t,date:r,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){if(arguments.length===0){e=this.dates.length-1;t+
=this.o.format}else if(typeof e==="string"){t=e;e=this.dates.length-1}t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){if(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&this+
.o.enableOnReadonly===false)return;if(!this.isInline)this.picker.appendTo(this.o.container);this.place();this.picker.show();this._attachSecondaryEvents();this._trigger("show");if((window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disa+
bleTouchKeyboard){e(this.element).blur()}return this},hide:function(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.setViewMode(this.o.startView);if(this.o.for+
ceParse&&this.inputField.val())this.setValue();this._trigger("hide");return this},destroy:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.e+
lement.data().date}return this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&e.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1){i=t.originalEvent.clipboardData.getData("text/plain")}else if+
(window.clipboardData){i=window.clipboardData.getData("Text")}else{return}this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(e){if(!e){return e}var t=new Date(e.getTime()+e.getTimezoneOffset()*6e4);if(t.getTimezoneOffset()!==e.getTi+
mezoneOffset()){t=new Date(e.getTime()+t.getTimezoneOffset()*6e4)}return t},_local_to_utc:function(e){return e&&new Date(e.getTime()-e.getTimezoneOffset()*6e4)},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_ut+
c_time:function(e){return e&&i(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return+
 this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);if(e!==t){return new Date(e)}else{return null}},clearDates:function(){this.inputField.val("");this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide(+
)}},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.setDates.appl+
y(this,e.map(t,this._utc_to_local));return this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDa+
te();this.inputField.val(e);return this},getFormattedDate:function(i){if(i===t)i=this.o.format;var n=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.s+
tartDate},setStartDate:function(e){this._process_options({startDate:e});this.update();this.updateNavArrows();return this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){this._process_options({endDate:e});this.update();this.updateNavA+
rrows();return this},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e});this.update();return this},setDaysOfWeekHighlighted:function(e){this._process_options({daysOfWeekHighlighted:e});this.update();return this},setDatesDisab+
led:function(e){this._process_options({datesDisabled:e});this.update();return this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,r=e(this.o.container),o=r.width(),s=this.o.container==="body+
"?e(document).scrollTop():r.scrollTop(),a=r.offset();var l=[0];this.element.parents().each(function(){var t=e(this).css("z-index");if(t!=="auto"&&Number(t)!==0)l.push(Number(t))});var u=Math.max.apply(Math,l)+this.o.zIndexOffset;var h=this.component?this+
.component.parent().offset():this.element.offset();var c=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var d=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var f=h.left-a.left;var p=h.top-a+
.top;if(this.o.container!=="body"){p+=s}this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom "+"datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orienta+
tion.x);if(this.o.orientation.x==="right")f-=t-d}else{if(h.left<0){this.picker.addClass("datepicker-orient-left");f-=h.left-n}else if(f+t>o){this.picker.addClass("datepicker-orient-right");f+=d-t}else{if(this.o.rtl){this.picker.addClass("datepicker-orien+
t-right")}else{this.picker.addClass("datepicker-orient-left")}}}var m=this.o.orientation.y,g;if(m==="auto"){g=-s+p-i;m=g<0?"bottom":"top"}this.picker.addClass("datepicker-orient-"+m);if(m==="top")p-=i+parseInt(this.picker.css("padding-top"));else p+=c;if+
(this.o.rtl){var v=o-(f+d);this.picker.css({top:p,right:v,zIndex:u})}else{this.picker.css({top:p,left:f,zIndex:u})}return this},_allow_update:true,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],n=false;if(arguments.leng+
th){e.each(arguments,e.proxy(function(e,t){if(t instanceof Date)t=this._local_to_utc(t);i.push(t)},this));n=true}else{i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val();if(i&&this.o.multidate)i=i.split(this.o.multidateSepa+
rator);else i=[i];delete this.element.data().date}i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this));i=e.grep(i,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),true);this.dates.+
replace(i);if(this.o.updateViewDate){if(this.dates.length)this.viewDate=new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)this.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)this.viewDate=new Date(this.o.endDat+
e);else this.viewDate=this.o.defaultViewDate}if(n){this.setValue();this.element.change()}else if(this.dates.length){if(String(t)!==String(this.dates)&&n){this._trigger("changeDate");this.element.change()}}if(!this.dates.length&&t.length){this._trigger("c+
learDate");this.element.change()}this.fill();return this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,i="<tr>";if(this.o.calendarWeeks){i+='<th class="cw">&#160;</th>'}while(t<this.o.weekStart+7){i+='<th class="dow';if(e.inArray(t,t+
his.o.daysOfWeekDisabled)!==-1)i+=" disabled";i+='">'+g[this.o.language].daysMin[t++%7]+"</th>"}i+="</tr>";this.picker.find(".datepicker-days thead").append(i)}},fillMonths:function(){var e=this._utc_to_local(this.viewDate);var t="";var i;for(var n=0;n<1+
2;n++){i=e&&e.getMonth()===n?" focused":"";t+='<span class="month'+i+'">'+g[this.o.language].monthsShort[n]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(t){if(!t||!t.length)delete this.range;else this.range=e.map(t,funct+
ion(e){return e.valueOf()});this.fill()},getClassNames:function(t){var i=[],o=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a=n();if(t.getUTCFullYear()<o||t.getUTCFullYear()===o&&t.getUTCMonth()<s){i.push("old")}else if(t.getUTCFullYear()>+
o||t.getUTCFullYear()===o&&t.getUTCMonth()>s){i.push("new")}if(this.focusDate&&t.valueOf()===this.focusDate.valueOf())i.push("focused");if(this.o.todayHighlight&&r(t,a)){i.push("today")}if(this.dates.contains(t)!==-1)i.push("active");if(!this.dateWithinR+
ange(t)){i.push("disabled")}if(this.dateIsDisabled(t)){i.push("disabled","disabled-date")}if(e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1){i.push("highlighted")}if(this.range){if(t>this.range[0]&&t<this.range[this.range.length-1]){i.push("r+
ange")}if(e.inArray(t.valueOf(),this.range)!==-1){i.push("selected")}if(t.valueOf()===this.range[0]){i.push("range-start")}if(t.valueOf()===this.range[this.range.length-1]){i.push("range-end")}}return i},_fill_yearsView:function(i,n,r,o,s,a,l){var u="";v+
ar h=r/10;var c=this.picker.find(i);var d=Math.floor(o/r)*r;var f=d+h*9;var p=Math.floor(this.viewDate.getFullYear()/h)*h;var m=e.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/h)*h});var g,v,_;for(var y=d-h;y<=f+h;y+=h){g=[n];v=null;if(+
y===d-h){g.push("old")}else if(y===f+h){g.push("new")}if(e.inArray(y,m)!==-1){g.push("active")}if(y<s||y>a){g.push("disabled")}if(y===p){g.push("focused")}if(l!==e.noop){_=l(new Date(y,0,1));if(_===t){_={}}else if(typeof _==="boolean"){_={enabled:_}}else+
 if(typeof _==="string"){_={classes:_}}if(_.enabled===false){g.push("disabled")}if(_.classes){g=g.concat(_.classes.split(/\s+/))}if(_.tooltip){v=_.tooltip}}u+='<span class="'+g.join(" ")+'"'+(v?' title="'+v+'"':"")+">"+y+"</span>"}c.find(".datepicker-swi+
tch").text(d+"-"+f);c.find("td").html(u)},fill:function(){var r=new Date(this.viewDate),o=r.getUTCFullYear(),s=r.getUTCMonth(),a=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,l=this.o.startDate!==-Infinity?this.o.startDate.getU+
TCMonth():-Infinity,u=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,h=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=g[this.o.language].today||g["en"].today||"",d=g[this.o.language].clear||g["en"].clear||"",f=g[thi+
s.o.language].titleFormat||g["en"].titleFormat,p=n(),m=(this.o.todayBtn===true||this.o.todayBtn==="linked")&&p>=this.o.startDate&&p<=this.o.endDate&&!this.weekOfDateIsDisabled(p),_,y;if(isNaN(o)||isNaN(s))return;this.picker.find(".datepicker-days .datepi+
cker-switch").text(v.formatDate(r,f,this.o.language));this.picker.find("tfoot .today").text(c).css("display",m?"table-cell":"none");this.picker.find("tfoot .clear").text(d).css("display",this.o.clearBtn===true?"table-cell":"none");this.picker.find("thead+
 .datepicker-title").text(this.o.title).css("display",typeof this.o.title==="string"&&this.o.title!==""?"table-cell":"none");this.updateNavArrows();this.fillMonths();var w=i(o,s,0),b=w.getUTCDate();w.setUTCDate(b-(w.getUTCDay()-this.o.weekStart+7)%7);var+
 x=new Date(w);if(w.getUTCFullYear()<100){x.setUTCFullYear(w.getUTCFullYear())}x.setUTCDate(x.getUTCDate()+42);x=x.valueOf();var L=[];var k,E;while(w.valueOf()<x){k=w.getUTCDay();if(k===this.o.weekStart){L.push("<tr>");if(this.o.calendarWeeks){var T=new +
Date(+w+(this.o.weekStart-k-7)%7*864e5),C=new Date(Number(T)+(7+4-T.getUTCDay())%7*864e5),D=new Date(Number(D=i(C.getUTCFullYear(),0,1))+(7+4-D.getUTCDay())%7*864e5),S=(C-D)/864e5/7+1;L.push('<td class="cw">'+S+"</td>")}}E=this.getClassNames(w);E.push("d+
ay");var M=w.getUTCDate();if(this.o.beforeShowDay!==e.noop){y=this.o.beforeShowDay(this._utc_to_local(w));if(y===t)y={};else if(typeof y==="boolean")y={enabled:y};else if(typeof y==="string")y={classes:y};if(y.enabled===false)E.push("disabled");if(y.clas+
ses)E=E.concat(y.classes.split(/\s+/));if(y.tooltip)_=y.tooltip;if(y.content)M=y.content}if(e.isFunction(e.uniqueSort)){E=e.uniqueSort(E)}else{E=e.unique(E)}L.push('<td class="'+E.join(" ")+'"'+(_?' title="'+_+'"':"")+' data-date="'+w.getTime().toString(+
)+'">'+M+"</td>");_=null;if(k===this.o.weekEnd){L.push("</tr>")}w.setUTCDate(w.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(L.join(""));var P=g[this.o.language].monthsTitle||g["en"].monthsTitle||"Months";var I=this.picker.find(".datepi+
cker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?P:o).end().find("tbody span").removeClass("active");e.each(this.dates,function(e,t){if(t.getUTCFullYear()===o)I.eq(t.getUTCMonth()).addClass("active")});if(o<a||o>u){I.addClass("disabled"+
)}if(o===a){I.slice(0,l).addClass("disabled")}if(o===u){I.slice(h+1).addClass("disabled")}if(this.o.beforeShowMonth!==e.noop){var N=this;e.each(I,function(i,n){var r=new Date(o,i,1);var s=N.o.beforeShowMonth(r);if(s===t)s={};else if(typeof s==="boolean")+
s={enabled:s};else if(typeof s==="string")s={classes:s};if(s.enabled===false&&!e(n).hasClass("disabled"))e(n).addClass("disabled");if(s.classes)e(n).addClass(s.classes);if(s.tooltip)e(n).prop("title",s.tooltip)})}this._fill_yearsView(".datepicker-years",+
"year",10,o,a,u,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,o,a,u,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,o,a,u,this.o.beforeShowCentury)},updateNavArrows:function(){if(!this.+
_allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth(),n=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,r=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,o=this.o.endDate!+
==Infinity?this.o.endDate.getUTCFullYear():Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,a,l,u=1;switch(this.viewMode){case 4:u*=10;case 3:u*=10;case 2:u*=10;case 1:a=Math.floor(t/u)*u<=n;l=Math.floor(t/u)*u+u>o;break;case 0:+
a=t<=n&&i<=r;l=t>=o&&i>=s;break}this.picker.find(".prev").toggleClass("disabled",a);this.picker.find(".next").toggleClass("disabled",l)},click:function(t){t.preventDefault();t.stopPropagation();var r,o,s,a;r=e(t.target);if(r.hasClass("datepicker-switch")+
&&this.viewMode!==this.o.maxViewMode){this.setViewMode(this.viewMode+1)}if(r.hasClass("today")&&!r.hasClass("day")){this.setViewMode(0);this._setDate(n(),this.o.todayBtn==="linked"?null:"view")}if(r.hasClass("clear")){this.clearDates()}if(!r.hasClass("di+
sabled")){if(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century")){this.viewDate.setUTCDate(1);o=1;if(this.viewMode===1){a=r.parent().find("span").index(r);s=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(a)}else+
{a=0;s=Number(r.text());this.viewDate.setUTCFullYear(s)}this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate);if(this.viewMode===this.o.minViewMode){this._setDate(i(s,a,o))}else{this.setViewMode(this.viewMode-1);this.fill()}}}if(this.picker.is(":vi+
sible")&&this._focused_from){this._focused_from.focus()}delete this._focused_from},dayCellClick:function(t){var i=e(t.currentTarget);var n=i.data("date");var r=new Date(n);if(this.o.updateViewDate){if(r.getUTCFullYear()!==this.viewDate.getUTCFullYear()){+
this._trigger("changeYear",this.viewDate)}if(r.getUTCMonth()!==this.viewDate.getUTCMonth()){this._trigger("changeMonth",this.viewDate)}}this._setDate(r)},navArrowsClick:function(t){var i=e(t.currentTarget);var n=i.hasClass("prev")?-1:1;if(this.viewMode!=+
=0){n*=v.viewModes[this.viewMode].navStep*12}this.viewDate=this.moveMonth(this.viewDate,n);this._trigger(v.viewModes[this.viewMode].e,this.viewDate);this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(!e){this.dates.clear()}if(t!==+
-1){if(this.o.multidate===true||this.o.multidate>1||this.o.toggleActive){this.dates.remove(t)}}else if(this.o.multidate===false){this.dates.clear();this.dates.push(e)}else{this.dates.push(e)}if(typeof this.o.multidate==="number")while(this.dates.length>t+
his.o.multidate)this.dates.remove(0)},_setDate:function(e,t){if(!t||t==="date")this._toggle_multidate(e&&new Date(e));if(!t&&this.o.updateViewDate||t==="view")this.viewDate=e&&new Date(e);this.fill();this.setValue();if(!t||t!=="view"){this._trigger("chan+
geDate")}this.inputField.trigger("change");if(this.o.autoclose&&(!t||t==="date")){this.hide()}},moveDay:function(e,t){var i=new Date(e);i.setUTCDate(e.getUTCDate()+t);return i},moveWeek:function(e,t){return this.moveDay(e,t*7)},moveMonth:function(e,t){if+
(!s(e))return this.o.defaultViewDate;if(!t)return e;var i=new Date(e.valueOf()),n=i.getUTCDate(),r=i.getUTCMonth(),o=Math.abs(t),a,l;t=t>0?1:-1;if(o===1){l=t===-1?function(){return i.getUTCMonth()===r}:function(){return i.getUTCMonth()!==a};a=r+t;i.setUT+
CMonth(a);a=(a+12)%12}else{for(var u=0;u<o;u++)i=this.moveMonth(i,t);a=i.getUTCMonth();i.setUTCDate(n);l=function(){return a!==i.getUTCMonth()}}while(l()){i.setUTCDate(--n);i.setUTCMonth(a)}return i},moveYear:function(e,t){return this.moveMonth(e,t*12)},+
moveAvailableDate:function(e,t,i){do{e=this[i](e,t);if(!this.dateWithinRange(e))return false;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabl+
ed:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return r(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible")){if(e.keyC+
ode===40||e.keyCode===27){this.show();e.stopPropagation()}return}var t=false,i,n,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else this.hide()+
;e.preventDefault();e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;i=e.keyCode===37||e.keyCode===38?-1:1;if(this.viewMode===0){if(e.ctrlKey){n=this.moveAvailableDate(r,i+
,"moveYear");if(n)this._trigger("changeYear",this.viewDate)}else if(e.shiftKey){n=this.moveAvailableDate(r,i,"moveMonth");if(n)this._trigger("changeMonth",this.viewDate)}else if(e.keyCode===37||e.keyCode===39){n=this.moveAvailableDate(r,i,"moveDay")}else+
 if(!this.weekOfDateIsDisabled(r)){n=this.moveAvailableDate(r,i,"moveWeek")}}else if(this.viewMode===1){if(e.keyCode===38||e.keyCode===40){i=i*4}n=this.moveAvailableDate(r,i,"moveMonth")}else if(this.viewMode===2){if(e.keyCode===38||e.keyCode===40){i=i*4+
}n=this.moveAvailableDate(r,i,"moveYear")}if(n){this.focusDate=this.viewDate=n;this.setValue();this.fill();e.preventDefault()}break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;if(this.o.keyboardNavigation){this+
._toggle_multidate(r);t=true}this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){e.preventDefault();e.stopPropagation();if(this.o.autoclose)this.hide()}break;case 9:this.focusDate+
=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(t){if(this.dates.length)this._trigger("changeDate");else this._trigger("clearDate");this.inputField.trigger("change")}},setViewMode:function(e){this.viewMode=e;this.pi+
cker.children("div").hide().filter(".datepicker-"+v.viewModes[this.viewMode].clsName).show();this.updateNavArrows();this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(t,i){e.data(t,"datepicker",this);this.element=e(t);this.inputs=e.+
map(i.inputs,function(e){return e.jquery?e[0]:e});delete i.inputs;this.keepEmptyValues=i.keepEmptyValues;delete i.keepEmptyValues;f.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this));this.pickers=e.map(this.inputs,function(t){return e+
.data(t,"datepicker")});this.updateDates()};u.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(+
this.pickers,function(e,i){i.setRange(t)})},clearDates:function(){e.each(this.pickers,function(e,t){t.clearDates()})},dateUpdated:function(i){if(this.updating)return;this.updating=true;var n=e.data(i.target,"datepicker");if(n===t){return}var r=n.getUTCDa+
te(),o=this.keepEmptyValues,s=e.inArray(i.target,this.inputs),a=s-1,l=s+1,u=this.inputs.length;if(s===-1)return;e.each(this.pickers,function(e,t){if(!t.getUTCDate()&&(t===n||!o))t.setUTCDate(r)});if(r<this.dates[a]){while(a>=0&&r<this.dates[a]){this.pick+
ers[a--].setUTCDate(r)}}else if(r>this.dates[l]){while(l<u&&r>this.dates[l]){this.pickers[l++].setUTCDate(r)}}this.updateDates();delete this.updating},destroy:function(){e.map(this.pickers,function(e){e.destroy()});e(this.inputs).off("changeDate",this.da+
teUpdated);delete this.element.data().datepicker},remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};function h(t,i){var n=e(t).data(),r={},o,s=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new Re+
gExp("^"+i.toLowerCase());function a(e,t){return t.toLowerCase()}for(var l in n)if(i.test(l)){o=l.replace(s,a);r[o]=n[l]}return r}function c(t){var i={};if(!g[t]){t=t.split("-")[0];if(!g[t])return}var n=g[t];e.each(m,function(e,t){if(t in n)i[t]=n[t]});r+
eturn i}var d=e.fn.datepicker;var f=function(i){var n=Array.apply(null,arguments);n.shift();var r;this.each(function(){var t=e(this),o=t.data("datepicker"),s=typeof i==="object"&&i;if(!o){var a=h(this,"date"),d=e.extend({},p,a,s),f=c(d.language),m=e.exte+
nd({},p,f,a,s);if(t.hasClass("input-daterange")||m.inputs){e.extend(m,{inputs:m.inputs||t.find("input").toArray()});o=new u(this,m)}else{o=new l(this,m)}t.data("datepicker",o)}if(typeof i==="string"&&typeof o[i]==="function"){r=o[i].apply(o,n)}});if(r===+
t||r instanceof l||r instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");else return r};e.fn.datepicker=f;var p=e.fn.datepicker.defaults={assumeNearbyYear:false,autoclose+
:false,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:false,clearBtn:false,toggleActive:false,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infini+
ty,forceParse:true,format:"mm/dd/yyyy",keepEmptyValues:false,keyboardNavigation:true,language:"en",minViewMode:0,maxViewMode:4,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlig+
ht:false,updateViewDate:true,weekStart:0,disableTouchKeyboard:false,enableOnReadonly:true,showOnFocus:true,zIndexOffset:10,container:"body",immediateUpdates:false,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:true};var m=e.+
fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=l;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days+
Min:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"T+
oday",clear:"Clear",titleFormat:"MM yyyy"}};var v={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:1+
0},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\+
[-`{-~\t\n\r]+/g,parseFormat:function(e){if(typeof e.toValue==="function"&&typeof e.toDisplay==="function")return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||i.length===0){throw new Error("Invalid +
date format.")}return{separators:t,parts:i}},parseDate:function(i,r,o,s){if(!i)return t;if(i instanceof Date)return i;if(typeof r==="string")r=v.parseFormat(r);if(r.toValue)return r.toValue(i,r,o);var a={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear+
"},u={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},h,c,d,f,p;if(i in u){i=u[i]}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){h=i.match(/([\-+]\d+)([dmwy])/gi);i=new Date;for(f=0;f<h.length;f++){c=h[f].match(/([\-+]\d+)([dmwy])/i);d=Number(c[1]);p+
=a[c[2].toLowerCase()];i=l.prototype[p](i,d)}return l.prototype._zero_utc_time(i)}h=i&&i.match(this.nonpunctuation)||[];function m(e,t){if(t===true)t=10;if(e<100){e+=2e3;if(e>(new Date).getFullYear()+t){e-=100}}return e}var _={},y=["yyyy","yy","M","MM","+
m","mm","d","dd"],w={yyyy:function(e,t){return e.setUTCFullYear(s?m(t,s):t)},m:function(e,t){if(isNaN(e))return e;t-=1;while(t<0)t+=12;t%=12;e.setUTCMonth(t);while(e.getUTCMonth()!==t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setU+
TCDate(t)}},b,x;w["yy"]=w["yyyy"];w["M"]=w["MM"]=w["mm"]=w["m"];w["dd"]=w["d"];i=n();var L=r.parts.slice();if(h.length!==L.length){L=e(L).filter(function(t,i){return e.inArray(i,y)!==-1}).toArray()}function k(){var e=this.slice(0,h[f].length),t=h[f].slic+
e(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(h.length===L.length){var E;for(f=0,E=L.length;f<E;f++){b=parseInt(h[f],10);c=L[f];if(isNaN(b)){switch(c){case"MM":x=e(g[o].months).filter(k);b=e.inArray(x[0],g[o].months)+1;break;case"M":x=e(g[o].+
monthsShort).filter(k);b=e.inArray(x[0],g[o].monthsShort)+1;break}}_[c]=b}var T,C;for(f=0;f<y.length;f++){C=y[f];if(C in _&&!isNaN(_[C])){T=new Date(i);w[C](T,_[C]);if(!isNaN(T))i=T}}}return i},formatDate:function(t,i,n){if(!t)return"";if(typeof i==="str+
ing")i=v.parseFormat(i);if(i.toDisplay)return i.toDisplay(t,i,n);var r={d:t.getUTCDate(),D:g[n].daysShort[t.getUTCDay()],DD:g[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[n].monthsShort[t.getUTCMonth()],MM:g[n].months[t.getUTCMonth()],yy:t.getUTCFullYe+
ar().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d;r.mm=(r.m<10?"0":"")+r.m;t=[];var o=e.extend([],i.separators);for(var s=0,a=i.parts.length;s<=a;s++){if(o.length)t.push(o.shift());t.push(r[i.parts[s]])}return t.join("")},hea+
dTemplate:"<thead>"+"<tr>"+'<th colspan="7" class="datepicker-title"></th>'+"</tr>"+"<tr>"+'<th class="prev">'+p.templates.leftArrow+"</th>"+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next">'+p.templates.rightArrow+"</th>"+"</tr>"+"</t+
head>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:"<tfoot>"+"<tr>"+'<th colspan="7" class="today"></th>'+"</tr>"+"<tr>"+'<th colspan="7" class="clear"></th>'+"</tr>"+"</tfoot>"};v.template='<div class="datepicker">'+'<div c+
lass="datepicker-days">'+'<table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table>"+"</+
div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table>"+"</div>"+'<div class="datepicker-decades">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"<+
/table>"+"</div>"+'<div class="datepicker-centuries">'+'<table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table>"+"</div>"+"</div>";e.fn.datepicker.DPGlobal=v;e.fn.datepicker.noConflict=function(){e.fn.datepicker=d;return t+
his};e.fn.datepicker.version="1.9.0";e.fn.datepicker.deprecated=function(e){var t=window.console;if(t&&t.warn){t.warn("DEPRECATED: "+e)}};e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i+
=e(this);if(i.data("datepicker"))return;t.preventDefault();f.call(i,"show")});e(function(){f.call(e('[data-provide="datepicker-inline"]'))})})});class gt extends Ve{static get selector(){return'.question input[type="date"]:not([readonly])'}static conditi+
on(){const e=/GT-P31[0-9]{2}.+AppleWebKit\/534\.30/;return!a.touch||!a.inputTypes.date||e.test(navigator.userAgent)}_init(){this.settings=this.props.appearances.includes("year")?{format:"yyyy",startView:"decade",minViewMode:"years"}:this.props.appearance+
s.includes("month-year")?{format:"yyyy-mm",startView:"year",minViewMode:"months"}:{format:"yyyy-mm-dd",startView:"month",minViewMode:"days"};this.$fakeDateI=this._createFakeDateInput(this.settings.format);this._setChangeHandler(this.$fakeDateI);this._set+
FocusHandler(this.$fakeDateI);this._setResetHandler(this.$fakeDateI);this.$fakeDateI.datepicker({format:this.settings.format,autoclose:true,todayHighlight:true,startView:this.settings.startView,minViewMode:this.settings.minViewMode,forceParse:false});thi+
s.value=this.element.value}_createFakeDateInput(e){const t=i(this.element);const n=i(`<div class="widget date"><input class="ignore input-small" type="text" placeholder="${e}" /></div>`).append(this.resetButtonHtml);const r=n.find("input");t.hide().after+
(n);return r}_setChangeHandler(e){const t=this.settings;e.on("change paste",i=>{let n="";let r=i.type==="paste"?v(i):this.value;if(r.length>0){if(p(r)&&t.format!=="yyyy"){n=""}else{r=this._toActualDate(r);n=z.date.convert(r)}}if(n===""||this.originalInpu+
tValue!==n){if(i.type==="paste"){i.stopImmediatePropagation()}this.originalInputValue=n;this.element.blur()}e.val(this._toDisplayDate(n)).datepicker("update");return false})}_setResetHandler(e){e.next(".btn-reset").on("click",()=>{if(this.originalInputVa+
lue){this.value=""}})}_setFocusHandler(e){i(this.element).on("applyfocus",()=>{e[0].focus()})}_toActualDate(e=""){e=e.trim();return e&&this.settings.format==="yyyy"&&e.length<5?`${e}-01-01`:e&&this.settings.format==="yyyy-mm"&&e.length<8?`${e}-01`:e}_toD+
isplayDate(e=""){e=e.trim();return e&&this.settings.format==="yyyy"?e.substring(0,4):this.settings.format==="yyyy-mm"?e.substring(0,7):e}update(){this.value=this.element.value}get displayedValue(){return this.question.querySelector(".widget input").value+
}get value(){return this._toActualDate(this.displayedValue)}set value(e){this.$fakeDateI.datepicker("setDate",this._toDisplayDate(e))}}class vt extends Ve{static get selector(){return'.question input[type="date"]'}static condition(e){return!C.has(e,"Date+
pickerExtended")&&!a.touch}_init(){this.element.type="text";this.element.classList.add("mask-date")}}class _t extends Ve{static get selector(){return'.or-appearance-month-year input[type="date"]'}static condition(e){return!C.has(e,"DatepickerExtended")&&+
a.touch}_init(){if(a.inputTypes.month){this.element.classList.add("hide");const e=document.createRange().createContextualFragment('<input class="ignore widget datepicker-mobile" type="month"/>');this.element.after(e);this.widgetInput=this.question.queryS+
elector("input.widget");this.value=this.originalInputValue;this.widgetInput.addEventListener("change",()=>{this.originalInputValue=this.value})}}get value(){return this.widgetInput.value?`${this.widgetInput.value}-01`:""}set value(e){const t=e?e.substrin+
g(0,e.lastIndexOf("-")):"";this.widgetInput.value=t}update(){this.value=this.originalInputValue}}                                                                                                                                                              
/*!                                                                                                                                                                                                                                                            
	 * Timepicker                                                                                                                                                                                                                                                 
	 *                                                                                                                                                                                                                                                            
	 * Forked from https://github.com/jdewit/bootstrap-timepicker:&nbsp;                                                                                                                                                                                          
	 *&nbsp;                                                                                                                                                                                                                                                      
	 * Copyright 2013 Joris de Wit and timepicker contributors                                                                                                                                                                                                    
	 *                                                                                                                                                                                                                                                            
	 * Contributors https://github.com/jdewit/bootstrap-timepicker/graphs/contributors                                                                                                                                                                            
	 * Contributors https://github.com/enketo/timepicker-basic/graphs/contributors                                                                                                                                                                                
	 *                                                                                                                                                                                                                                                            
	 * For the full copyright and license information, please view the LICENSE                                                                                                                                                                                    
	 * file that was distributed with this source code.                                                                                                                                                                                                           
	 */                                                                                                                                                                                                                                                           
/*!                                                                                                                                                                                                                                                            
	 * Timepicker                                                                                                                                                                                                                                                 
	 *                                                                                                                                                                                                                                                            
	 * Forked from https://github.com/jdewit/bootstrap-timepicker:&nbsp;                                                                                                                                                                                          
	 *&nbsp;                                                                                                                                                                                                                                                      
	 * Copyright 2013 Joris de Wit and timepicker contributors                                                                                                                                                                                                    
	 *                                                                                                                                                                                                                                                            
	 * Contributors https://github.com/jdewit/bootstrap-timepicker/graphs/contributors                                                                                                                                                                            
	 * Contributors https://github.com/enketo/timepicker-basic/graphs/contributors                                                                                                                                                                                
	 *                                                                                                                                                                                                                                                            
	 * For the full copyright and license information, please view the LICENSE                                                                                                                                                                                    
	 * file that was distributed with this source code.                                                                                                                                                                                                           
	 */                                                                                                                                                                                                                                                           
((e,t,i)=>{const n=function(t,i){this.widget="";this.$element=e(t);this.defaultTime=i.defaultTime;this.disableFocus=i.disableFocus;this.disableMousewheel=i.disableMousewheel;this.isOpen=i.isOpen;this.minuteStep=i.minuteStep;this.orientation=i.orientation+
;this.secondStep=i.secondStep;this.snapToStep=i.snapToStep;this.showInputs=i.showInputs;this.showMeridian=i.showMeridian;this.meridianNotation=i.meridianNotation;this.showSeconds=i.showSeconds;this.template=i.template;this.appendWidgetTo=i.appendWidgetTo+
;this.showWidgetOnAddonClick=i.showWidgetOnAddonClick;this.icons=i.icons;this.maxHours=i.maxHours;this.explicitMode=i.explicitMode;this.handleDocumentClick=(e=>{const t=e.data.scope;if(!(t.$element.parent().find(e.target).length||t.$widget.is(e.target)||+
t.$widget.find(e.target).length)){t.hideWidget()}});this._init()};n.prototype={constructor:n,_init(){const t=this;if(this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("timepicker"))){this.$eleme+
nt.parent(".input-group.timepicker").find(".input-group-addon").on({"click.timepicker":e.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.time+
picker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})}else{if(this.template){this.$element.on({"focus.timepicker":e.proxy(this.showWidg+
et,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})}else{this.$element.on({"focus.timepicker":e.proxy(this.highlightU+
nit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})}}if(th+
is.template!==false){this.$widget=e(this.getTemplate()).on("click",e.proxy(this.widgetClick,this))}else{this.$widget=false}if(this.showInputs&&this.$widget!==false){this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(th+
is).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t),"keyup.timepicker":e.proxy(t.widgetKeyup,t)})})}this.setDefaultTime(this.defaultTime)},blurElement(){this.highlightedUnit=null;this.updateFromElementVal()},clear(){this.hour="";this.minute="";+
this.second="";this.meridian="";this.$element.val("")},decrementHour(){if(this.hour===""){this.hour=this.getCurrentHour();this.incrementHour()}if(this.showMeridian){if(this.hour===1){this.hour=12}else if(this.hour===12){this.hour--;return this.toggleMeri+
dian()}else if(this.hour===0){this.hour=11;return this.toggleMeridian()}else{this.hour--}}else{if(this.hour<=0){this.hour=this.maxHours-1}else{this.hour--}}},decrementMinute(e){let t;if(this.minute===""){this.minute=this.getCurrentMinute();this.increment+
Minute()}if(e){t=this.minute-e}else{t=this.minute-this.minuteStep}if(t<0){this.decrementHour();this.minute=t+60}else{this.minute=t}},decrementSecond(){const e=this.second-this.secondStep;if(e<0){this.decrementMinute(true);this.second=e+60}else{this.secon+
d=e}},elementKeydown(e){switch(e.which){case 9:if(e.shiftKey){if(this.highlightedUnit==="hour"){this.hideWidget();break}this.highlightPrevUnit()}else if(this.showMeridian&&this.highlightedUnit==="meridian"||this.showSeconds&&this.highlightedUnit==="secon+
d"||!this.showMeridian&&!this.showSeconds&&this.highlightedUnit==="minute"){this.hideWidget();break}else{this.highlightNextUnit()}e.preventDefault();this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:e.preventDefault();th+
is.highlightPrevUnit();this.updateFromElementVal();break;case 38:e.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this+
.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}this.update();break;case 39:e.preventDefault();this.highlightNextUnit();this.updateFromElementVal();break;case 40:e.preventDefault();switc+
h(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this+
.highlightMeridian();break}this.update();break}},getCursorPosition(){const e=this.$element.get(0);if("selectionStart"in e){return e.selectionStart}else if(i.selection){e.focus();const t=i.selection.createRange(),n=i.selection.createRange().text.length;t.+
moveStart("character",-e.value.length);return t.text.length-n}},getMeridianLength(){const e=i.createElement("span");e.textContent=this.meridianNotation.am;e.style.position="absolute";i.querySelector("body").appendChild(e);const t=e.scrollWidth;e.textCont+
ent=this.meridianNotation.pm;const n=e.scrollWidth;e.remove();return t>n?t:n},getTemplate(){let e,t,i,n,r,o;if(this.showInputs){const e=this.getMeridianLength()>26?`style="width: ${this.getMeridianLength()+24}px"`:"";t=`<input type="text" class="timepick+
er-hour" ${e}/>`;i=`<input type="text" class="timepicker-minute" ${e}/>`;n=`<input type="text" class="timepicker-second" ${e}/>`;r=`<input type="text" class="timepicker-meridian"${e}/>`}else{t='<span class="timepicker-hour"></span>';i='<span class="timep+
icker-minute"></span>';n='<span class="timepicker-second"></span>';r='<span class="timepicker-meridian"></span>'}o=`<table><tr><td><a href="#" data-action="incrementHour"><span class="${this.icons.up}"></span></a></td><td class="separator">&nbsp;</td><td+
><a href="#" data-action="incrementMinute"><span class="${this.icons.up}"></span></a></td>${this.showSeconds?`<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="${this.icons.up}"></span></a></td>`:""}${this.showMe+
ridian?`<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="${this.icons.up}"></span></a></td>`:""}</tr><tr><td>${t}</td> <td class="separator">:</td><td>${i}</td> ${this.showSeconds?`<td cla+
ss="separator">:</td><td>${n}</td>`:""}${this.showMeridian?`<td class="separator">&nbsp;</td><td>${r}</td>`:""}</tr><tr><td><a href="#" data-action="decrementHour"><span class="${this.icons.down}"></span></a></td><td class="separator"></td><td><a href="#+
" data-action="decrementMinute"><span class="${this.icons.down}"></span></a></td>${this.showSeconds?`<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="${this.icons.down}"></span></a></td>`:""}${this.showMeridian?+
`<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="${this.icons.down}"></span></a></td>`:""}</tr></table>`;switch(this.template){case"dropdown":e=`<div class="timepicker-widget dropdown-menu">${o}</div>`;break}ret+
urn e},getTime(){if(this.hour===""){return""}return`${this.hour.toString().length===1?`0${this.hour}`:this.hour}:${this.minute.toString().length===1?`0${this.minute}`:this.minute}${this.showSeconds?`:${this.second.toString().length===1?`0${this.second}`:+
this.second}`:""}${this.showMeridian?` ${this.meridian}`:""}`},hideWidget(){if(this.isOpen===false){return}this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meri+
dian}});this.$widget.removeClass("open");e(i).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick);this.isOpen=false;this.$widget.detach()},highlightUnit(){this.position=this.getCursorPosition();if(this.position>=0&&this.position<=2)+
{this.highlightHour()}else if(this.position>=3&&this.position<=5){this.highlightMinute()}else if(this.position>=6&&this.position<=8){if(this.showSeconds){this.highlightSecond()}else{this.highlightMeridian()}}else if(this.position>=9&&this.position<=11){t+
his.highlightMeridian()}},highlightNextUnit(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":if(this.showSeconds){this.highlightSecond()}else if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}brea+
k;case"second":if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}break;case"meridian":this.highlightHour();break}},highlightPrevUnit(){switch(this.highlightedUnit){case"hour":if(this.showMeridian){this.highlightMeridian()}else if(t+
his.showSeconds){this.highlightSecond()}else{this.highlightMinute()}break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}break}},hig+
hlightHour(){const e=this.$element.get(0),t=this;this.highlightedUnit="hour";if(e.setSelectionRange){setTimeout(()=>{if(t.hour<10){e.setSelectionRange(0,1)}else{e.setSelectionRange(0,2)}},0)}},highlightMinute(){const e=this.$element.get(0),t=this;this.hi+
ghlightedUnit="minute";if(e.setSelectionRange){setTimeout(()=>{if(t.hour<10){e.setSelectionRange(2,4)}else{e.setSelectionRange(3,5)}},0)}},highlightSecond(){const e=this.$element.get(0),t=this;this.highlightedUnit="second";if(e.setSelectionRange){setTime+
out(()=>{if(t.hour<10){e.setSelectionRange(5,7)}else{e.setSelectionRange(6,8)}},0)}},highlightMeridian(){const e=this.$element.get(0),t=this;this.highlightedUnit="meridian";if(e.setSelectionRange){if(this.showSeconds){setTimeout(()=>{if(t.hour<10){e.setS+
electionRange(8,10)}else{e.setSelectionRange(9,11)}},0)}else{setTimeout(()=>{if(t.hour<10){e.setSelectionRange(5,7)}else{e.setSelectionRange(6,8)}},0)}}},getCurrentHour(){const e=(new Date).getHours();return this.showMeridian?e%12:e},getCurrentMinute(){r+
eturn(new Date).getMinutes()},incrementHour(){if(this.hour===""){this.hour=this.getCurrentHour();this.decrementHour()}if(this.showMeridian){if(this.hour===11){this.hour++;return this.toggleMeridian()}else if(this.hour===12){this.hour=0}}if(this.hour===th+
is.maxHours-1){this.hour=0;return}this.hour++},incrementMinute(e){let t;if(this.minute===""){this.minute=this.getCurrentMinute();this.decrementMinute()}if(e){t=this.minute+e}else{t=this.minute+this.minuteStep-this.minute%this.minuteStep}if(t>59){this.inc+
rementHour();this.minute=t-60}else{this.minute=t}},incrementSecond(){const e=this.second+this.secondStep-this.second%this.secondStep;if(e>59){this.incrementMinute(true);this.second=e-60}else{this.second=e}},mousewheel(t){if(this.disableMousewheel){return+
}t.preventDefault();t.stopPropagation();const i=t.originalEvent.wheelDelta||-t.originalEvent.detail;let n=null;if(t.type==="mousewheel"){n=t.originalEvent.wheelDelta*-1}else if(t.type==="DOMMouseScroll"){n=40*t.originalEvent.detail}if(n){t.preventDefault+
();e(this).scrollTop(n+e(this).scrollTop())}switch(this.highlightedUnit){case"minute":if(i>0){this.incrementMinute()}else{this.decrementMinute()}this.highlightMinute();break;case"second":if(i>0){this.incrementSecond()}else{this.decrementSecond()}this.hig+
hlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break;default:if(i>0){this.incrementHour()}else{this.decrementHour()}this.highlightHour();break}return false},changeToNearestStep(e,t){if(e%t===0){return e}if(Math.round(e+
%t/t)){return(e+(t-e%t))%60}else{return e-e%t}},place(){if(this.isInline){return}const i=this.$widget.outerWidth(),n=this.$widget.outerHeight(),r=10,o=e(t).width(),s=e(t).height(),a=e(t).scrollTop();const l=parseInt(this.$element.parents().filter(functio+
n(){return e(this).css("z-index")!=="auto"}).first().css("z-index"),10)+10;const u=this.component?this.component.parent().offset():this.$element.offset();const h=this.component?this.component.outerHeight(true):this.$element.outerHeight(false);const c=thi+
s.component?this.component.outerWidth(true):this.$element.outerWidth(false);let d=u.left,f=u.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");if(this.orientation.x!=="auto"){thi+
s.$widget.addClass(`timepicker-orient-${this.orientation.x}`);if(this.orientation.x==="right"){d-=i-c}}else{this.$widget.addClass("timepicker-orient-left");if(u.left<0){d-=u.left-r}else if(u.left+i>o){d=o-i-r}}let p=this.orientation.y,m,g;if(p==="auto"){+
m=-a+u.top-n;g=a+s-(u.top+h+n);if(Math.max(m,g)===g){p="top"}else{p="bottom"}}this.$widget.addClass(`timepicker-orient-${p}`);if(p==="top"){f+=h}else{f-=n+parseInt(this.$widget.css("padding-top"),10)}this.$widget.css({top:f,left:d,zIndex:l})},remove(){e(+
"document").off(".timepicker");if(this.$widget){this.$widget.remove()}delete this.$element.data().timepicker},setDefaultTime(e){if(!this.$element.val()){if(e==="current"){const e=new Date;let t=e.getHours();let i=e.getMinutes();let n=e.getSeconds();let r+
=this.meridianNotation.am;if(n!==0){n=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep;if(n===60){i+=1;n=0}}if(i!==0){i=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep;if(i===60){t+=1;i=0}}if(this.showMeridian){if(t===0){t=12}else if(t+
>=12){if(t>12){t=t-12}r=this.meridianNotation.pm}else{r=this.meridianNotation.am}}this.hour=t;this.minute=i;this.second=n;this.meridian=r;this.update()}else if(e===false){this.hour=0;this.minute=0;this.second=0;this.meridian=this.meridianNotation.am}else+
{this.setTime(e)}}else{this.updateFromElementVal()}},setTime(e,t){if(!e){this.clear();return}let i,n,r,o,s,a;if(typeof e==="object"&&e.getMonth){r=e.getHours();o=e.getMinutes();s=e.getSeconds();if(this.showMeridian){a=this.meridianNotation.am;if(r>12){a=+
this.meridianNotation.pm;r=r%12}if(r===12){a=this.meridianNotation.pm}}}else{i=(/a/i.test(e)?1:0)+(/p/i.test(e)?2:0);if(i>2){this.clear();return}n=e.replace(/[^0-9:]/g,"").split(":");r=n[0]?n[0].toString():n.toString();if(this.explicitMode&&r.length>2&&r+
.length%2!==0){this.clear();return}o=n[1]?n[1].toString():"";s=n[2]?n[2].toString():"";if(r.length>4){s=r.slice(-2);r=r.slice(0,-2)}if(r.length>2){o=r.slice(-2);r=r.slice(0,-2)}if(o.length>2){s=o.slice(-2);o=o.slice(0,-2)}r=parseInt(r,10);o=parseInt(o,10+
);s=parseInt(s,10);if(isNaN(r)){r=0}if(isNaN(o)){o=0}if(isNaN(s)){s=0}if(s>59){s=59}if(o>59){o=59}if(r>=this.maxHours){r=this.maxHours-1}if(this.showMeridian){if(r>12){i=2;r-=12}if(!i){i=1}if(r===0){r=12}a=i===1?this.meridianNotation.am:this.meridianNota+
tion.pm}else if(r<12&&i===2){r+=12}else{if(r>=this.maxHours){r=this.maxHours-1}else if(r<0||r===12&&i===1){r=0}}}this.hour=r;if(this.snapToStep){this.minute=this.changeToNearestStep(o,this.minuteStep);this.second=this.changeToNearestStep(s,this.secondSte+
p)}else{this.minute=o;this.second=s}this.meridian=a;this.update(t)},showWidget(){if(this.isOpen){return}if(this.$element.is(":disabled")){return}this.setTime(this.$element.val());this.updateWidget();this.$widget.appendTo(this.appendWidgetTo);e(i).on("mou+
sedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick);this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.place();if(this+
.disableFocus){this.$element.blur()}if(this.hour===""){if(this.defaultTime){this.setDefaultTime(this.defaultTime)}}if(this.isOpen===false){this.$widget.addClass("open")}this.isOpen=true},toggleMeridian(){this.meridian=this.meridian===this.meridianNotatio+
n.am?this.meridianNotation.pm:this.meridianNotation.am},update(e){this.updateElement();if(!e){this.updateWidget()}this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,merid+
ian:this.meridian}})},updateElement(){this.$element.val(this.getTime());this.$element[0].dispatchEvent(te.Change())},updateFromElementVal(){this.setTime(this.$element.val())},updateWidget(){if(this.$widget===false){return}const e=this.hour,t=this.minute.+
toString().length===1?`0${this.minute}`:this.minute,i=this.second.toString().length===1?`0${this.second}`:this.second;if(this.showInputs){this.$widget.find("input.timepicker-hour").val(e);this.$widget.find("input.timepicker-minute").val(t);if(this.showSe+
conds){this.$widget.find("input.timepicker-second").val(i)}if(this.showMeridian){this.$widget.find("input.timepicker-meridian").val(this.meridian)}}else{this.$widget.find("span.timepicker-hour").text(e);this.$widget.find("span.timepicker-minute").text(t)+
;if(this.showSeconds){this.$widget.find("span.timepicker-second").text(i)}if(this.showMeridian){this.$widget.find("span.timepicker-meridian").text(this.meridian)}}},updateFromWidgetInputs(){if(this.$widget===false){return}const e=`${this.$widget.find("in+
put.timepicker-hour").val()}:${this.$widget.find("input.timepicker-minute").val()}${this.showSeconds?`:${this.$widget.find("input.timepicker-second").val()}`:""}${this.showMeridian?this.$widget.find("input.timepicker-meridian").val():""}`;this.setTime(e,+
true)},widgetClick(t){t.stopPropagation();t.preventDefault();const i=e(t.target),n=i.closest("a").data("action");if(n){this[n]()}this.update();if(i.is("input")){i.get(0).setSelectionRange(0,2)}},widgetKeydown(t){const i=e(t.target),n=i.attr("class").repl+
ace("timepicker-","");switch(t.which){case 9:if(t.shiftKey){if(n==="hour"){return this.hideWidget()}}else if(this.showMeridian&&n==="meridian"||this.showSeconds&&n==="second"||!this.showMeridian&&!this.showSeconds&&n==="minute"){return this.hideWidget()}+
break;case 27:this.hideWidget();break;case 38:t.preventDefault();switch(n){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian();break}this.setTime(t+
his.getTime());i.get(0).setSelectionRange(0,2);break;case 40:t.preventDefault();switch(n){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian();break+
}this.setTime(this.getTime());i.get(0).setSelectionRange(0,2);break}},widgetKeyup(e){if(e.which===65||e.which===77||e.which===80||e.which===46||e.which===8||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105){this.updateFromWidgetInputs()}}};e.fn.timepi+
cker=function(t){const i=Array(...arguments);i.shift();return this.each(function(){const r=e(this);let o=r.data("timepicker");const s=typeof t==="object"&&t;if(!o){r.data("timepicker",o=new n(this,e.extend({},e.fn.timepicker.defaults,s,e(this).data())))}+
if(typeof t==="string"){o[t](...i)}})};e.fn.timepicker.defaults={defaultTime:"current",disableFocus:false,disableMousewheel:false,isOpen:false,minuteStep:15,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:false,showSeconds:false,showInputs:true,+
showMeridian:true,meridianNotation:{am:"AM",pm:"PM"},template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:true,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:false};e.fn.timepicker+
.Constructor=n;e(i).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(t){const i=e(this);if(i.data("timepicker")){return}t.preventDefault();i.timepicker()})})(i,window,document);class yt extends Ve{static get+
 selector(){return'.question input[type="time"]:not([readonly])'}static condition(){return!a.touch||!a.inputTypes.time}_init(){const e=document.createRange().createContextualFragment(`<div class="widget timepicker">\n                <input class="ignore +
timepicker-default" type="text" placeholder="hh:mm" />\n            </div>`);e.querySelector(".widget").append(this.resetButtonHtml);this.element.classList.add("hide");this.element.after(e);const t=this.question.querySelector(".widget > .btn-reset");this+
.fakeTimeI=this.question.querySelector(".widget > input");i(this.fakeTimeI).timepicker({showMeridian:$.hour12,meridianNotation:{am:$.amNotation,pm:$.pmNotation}});this.value=this.originalInputValue;this.fakeTimeI.addEventListener("change",()=>{const e=$.+
hour12?z.time.convertMeridian(this.value):this.value;this.originalInputValue=e});t.addEventListener("click",this._reset.bind(this));this.element.addEventListener(te.ApplyFocus().type,()=>{this.fakeTimeI.focus()})}_reset(){const e=this.originalInputValue?+
te.Change():null;if(e||this.value){this.value="";this.fakeTimeI.dispatchEvent(e)}}update(){if(this.element.value!==this.value){i(this.element).next(".widget").find("input").timepicker("setTime",this.element.value)}}get value(){return this.fakeTimeI.value+
}set value(e){i(this.fakeTimeI).timepicker("setTime",e)}}class wt extends Ve{static get selector(){return'.question input[type="datetime"]:not([readonly])'}static condition(){const e=/GT-P31[0-9]{2}.+AppleWebKit\/534\.30/;return!a.touch||!a.inputTypes.da+
tetime||e.test(navigator.userAgent)}_init(){this.$fakeDateI=this._createFakeDateInput();this.$fakeTimeI=this._createFakeTimeInput();this.element.classList.add("hide");this.element.after(document.createRange().createContextualFragment('<div class="datetim+
epicker widget" />'));const e=this.question.querySelector(".widget");e.append(this.$fakeDateI[0].closest(".date"));e.append(this.$fakeTimeI[0].closest(".timepicker"));this.$fakeDateI.datepicker({format:"yyyy-mm-dd",autoclose:true,todayHighlight:true,forc+
eParse:false});this.$fakeTimeI.timepicker({showMeridian:$.hour12,meridianNotation:{am:$.amNotation,pm:$.pmNotation}});this.value=this.originalInputValue;this._setFocusHandler(this.$fakeDateI.add(this.$fakeTimeI));this.$fakeDateI.on("change changeDate",()+
=>{if(!z.date.validate(this.$fakeDateI[0].value)){this.$fakeDateI.val("").datepicker("update")}this.originalInputValue=this.value;return false});this.$fakeTimeI.on("change",()=>{this.originalInputValue=this.value;return false});this.question.querySelecto+
r(".btn-reset").addEventListener("click",()=>{const e=this.originalInputValue?"change":"";if(e||this.$fakeDateI.val()||this.$fakeTimeI.val()){this.$fakeDateI.val("").trigger(e).datepicker("update");this.$fakeTimeI.val("").trigger(e)}})}_createFakeDateInp+
ut(){const e=i('<div class="date">'+'<input class="ignore" type="text" placeholder="yyyy-mm-dd"/>'+"</div>");return e.find("input")}_createFakeTimeInput(){const e=i(`<div class="timepicker">\n                    <input class="ignore timepicker-default" t+
ype="text" placeholder="hh:mm"/>\n                </div>`).append(this.resetButtonHtml);return e.find("input")}_setFocusHandler(e){this.element.addEventListener(te.ApplyFocus().type,()=>{e.eq(0).focus()})}update(){const e=i(this.element);const t=e.val().+
length>0?new Date(e.val()).toISOLocalString():"";if(t!==this.value){const e=t.split("T");const i=e[0];const n=e[1]&&e[1].length>4?e[1].substring(0,5):"";this.$fakeDateI.datepicker("setDate",i);this.$fakeTimeI.timepicker("setTime",n)}}get value(){if(this.+
$fakeDateI.val().length>0&&this.$fakeTimeI.val().length>3){const e=this.$fakeDateI.val().split("-");const t=$.hour12?z.time.convertMeridian(this.$fakeTimeI.val()):this.$fakeTimeI.val();const i=t.split(":");return new Date(e[0],e[1]-1,e[2],i[0],i[1]).toIS+
OLocalString()}else{return""}}set value(e){const t=e?new Date(e).toISOLocalString():"";const i=t.split("T");const n=i[0];const r=i[1]&&i[1].length>4?i[1].substring(0,5):"";this.$fakeDateI.datepicker("setDate",n);this.$fakeTimeI.timepicker("setTime",r)}}c+
lass bt extends Ve{static get selector(){return".or-appearance-no-buttons"}_init(){this.element.querySelectorAll(".option-label").forEach(function(e){if(b(e,"img, video, audio").length>0){e.style.display="none"}})}}const xt={};xt.init=(()=>{return Promis+
e.resolve(true)});xt.isWaitingForPermissions=(()=>{return false});xt.getFileUrl=(e=>{return new Promise((t,i)=>{let n;if(!e){t(null)}else if(typeof e==="string"){i("no!")}else if(typeof e==="object"){if(xt.isTooLarge(e)){n=new Error(Se("filepicker.toolar+
geerror",{maxSize:xt.getMaxSizeReadable()}));i(n)}else{t(URL.createObjectURL(e))}}else{i(new Error("Unknown error occurred"))}})});xt.getObjectUrl=(e=>xt.getFileUrl(e).then(e=>{if(/https?:\/\//.test(e)){return xt.urlToBlob(e).then(URL.createObjectURL)}re+
turn e}));xt.urlToBlob=(e=>{const t=new XMLHttpRequest;return new Promise(i=>{t.open("GET",e);t.responseType="blob";t.onload=(()=>{i(t.response)});t.send()})});xt.getCurrentFiles=(()=>{const e=[];i("form.or").find('input[type="file"]:not(.ignore), input[+
type="text"][data-drawing="true"]').each(function(){let t;let n=null;let r=null;if(this.type==="file"){n=this.files[0]}else if(this.value){r=i(this).closest(".question")[0].querySelector(".draw-widget canvas");if(r){n=g(r.toDataURL());n.name=this.value}}+
if(n&&n.name){t=d(n,this.dataset.filenamePostfix);if(this.dataset.resized&&this.dataset.resizedFileUrl){xt.urlToBlob(this.dataset.resizedFileUrl).then(i=>{n=new Blob([i],{type:n.type});n.name=t;e.push(n)})}else{n=new Blob([n],{type:n.type});n.name=t;e.pu+
sh(n)}}});return e});xt.isTooLarge=(()=>{return false});xt.getMaxSizeReadable=(()=>{return`${5}MB`});function Lt(e,t,i){this.message=e;this.translationKey=t;this.translationOptions=i}Lt.prototype=Object.create(Error.prototype);Lt.prototype.name="Translat+
edError";class kt extends Ve{static get selector(){return'.question:not(.or-appearance-draw):not(.or-appearance-signature):not(.or-appearance-annotate) input[type="file"]'}_init(){const e=this.element.getAttribute("data-loaded-file-name");const t=this;th+
is.element.classList.add("hide");this.question.classList.add("with-media","clearfix");const n=document.createRange().createContextualFragment(`<div class="widget file-picker">\n                    <input class="ignore fake-file-input"/>\n                +
    <div class="file-feedback"></div>\n                    <div class="file-preview"></div>\n                </div>`);n.querySelector("input").after(this.downloadButtonHtml);n.querySelector("input").after(this.resetButtonHtml);this.element.after(n);this.+
disable();const r=this.question.querySelector(".widget");this.feedback=r.querySelector(".file-feedback");this.preview=r.querySelector(".file-preview");this.fakeInput=r.querySelector(".fake-file-input");this.downloadLink=r.querySelector(".btn-download");t+
._setResetButtonListener(r.querySelector(".btn-reset"));t._setFocusListener();this._showFileName(e);if(xt.isWaitingForPermissions()){this._showFeedback(Se("filepicker.waitingForPermissions"),"warning")}this._updatePlaceholder();i(this.element.closest("fo+
rm.or")).on("updateMaxSize",this._updatePlaceholder.bind(this));xt.init().then(()=>{t._showFeedback();t._setChangeListener();if(!t.props.readonly){t.enable()}if(e){xt.getFileUrl(e).then(i=>{t._showPreview(i,t.props.mediaType);t._updateDownloadLink(i,e)})+
.catch(()=>{t._showFeedback(Se("filepicker.notFound",{existing:e}),"error")})}}).catch(e=>{t._showFeedback(e,"error")})}_updatePlaceholder(){this.fakeInput.setAttribute("placeholder",Se("filepicker.placeholder",{maxSize:xt.getMaxSizeReadable()||"?MB"}))}+
_setResetButtonListener(e){if(e){e.addEventListener("click",()=>{if(this.originalInputValue||this.value){Ae.confirm(Se("filepicker.resetWarning",{item:Se("filepicker.file")})).then(e=>{if(e){this.originalInputValue=""}}).catch(()=>{})}})}}_setChangeListe+
ner(){const e=this;i(this.element).on("click",t=>{if(e.props.readonly||t.namespace!=="propagate"){e.fakeInput.focus();t.stopImmediatePropagation();return false}}).on("change.propagate",t=>{let n;let r;let o;const s=this.element.getAttribute("data-loaded-+
file-name");const a=new Date;if(t.namespace==="propagate"){i(this.element).trigger("change.file");return false}else{t.stopImmediatePropagation()}n=t.target.files[0];o=`-${a.getHours()}_${a.getMinutes()}_${a.getSeconds()}`;t.target.dataset.filenamePostfix+
=o;r=d(n,o);this._resizeFile(n,e.props.mediaType).then(e=>{t.target.dataset.resized=true;n=e}).catch(()=>{}).finally(()=>{xt.getFileUrl(n,r).then(n=>{if(t.target.dataset.resized){t.target.dataset.resizedFileUrl=n}e._showPreview(n,e.props.mediaType);e._sh+
owFeedback();e._showFileName(r);if(s&&s!==r){e.element.removeAttribute("data-loaded-file-name")}e._updateDownloadLink(n,r);i(e.element).trigger("change.propagate")}).catch(t=>{i(e.element).val("").trigger("change.propagate");e._showFileName("");e._showPr+
eview(null);e._showFeedback(t,"error");e._updateDownloadLink("","")})})});this.fakeInput.addEventListener("click",t=>{t.preventDefault();if(this.props.readonly||this.originalInputValue||this.value){this.fakeInput.focus();t.stopImmediatePropagation();retu+
rn}i(e.element).trigger("click.propagate")});this.fakeInput.addEventListener("change",e=>{e.preventDefault();e.stopPropagation()})}_setFocusListener(){this.element.addEventListener(te.ApplyFocus().type,()=>{this.fakeInput.focus()})}_showFileName(e){this.+
value=e;this.fakeInput.readOnly=!!e}_showFeedback(e,t){const i=e instanceof Lt?Se(e.translationKey,e.translationOptions):e instanceof Error?e.message:e||"";t=t||"";this.feedback.textContent=i;this.feedback.setAttribute("class",`file-feedback ${t}`)}_show+
Preview(e,t){let i;T(this.preview);switch(t){case"image/*":i="<img />";break;case"audio/*":i='<audio controls="controls"/>';break;case"video/*":i='<video controls="controls"/>';break}if(e&&i){const t=document.createRange().createContextualFragment(i);t.q+
uerySelector("*").src=e;this.preview.append(t)}}_resizeFile(e,t){return new Promise((i,n)=>{if(t!=="image/*"){n(e)}if(this.props&&this.props.maxPixels){y(e,this.props.maxPixels).then(e=>{i(e)}).catch(()=>{n(e)})}else{n(e)}})}_updateDownloadLink(e,t){_(th+
is.downloadLink,e,t)}disable(){this.element.disabled=true;this.question.querySelector(".btn-reset").disabled=true}enable(){this.element.disabled=false;this.question.querySelector(".btn-reset").disabled=false}get props(){const e=this._props;e.mediaType=th+
is.element.getAttribute("accept");if(this.element.dataset.maxPixels&&p(this.element.dataset.maxPixels)){e.maxPixels=parseInt(this.element.dataset.maxPixels,10)}return e}get value(){return this.fakeInput.value}set value(e){this.fakeInput.value=e}}         
/*!                                                                                                                                                                                                                                                            
	 * Signature Pad v2.3.2                                                                                                                                                                                                                                       
	 * https://github.com/szimek/signature_pad                                                                                                                                                                                                                    
	 *                                                                                                                                                                                                                                                            
	 * Copyright 2017 Szymon Nowak                                                                                                                                                                                                                                
	 * Released under the MIT license                                                                                                                                                                                                                             
	 *                                                                                                                                                                                                                                                            
	 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:                                                                                                                                                        
	 * http://corner.squareup.com/2012/07/smoother-signatures.html                                                                                                                                                                                                
	 *                                                                                                                                                                                                                                                            
	 * Implementation of interpolation using cubic Bézier curves is taken from:                                                                                                                                                                                   
	 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript                                                                                                                              
	 *                                                                                                                                                                                                                                                            
	 * Algorithm for approximated length of a Bézier curve is taken from:                                                                                                                                                                                         
	 * http://www.lemoda.net/maths/bezier-length/index.html                                                                                                                                                                                                       
	 *                                                                                                                                                                                                                                                            
	 */function Et(e,t,i){this.x=e;this.y=t;this.time=i||(new Date).getTime()}Et.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};Et.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2+
)+Math.pow(this.y-e.y,2))};Et.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function Tt(e,t,i,n){this.startPoint=e;this.control1=t;this.control2=i;this.endPoint=n}Tt.prototype.length=function(){var e=10;var t=0;var i+
=void 0;var n=void 0;for(var r=0;r<=e;r+=1){var o=r/e;var s=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x);var a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var l=s-i;var u=a-+
n;t+=Math.sqrt(l*l+u*u)}i=s;n=a}return t};Tt.prototype._point=function(e,t,i,n,r){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*n*(1-e)*e*e+r*e*e*e};function Ct(e,t,i){var n,r,o;var s=null;var a=0;if(!i)i={};var l=function t(){a=i.leading===false?0:Date+
.now();s=null;o=e.apply(n,r);if(!s)n=r=null};return function(){var u=Date.now();if(!a&&i.leading===false)a=u;var h=t-(u-a);n=this;r=arguments;if(h<=0||h>t){if(s){clearTimeout(s);s=null}a=u;o=e.apply(n,r);if(!s)n=r=null}else if(!s&&i.trailing!==false){s=s+
etTimeout(l,h)}return o}}function Dt(e,t){var i=this;var n=t||{};this.velocityFilterWeight=n.velocityFilterWeight||.7;this.minWidth=n.minWidth||.5;this.maxWidth=n.maxWidth||2.5;this.throttle="throttle"in n?n.throttle:16;this.minDistance="minDistance"in n+
?n.minDistance:5;if(this.throttle){this._strokeMoveUpdate=Ct(Dt.prototype._strokeUpdate,this.throttle)}else{this._strokeMoveUpdate=Dt.prototype._strokeUpdate}this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2};this.penColor=n.penCol+
or||"black";this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)";this.onBegin=n.onBegin;this.onEnd=n.onEnd;this._canvas=e;this._ctx=e.getContext("2d");this.clear();this._handleMouseDown=function(e){if(e.which===1){i._mouseButtonDown=true;i._strokeBegi+
n(e)}};this._handleMouseMove=function(e){if(i._mouseButtonDown){i._strokeMoveUpdate(e)}};this._handleMouseUp=function(e){if(e.which===1&&i._mouseButtonDown){i._mouseButtonDown=false;i._strokeEnd(e)}};this._handleTouchStart=function(e){if(e.targetTouches.+
length===1){var t=e.changedTouches[0];i._strokeBegin(t)}};this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];i._strokeMoveUpdate(t)};this._handleTouchEnd=function(e){var t=e.target===i._canvas;if(t){e.preventDefault();i._stroke+
End(e)}};this.on()}Dt.prototype.clear=function(){var e=this._ctx;var t=this._canvas;e.fillStyle=this.backgroundColor;e.clearRect(0,0,t.width,t.height);e.fillRect(0,0,t.width,t.height);this._data=[];this._reset();this._isEmpty=true};Dt.prototype.fromDataU+
RL=function(e){var t=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=new Image;var r=i.ratio||window.devicePixelRatio||1;var o=i.width||this._canvas.width/r;var s=i.height||this._canvas.height/r;this._reset();n.src=e;n.onloa+
d=function(){t._ctx.drawImage(n,0,0,o,s)};this._isEmpty=false};Dt.prototype.toDataURL=function(e){var t;switch(e){case"image/svg+xml":return this._toSVG();default:for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++){n[r-1]=arguments[r]}return(t=thi+
s._canvas).toDataURL.apply(t,[e].concat(n))}};Dt.prototype.on=function(){this._handleMouseEvents();this._handleTouchEvents()};Dt.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown);this._canvas.removeEventListener+
("mousemove",this._handleMouseMove);document.removeEventListener("mouseup",this._handleMouseUp);this._canvas.removeEventListener("touchstart",this._handleTouchStart);this._canvas.removeEventListener("touchmove",this._handleTouchMove);this._canvas.removeE+
ventListener("touchend",this._handleTouchEnd)};Dt.prototype.isEmpty=function(){return this._isEmpty};Dt.prototype._strokeBegin=function(e){this._data.push([]);this._reset();this._strokeUpdate(e);if(typeof this.onBegin==="function"){this.onBegin(e)}};Dt.p+
rototype._strokeUpdate=function(e){var t=e.clientX;var i=e.clientY;var n=this._createPoint(t,i);var r=this._data[this._data.length-1];var o=r&&r[r.length-1];var s=o&&n.distanceTo(o)<this.minDistance;if(!(o&&s)){var a=this._addPoint(n),l=a.curve,u=a.width+
s;if(l&&u){this._drawCurve(l,u.start,u.end)}this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time,color:this.penColor})}};Dt.prototype._strokeEnd=function(e){var t=this.points.length>2;var i=this.points[0];if(!t&&i){this._drawDot(i)}if(i){var n=t+
his._data[this._data.length-1];var r=n[n.length-1];if(!i.equals(r)){n.push({x:i.x,y:i.y,time:i.time,color:this.penColor})}}if(typeof this.onEnd==="function"){this.onEnd(e)}};Dt.prototype._handleMouseEvents=function(){this._mouseButtonDown=false;this._can+
vas.addEventListener("mousedown",this._handleMouseDown);this._canvas.addEventListener("mousemove",this._handleMouseMove);document.addEventListener("mouseup",this._handleMouseUp)};Dt.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction+
="none";this._canvas.style.touchAction="none";this._canvas.addEventListener("touchstart",this._handleTouchStart);this._canvas.addEventListener("touchmove",this._handleTouchMove);this._canvas.addEventListener("touchend",this._handleTouchEnd)};Dt.prototype+
._reset=function(){this.points=[];this._lastVelocity=0;this._lastWidth=(this.minWidth+this.maxWidth)/2;this._ctx.fillStyle=this.penColor};Dt.prototype._createPoint=function(e,t,i){var n=this._canvas.getBoundingClientRect();return new Et(e-n.left,t-n.top,+
i||(new Date).getTime())};Dt.prototype._addPoint=function(e){var t=this.points;var i=void 0;t.push(e);if(t.length>2){if(t.length===3)t.unshift(t[0]);i=this._calculateCurveControlPoints(t[0],t[1],t[2]);var n=i.c2;i=this._calculateCurveControlPoints(t[1],t+
[2],t[3]);var r=i.c1;var o=new Tt(t[1],n,r,t[2]);var s=this._calculateCurveWidths(o);t.shift();return{curve:o,widths:s}}return{}};Dt.prototype._calculateCurveControlPoints=function(e,t,i){var n=e.x-t.x;var r=e.y-t.y;var o=t.x-i.x;var s=t.y-i.y;var a={x:(+
e.x+t.x)/2,y:(e.y+t.y)/2};var l={x:(t.x+i.x)/2,y:(t.y+i.y)/2};var u=Math.sqrt(n*n+r*r);var h=Math.sqrt(o*o+s*s);var c=a.x-l.x;var d=a.y-l.y;var f=h/(u+h);var p={x:l.x+c*f,y:l.y+d*f};var m=t.x-p.x;var g=t.y-p.y;return{c1:new Et(a.x+m,a.y+g),c2:new Et(l.x++
m,l.y+g)}};Dt.prototype._calculateCurveWidths=function(e){var t=e.startPoint;var i=e.endPoint;var n={start:null,end:null};var r=this.velocityFilterWeight*i.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity;var o=this._strokeWidth(r);n.star+
t=this._lastWidth;n.end=o;this._lastVelocity=r;this._lastWidth=o;return n};Dt.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};Dt.prototype._drawPoint=function(e,t,i){var n=this._ctx;n.moveTo(e,t);n.arc(e,t,i,0,2*Mat+
h.PI,false);this._isEmpty=false};Dt.prototype._drawCurve=function(e,t,i){var n=this._ctx;var r=i-t;var o=Math.floor(e.length());n.beginPath();for(var s=0;s<o;s+=1){var a=s/o;var l=a*a;var u=l*a;var h=1-a;var c=h*h;var d=c*h;var f=d*e.startPoint.x;f+=3*c*+
a*e.control1.x;f+=3*h*l*e.control2.x;f+=u*e.endPoint.x;var p=d*e.startPoint.y;p+=3*c*a*e.control1.y;p+=3*h*l*e.control2.y;p+=u*e.endPoint.y;var m=t+u*r;this._drawPoint(f,p,m)}n.closePath();n.fill()};Dt.prototype._drawDot=function(e){var t=this._ctx;var i+
=typeof this.dotSize==="function"?this.dotSize():this.dotSize;t.beginPath();this._drawPoint(e.x,e.y,i);t.closePath();t.fill()};Dt.prototype._fromData=function(e,t,i){for(var n=0;n<e.length;n+=1){var r=e[n];if(r.length>1){for(var o=0;o<r.length;o+=1){var +
s=r[o];var a=new Et(s.x,s.y,s.time);var l=s.color;if(o===0){this.penColor=l;this._reset();this._addPoint(a)}else if(o!==r.length-1){var u=this._addPoint(a),h=u.curve,c=u.widths;if(h&&c){t(h,c,l)}}}}else{this._reset();var d=r[0];i(d)}}};Dt.prototype._toSV+
G=function(){var e=this;var t=this._data;var i=this._canvas;var n=Math.max(window.devicePixelRatio||1,1);var r=0;var o=0;var s=i.width/n;var a=i.height/n;var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",i.w+
idth);l.setAttributeNS(null,"height",i.height);this._fromData(t,function(e,t,i){var n=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var r="M "+e.startPoint.x.toFixed(3)+","+e.sta+
rtPoint.y.toFixed(3)+" "+("C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" ")+(e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" ")+(e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3));n.setAttribute("d",r);n.setAttribute("stroke-width",(t+
.end*2.25).toFixed(3));n.setAttribute("stroke",i);n.setAttribute("fill","none");n.setAttribute("stroke-linecap","round");l.appendChild(n)}},function(t){var i=document.createElement("circle");var n=typeof e.dotSize==="function"?e.dotSize():e.dotSize;i.set+
Attribute("r",n);i.setAttribute("cx",t.x);i.setAttribute("cy",t.y);i.setAttribute("fill",t.color);l.appendChild(i)});var u="data:image/svg+xml;base64,";var h="<svg"+' xmlns="http://www.w3.org/2000/svg"'+' xmlns:xlink="http://www.w3.org/1999/xlink"'+(' vi+
ewBox="'+r+" "+o+" "+s+" "+a+'"')+(' width="'+s+'"')+(' height="'+a+'"')+">";var c=l.innerHTML;if(c===undefined){var d=document.createElement("dummy");var f=l.childNodes;d.innerHTML="";for(var p=0;p<f.length;p+=1){d.appendChild(f[p].cloneNode(true))}c=d.+
innerHTML}var m="</svg>";var g=h+c+m;return u+btoa(g)};Dt.prototype.fromData=function(e){var t=this;this.clear();this._fromData(e,function(e,i){return t._drawCurve(e,i.start,i.end)},function(e){return t._drawDot(e)});this._data=e};Dt.prototype.toData=fun+
ction(){return this._data};const St=1500;Dt.prototype.fromObjectURL=function(e,t){const i=new Image;t=t||{};const n=t.ratio||window.devicePixelRatio||1;const r=t.width||this._canvas.width/n;const o=t.height||this._canvas.height/n;const s=this;this._reset+
();return new Promise(t=>{i.src=e;i.onload=(()=>{const n=i.width;const a=i.height;const l=r/n;const u=o/a;let h;let c;if(l<1||u<1){const e=Math.min(l,u);h=(r-n*e)/2;c=(o-a*e)/2;s._ctx.drawImage(i,0,0,n,a,h,c,n*e,a*e)}else{h=(r-n)/2;c=(o-a)/2;s._ctx.drawI+
mage(i,h,c,n,a)}t(e)});s._isEmpty=false})};Dt.prototype.updateData=function(e){const t=this;this._fromData(e,(e,i)=>{t._drawCurve(e,i.start,i.end)},e=>{t._drawDot(e)});this._data=e};class Mt extends Ve{static get selector(){return'.or-appearance-draw inp+
ut[data-type-xml="binary"][accept^="image"], .or-appearance-signature input[data-type-xml="binary"][accept^="image"], .or-appearance-annotate input[data-type-xml="binary"][accept^="image"]'}_init(){let e;const t=this;const n=this.element.dataset.loadedFi+
leName;this.element.type="text";this.element.dataset.drawing=true;this.element.after(this._getMarkup());const r=this.question;r.classList.add(`or-${this.props.type}-initialized`);this.$widget=i(r.querySelector(".widget"));e=this.$widget[0].querySelector(+
".draw-widget__body__canvas");this._handleResize(e);this._resizeCanvas(e);if(this.props.load){this._handleFiles(n)}e.addEventListener("blur",this._forceUpdate.bind(this));this.initialize=xt.init().then(()=>{t.pad=new Dt(e,{onEnd:()=>{clearTimeout(t._upda+
teWithDelay);t._updateWithDelay=setTimeout(t._updateValue.bind(t),St)},penColor:t.props.colors[0]||"black"});t.pad.off();if(n){t.element.value=n;return t._loadFileIntoPad(n).then(t._updateDownloadLink.bind(t))}return true});this.disable();this.initialize+
.then(()=>{t.$widget.find(".btn-reset").on("click",t._reset.bind(t)).end().find(".draw-widget__colorpicker").on("click",".current",function(){i(this).parent().toggleClass("reveal")}).on("click","[data-color]:not(.current)",function(){i(this).siblings().r+
emoveClass("current").end().addClass("current").parent().removeClass("reveal");t.pad.penColor=this.dataset.color}).end().find(".draw-widget__undo").on("click",()=>{const e=t.pad.toData();t.pad.clear();const i=t.$widget[0].querySelector("input[type=file]"+
);const n=i&&i.files[0]?i.files[0]:t.element.dataset.loadedFileName;t._loadFileIntoPad(n).then(()=>{t.pad.updateData(e.slice(0,-1));t._updateValue();t.pad.penColor=t.$widget.find(".draw-widget__colorpicker .current")[0].dataset.color})}).end().find(".sho+
w-canvas-btn").on("click",()=>{t.$widget.addClass("full-screen");t._resizeCanvas(e);t.enable();return false}).end().find(".hide-canvas-btn").on("click",()=>{t.$widget.removeClass("full-screen");t.pad.off();t._forceUpdate();t._resizeCanvas(e);return false+
}).click();i(e).on("canvasreload",()=>{if(t.cache){t.pad.fromObjectURL(t.cache).then(t._updateValue.bind(t))}});t.enable()}).catch(e=>{t._showFeedback(e.message)});i(this.element).on("applyfocus",()=>{e.focus()}).closest('[role="page"]').on("pageflip",()+
=>{t._resizeCanvas(e)})}_forceUpdate(){if(this._updateWithDelay){clearTimeout(this._updateWithDelay);this._updateValue()}}_handleFiles(e){this._updatePlaceholder();this.$widget.closest("form.or").on("updateMaxSize",this._updatePlaceholder.bind(this));con+
st t=this;const n=this.$widget.find("input[type=file]");const r=this.$widget.find(".fake-file-input");this._showFileName(e);n.on("click",e=>{if(t.props.readonly||e.namespace!=="propagate"){t.$fakeInput.focus();e.stopImmediatePropagation();return false}})+
.on("change",function(){const e=this.files[0];if(e){if(!xt.isTooLarge(e)){t.pad.clear();t._loadFileIntoPad(this.files[0]).then(()=>{t._updateValue.call(t);t._showFileName(e.name);t.enable()})}else{t._showFeedback(Se("filepicker.toolargeerror",{maxSize:xt+
.getMaxSizeReadable()}))}}else{t._showFileName(null)}});r.on("click",function(e){if(t.props.readonly||n[0].value||r[0].value){i(this).focus();e.stopImmediatePropagation();return false}e.preventDefault();n.trigger("click.propagate")}).on("change",()=>fals+
e)}_showFileName(e){this.$widget.find(".fake-file-input").val(e).prop("readonly",!!e)}_updatePlaceholder(){this.$widget.find(".fake-file-input").attr("placeholder",Se("filepicker.placeholder",{maxSize:xt.getMaxSizeReadable()||"?MB"}))}_getMarkup(){const +
e=this.props.load?`<input type="file" class="ignore draw-widget__load"${this.props.capture!==null?` capture="${this.props.capture}"`:""} accept="${this.props.accept}"/><div class="widget file-picker"><input class="ignore fake-file-input"/><div class="fil+
e-feedback"></div></div>`:"";const t=this.props.touch?'<button type="button" class="show-canvas-btn btn btn-default">Draw/Sign</button>'+'<button type="button" class="hide-canvas-btn btn btn-default"><span class="icon icon-arrow-left"> </span></button>':+
"";const i=document.createRange().createContextualFragment(`<div class="widget draw-widget">\n                <div class="draw-widget__body">\n                    ${t}\n                    ${e}\n                    <canvas class="draw-widget__body__canva+
s noSwipe disabled" tabindex="0"></canvas>\n                    <div class="draw-widget__colorpicker"></div>\n                    ${this.props.type==="signature"?"":'<button class="btn-icon-only draw-widget__undo" aria-label="undo" type=button><i class="+
icon icon-undo"> </i></button>'}\n                </div>\n                <div class="draw-widget__footer">\n                    <div class="draw-widget__feedback"></div>\n                </div>\n            </div>`);i.querySelector(".draw-widget__footer+
").prepend(this.downloadButtonHtml);i.querySelector(".draw-widget__footer").prepend(this.resetButtonHtml);const n=i.querySelector(".draw-widget__colorpicker");this.props.colors.forEach((e,t)=>{const i=t===0?" current":"";const r=document.createRange().cr+
eateContextualFragment(`<div class="${i}"data-color="${e}" style="background: ${e};" />`);n.append(r)});return i}_updateValue(){const e=new Date;const t=`-${e.getHours()}_${e.getMinutes()}_${e.getSeconds()}`;this.element.dataset.filenamePostfix=t;this.or+
iginalInputValue=this.props.filename;this.value=this.pad.toDataURL();this._updateDownloadLink(this.value)}_reset(){const e=this;if(this.element.value){const t=this.props.type==="signature"?Se("drawwidget.signature"):this.props.type==="drawing"?Se("drawwi+
dget.drawing"):Se("drawwidget.annotation");Ae.confirm(Se("filepicker.resetWarning",{item:t})).then(t=>{if(!t){return}e.pad.clear();e.cache=null;delete e.element.dataset.loadedFileName;e.element.dataset.filenamePostfix="";i(e.element).val("").trigger("cha+
nge");e.$widget.find("input[type=file]").val("").trigger("change");e._updateDownloadLink("");e.disable();e.enable()})}}_loadFileIntoPad(e){const t=this;if(!e){return Promise.resolve("")}return xt.getObjectUrl(e).then(t.pad.fromObjectURL.bind(t.pad)).then+
(e=>{t.cache=e;return e}).catch(()=>{t._showFeedback("File could not be loaded (leave unchanged if already submitted and you want to preserve it).","error")})}_showFeedback(e){e=e||"";this.$widget.find(".draw-widget__feedback").text(e)}_updateDownloadLin+
k(e){if(e&&e.indexOf("data:")===0){e=URL.createObjectURL(g(e))}const t=e?d({name:this.element.value},this.element.dataset.filenamePostfix):"";_(this.$widget.find(".btn-download")[0],e,t)}_handleResize(e){const t=this;i(window).on("resize",()=>{t._forceUp+
date();t._resizeCanvas(e)})}_resizeCanvas(e){if(e.offsetWidth>0){const t=Math.max(window.devicePixelRatio||1,1);e.width=e.offsetWidth*t;e.height=e.offsetHeight*t;e.getContext("2d").scale(t,t);i(e).trigger("canvasreload")}}disable(){const e=this;const t=t+
his.$widget.find(".draw-widget__body__canvas")[0];this.initialize.then(()=>{e.pad.off();t.classList.add("disabled");e.$widget.find(".btn-reset").prop("disabled",true)})}enable(){const e=this;const t=this.$widget.find(".draw-widget__body__canvas")[0];cons+
t i=this.props.touch&&!this.$widget.is(".full-screen");const n=this.props.load&&!this.element.value;this.initialize.then(()=>{if(!e.props.readonly&&!n&&!i){e.pad.on();t.classList.remove("disabled");e.$widget.find(".btn-reset").prop("disabled",false)}e._r+
esizeCanvas(t)})}update(){if(this.originalInputValue===""){this._reset()}}get props(){const e=this._props;e.type=e.appearances.includes("draw")?"drawing":e.appearances.includes("signature")?"signature":"annotation";e.filename=`${e.type}.png`;e.load=e.typ+
e==="annotation";e.colors=e.type==="signature"?[]:["black","lightblue","blue","red","orange","cyan","yellow","lightgreen","green","pink","purple","lightgray","darkgray"];e.touch=a.touch;e.accept=this.element.getAttribute("accept");e.capture=this.element.+
getAttribute("capture");return e}get value(){return this.cache||""}set value(e){this.cache=e}}class Pt{}class It extends Ve{static get selector(){return".question.or-appearance-columns"}_init(){this.element.querySelectorAll(".option-wrapper").forEach(e=>+
{const t=3;let i=t-e.querySelectorAll("label").length%t;while(i<t&&i>0){e.append(document.createRange().createContextualFragment('<label class="filler"></label>'));i--}this.question.classList.add("or-columns-initialized")})}}class Nt extends Ve{static ge+
t selector(){return'.or-appearance-distress input[type="number"], .question:not(.or-appearance-analog-scale) > input[type="number"][min][max][step]'}_init(){const e=this;const t=document.createRange().createContextualFragment(this._getHtmlStr());t.queryS+
elector(".range-widget__scale__end").before(this.resetButtonHtml);t.querySelector(".range-widget__scale__start").textContent=this.props.min;t.querySelector(".range-widget__scale__end").textContent=this.props.max;this.element.after(t);this.element.classLi+
st.add("hide");this.element.addEventListener("applyfocus",()=>{this.range.focus()});this.widget=this.question.querySelector(".widget");this.range=this.widget.querySelector("input");this.current=this.widget.querySelector(".range-widget__current");if(this.+
props.readonly){this.disable()}this.range.addEventListener("change",()=>{if(this.originalInputValue!==this.value){this.current.textContent=this.value;this.originalInputValue=this.value;this._updateMercury((this.value-this.props.min)/(e.props.max-e.props.+
min))}});this.widget.querySelector("input.empty").addEventListener("click",()=>{this.range.classList.remove("empty");this.range.dispatchEvent(te.Change())});this.widget.querySelector("input.empty").addEventListener("touchstart",()=>{this.range.classList.+
remove("empty");this.range.dispatchEvent(te.Change())});this.widget.querySelector(".btn-reset").addEventListener("click",this._reset.bind(this));this.update();let i=this.props.ticks?Math.ceil(Math.abs((this.props.max-this.props.min)/this.props.step)):1;l+
et n=Math.ceil(i/this.props.maxTicks);while(i%n&&n<i){n++}i=i/n;this.widget.querySelector(".range-widget__ticks").append(document.createRange().createContextualFragment(new Array(i).fill("<span></span>").join("")))}_getHtmlStr(){const e=`<div class="widg+
et range-widget">\n                <div class="range-widget__wrap">\n                    <div class="range-widget__current"></div>\n                    <div class="range-widget__bg"></div>\n                    <div class="range-widget__ticks"></div>\n   +
                 <div class="range-widget__scale">\n                        <span class="range-widget__scale__start"></span>\n                        ${this._stepsBetweenHtmlStr(this.props)}\n                        <span class="range-widget__scale__end"+
></span>\n                    </div>\n                    <div class="range-widget__bulb">\n                        <div class="range-widget__bulb__inner"></div>\n                        <div class="range-widget__bulb__mercury"></div>\n                  +
  </div>\n                </div>\n                <input type="range" class="ignore empty" min="${this.props.min}" max="${this.props.max}" step="${this.props.step}"/>\n            </div>`;return e}_updateMercury(e){const t=this.widget.querySelector(".ran+
ge-widget__ticks").clientHeight;const i=this.widget.querySelector(".range-widget__bulb").clientHeight;this.widget.querySelector(".range-widget__bulb__mercury").style.height=`${e*t+.5*i}px`}_stepsBetweenHtmlStr(e){let t="";if(e.distress){const i=(e.max-e.+
min)/e.step;if(i<=10&&(e.max-e.min)%e.step===0){for(let i=e.min+e.step;i<e.max;i+=e.step){t+=`<span class="range-widget__scale__between">${i}</span>`}}}return t}_reset(){this.current.textContent="";this._updateMercury(0);this.value="";this.originalInputV+
alue=""}disable(){this.widget.querySelectorAll("input, button").forEach(e=>e.disabled=true)}enable(){this.widget.querySelectorAll("input, button").forEach(e=>e.disabled=false)}update(){const e=this.element.value;if(p(e)){this.value=e;this.range.dispatchE+
vent(te.Change())}else{this._reset()}}get props(){const e=this._props;const t=p(this.element.getAttribute("min"))?this.element.getAttribute("min"):0;const i=p(this.element.getAttribute("max"))?this.element.getAttribute("max"):10;const n=p(this.element.ge+
tAttribute("step"))?this.element.getAttribute("step"):1;const r=e.appearances.includes("distress");e.min=Number(t);e.max=Number(i);e.step=Number(n);e.vertical=e.appearances.includes("vertical")||r;e.ticks=!e.appearances.includes("no-ticks");e.distress=r;+
e.maxTicks=50;return e}get value(){return this.range.classList.contains("empty")?"":this.range.value}set value(e){this.range.value=e;this.range.classList.toggle("empty",e==="")}}class At extends Nt{static get selector(){return'.or-appearance-analog-scale+
 input[type="number"]'}_init(){super._init();if(this.props.vertical){this.question.classList.add("or-appearance-vertical")}this.question.classList.add("or-analog-scale-initialized");this._renderLabels();this._setResizeListener()}_getHtmlStr(){const e=`<d+
iv class="widget analog-scale-widget">\n                ${super._getHtmlStr()}\n            </div>`;return e}_updateMercury(){}_renderLabels(){const e=document.createRange().createContextualFragment('<div class="label-content widget"></div>');const t=e.q+
uerySelector(".label-content");this.question.querySelectorAll(".question-label, .or-hint, .or-required-msg, .or-constraint-msg").forEach(e=>t.append(e));this.question.prepend(e);this.labelContent=this.question.querySelector(".label-content");this._update+
Labels()}_updateLabels(){if(!this.question.classList.contains("or-analog-scale-initialized")){return}const e=this.labelContent.querySelector(".question-label.active:not(.widget)");const t=e.innerHTML.split(/\|/).map(e=>e.trim());const i=this.labelContent+
.querySelector(".question-label.widget");if(i){i.remove()}const n=document.createRange().createContextualFragment(`<span class="question-label widget active">${t[0]}</span>`);e.after(n);const r=this.widget.querySelector(".max-label");if(r){r.remove()}con+
st o=document.createRange().createContextualFragment(`<div class="max-label">${t[1]}</div>`);this.widget.prepend(o);const s=this.widget.querySelector(".min-label");if(s){s.remove()}const a=document.createRange().createContextualFragment(`<div class="min-+
label">${t[2]}</div>`);this.widget.append(a);const l=this.labelContent.querySelector(".show-value");if(l){l.remove()}if(t[3]){const e=document.createRange().createContextualFragment(`<div class="widget show-value">\n                    <div class="show-v+
alue__box">${t[3]}<span class="show-value__value">${this.value}</span></div>\n                <div>`);this.labelContent.append(e);this.current=this.labelContent.querySelector(".show-value__value")}}_setResizeListener(){if(this.props.vertical){this.questi+
on.addEventListener("pageflip",this._stretchHeight.bind(this))}}_stretchHeight(){this.question.style["min-height"]="auto"}update(){super.update();this._updateLabels()}get props(){const e=this._props;e.touch=a.touch;e.min=p(this.element.getAttribute("min"+
))?this.element.getAttribute("min"):0;e.max=p(this.element.getAttribute("max"))?this.element.getAttribute("max"):100;e.step=p(this.element.getAttribute("step"))?this.element.getAttribute("step"):1;e.vertical=!e.appearances.includes("horizontal");e.ticks=+
!e.appearances.includes("no-ticks");e.maxTicks=10;return e}get value(){return super.value}set value(e){super.value=e}}class Ot extends Ve{static get selector(){return"a.or-big-image"}_init(){this.element.addEventListener("click",e=>{const t=this.element.+
getAttribute("href");const i=this.element.querySelector("img");const n=i.getAttribute("src");this.element.setAttribute("href",n);i.setAttribute("src",t);this.element.classList.toggle("open");e.preventDefault();e.stopPropagation()})}}class Rt extends Ve{s+
tatic get selector(){return'.or-appearance-comment input[type="text"][data-for], .or-appearance-comment textarea[data-for]'}static get helpersRequired(){return["input","pathToAbsolute"]}_init(){this.linkedQuestion=this._getLinkedQuestion(this.element);th+
is.commentQuestion=this.question;if(this.linkedQuestion){this.commentQuestion.classList.add("hide");this.commentQuestion.setAttribute("role","comment");const e=document.createRange().createContextualFragment('<a class="btn-icon-only btn-comment aria-labe+
l="comment" type="button" href="#"><i class="icon"> </i></a>');const t=this.linkedQuestion.querySelectorAll(".question-label");t[t.length-1].after(e);this.commentButton=this.linkedQuestion.querySelector(".btn-comment");this._setCommentButtonState(this.or+
iginalInputValue);this._setCommentButtonHandler();this._setValidationHandler();this._setFocusHandler()}}_getLinkedQuestion(e){const t=this.options.helpers.input.getName(e);const i=this.element.dataset.for.trim();const n=this.options.helpers.pathToAbsolut+
e(i,t);const r=e.closest("form.or, .or-repeat");return this.options.helpers.input.getWrapNode(r.querySelector(`[name="${n}"], [data-name="${n}"]`))}_commentHasError(){return this.commentQuestion.classList.contains("invalid-required")||this.commentQuestio+
n.classList.contains("invalid-constraint")}_setCommentButtonState(e,t){e=typeof e==="string"?e.trim():e;this.commentButton.classList.toggle("empty",!e);this.commentButton.classList.toggle("invalid",!!t)}_setCommentButtonHandler(){this.commentButton.addEv+
entListener("click",e=>{if(this._isCommentModalShown(this.linkedQuestion)){this._hideCommentModal(this.linkedQuestion)}else{this._showCommentModal()}e.preventDefault();e.stopPropagation()})}_setValidationHandler(){this.element.closest("form.or").addEvent+
Listener(te.ValidationComplete().type,()=>{const e=this._commentHasError();const t=this.originalInputValue;this._setCommentButtonState(t,e)})}_setFocusHandler(){i(this.element).on("applyfocus",()=>{if(this.commentButton.matches(":visible")){this.commentB+
utton.click()}else{console.log(`The linked question is not visible. Cannot apply focus to ${this.element.getAttribute("name")}`)}})}_isCommentModalShown(e){return!!e.querySelector(".or-comment-widget")}_showCommentModal(){const e=this.question.cloneNode(+
true);const t=Se("widget.comment.update")||"Update";const n=e.querySelector("input, textarea");e.classList.remove("hide");n.classList.add("ignore");n.removeAttribute("name data-for data-type-xml");const r=document.createRange().createContextualFragment(`+
<section class="widget or-comment-widget">\n                <div class="or-comment-widget__content">\n                    <button class="btn btn-primary or-comment-widget__content__btn-update" type="button">${t}</button>\n                    <button clas+
s="btn-icon-only or-comment-widget__content__btn-close-x" type="button">&times;</button>\n                </div>\n            </section>\n            `);r.querySelector(".or-comment-widget__content").prepend(e);const o=document.createRange().createContex+
tualFragment('<div class="or-comment-widget__overlay"></div>');this.linkedQuestion.prepend(r);this.linkedQuestion.before(o);const s=this.linkedQuestion.previousElementSibling;const a=this.linkedQuestion.querySelector(".or-comment-widget");const l=a.query+
Selector(".or-comment-widget__content__btn-update");const u=a.querySelector(".or-comment-widget__content__btn-close-x");n.focus();a.scrollIntoView(false);l.addEventListener("click",e=>{const t=n.value;this.originalInputValue=t;this.element.dispatchEvent(+
te.Change());const r=this._commentHasError();this._setCommentButtonState(t,r);this._hideCommentModal(this.linkedQuestion);this.options.helpers.input.validate(i(this.linkedQuestion.querySelector("input, select, textarea")));e.preventDefault();e.stopPropag+
ation()});u.addEventListener("click",e=>{this._hideCommentModal(this.linkedQuestion);e.stopPropagation();e.preventDefault()});s.addEventListener("click",e=>{this._hideCommentModal(this.linkedQuestion);e.stopPropagation();e.preventDefault()})}_hideComment+
Modal(e){e.querySelector(".or-comment-widget").remove();const t=e.previousElementSibling;if(t&&t.matches(".or-comment-widget__overlay")){t.remove()}}}class $t extends Ve{static get selector(){return".simple-select.or-appearance-image-map label:first-chil+
d > input"}_init(){const e=this.question.querySelector("img");this.question.classList.add("or-image-map-initialized");if(!e){this._showSvgNotFoundError()}else if(e.getAttribute("src")){return this._addMarkup(e).then(this._addFunctionality.bind(this)).the+
n(()=>this)}else{return new Promise(t=>{e.addEventListener("load",()=>{this._addMarkup(e).then(this._addFunctionality.bind(this));t(this)})})}}_addFunctionality(e){this.svg=e.querySelector("svg");this.tooltip=e.querySelector(".image-map__ui__tooltip");if+
(this.props.readonly){this.disable()}this._setSvgClickHandler();this._setChangeHandler();this._setHoverHandler();this._updateImage()}_addMarkup(e){const t=this;const i=e.getAttribute("src");return fetch(i).then(e=>e.text()).then(e=>(new DOMParser).parseF+
romString(e,"text/xml")).then(e=>{if(t._isSvgDoc(e)){const i=t._removeUnmatchedIds(e.querySelector("svg"));const n=document.createRange().createContextualFragment(`<div class="widget image-map">\n                            <div class="image-map__ui">\n +
                               <span class="image-map__ui__tooltip"></span>\n                            </div>\n                        </div>`);n.querySelector(".widget").append(i);t.question.querySelectorAll("img").forEach(e=>e.remove());t.question.qu+
erySelector(".option-wrapper").before(n);const r=t.question.querySelector(".image-map");const o=r.querySelector("svg");let s={};try{s=o.getBBox()}catch(e){console.error("Could not obtain Boundary Box of SVG element",e)}const a=s.width||o.getAttribute("wi+
dth");const l=s.height||o.getAttribute("height");o.setAttribute("viewBox",[0,0,parseInt(a,10),parseInt(l,10)].join(" "));return r}else{throw"Image is not an SVG doc"}}).catch(this._showSvgNotFoundError.bind(t))}_showSvgNotFoundError(e){console.error(e);c+
onst t=document.createRange().createContextualFragment(`<div class="widget image-map">\n                <div class="image-map__error" data-i18n="imagemap.svgNotFound">${Se("imagemap.svgNotFound")}</div>\n            </div>`);this.question.querySelector("+
.option-wrapper").before(t)}_removeUnmatchedIds(e){e.querySelectorAll("path[id], g[id]").forEach(e=>{if(!this._getInput(e.id)){e.removeAttribute("id")}});return e}_getInput(e){return this.question.querySelector(`input[value="${e}"]`)}_setSvgClickHandler(+
){this.svg.addEventListener("click",e=>{if(!e.target.closest("svg").matches("[or-readonly]")&&e.target.matches("path[id], g[id]")){const t=e.target.id||e.target.closest("g[id]").id;const i=this._getInput(t);if(i){i.checked=!i.checked;i.dispatchEvent(te.C+
hange());i.dispatchEvent(te.FakeFocus())}}})}_setChangeHandler(){this.question.addEventListener("change",this._updateImage.bind(this))}_setHoverHandler(){this.svg.querySelectorAll("path[id], g[id]").forEach(e=>{e.addEventListener("mouseenter",e=>{const t+
=e.target.id||e.target.closest("g[id]").id;const i=b(this._getInput(t),".option-label.active");const n=i&&i.length?i[0].textContent:"";this.tooltip.textContent=n});e.addEventListener("mouseleave",e=>{if(e.target.matches("path[id], g[id]")){this.tooltip.t+
extContent=""}})})}_isSvgDoc(e){return typeof e==="object"&&e.querySelector("svg")}_updateImage(){let e=this.originalInputValue;this.svg.querySelectorAll("path[or-selected], g[or-selected]").forEach(e=>e.removeAttribute("or-selected"));if(typeof e==="str+
ing"){e=[e]}e.forEach(e=>{if(e){this.svg.querySelectorAll(`path#${e},g#${e}`).forEach(e=>e.setAttribute("or-selected",""))}})}disable(){this.svg.setAttribute("or-readonly","")}enable(){this.svg.removeAttribute("or-readonly")}update(){this._updateImage()}+
get value(){return this.originalInputValue}set value(e){this.originalInputValue=e}}                                                                                                                                                                            
/*                                                                                                                                                                                                                                                             
	 * HTML5Sortable package                                                                                                                                                                                                                                      
	 * https://github.com/lukasoppermann/html5sortable                                                                                                                                                                                                            
	 *                                                                                                                                                                                                                                                            
	 * Maintained by Lukas Oppermann <lukas@vea.re>                                                                                                                                                                                                               
	 *                                                                                                                                                                                                                                                            
	 * Released under the MIT license.                                                                                                                                                                                                                            
	 */function zt(e,t,i){if(i===undefined){return e&&e.h5s&&e.h5s.data&&e.h5s.data[t]}else{e.h5s=e.h5s||{};e.h5s.data=e.h5s.data||{};e.h5s.data[t]=i}}function Ft(e){if(e.h5s){delete e.h5s.data}}var qt=function(e,t){if(!(e instanceof NodeList||e instanceof +
HTMLCollection||e instanceof Array)){throw new Error("You must provide a nodeList/HTMLCollection/Array of elements to be filtered.")}if(typeof t!=="string"){return Array.from(e)}return Array.from(e).filter(function(e){return e.nodeType===1&&e.matches(t)}+
)};var Bt=new Map;var Ut=function(){function e(){this._config=new Map;this._placeholder=undefined;this._data=new Map}Object.defineProperty(e.prototype,"config",{get:function(){var e={};this._config.forEach(function(t,i){e[i]=t});return e},set:function(e)+
{if(typeof e!=="object"){throw new Error("You must provide a valid configuration object to the config setter.")}var t=Object.assign({},e);this._config=new Map(Object.entries(t))},enumerable:true,configurable:true});e.prototype.setConfig=function(e,t){if(+
!this._config.has(e)){throw new Error("Trying to set invalid configuration item: "+e)}this._config.set(e,t)};e.prototype.getConfig=function(e){if(!this._config.has(e)){throw new Error("Invalid configuration item requested: "+e)}return this._config.get(e)+
};Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){if(!(e instanceof HTMLElement)&&e!==null){throw new Error("A placeholder must be an html element or null.")}this._placeholder=e},enumerable:true,c+
onfigurable:true});e.prototype.setData=function(e,t){if(typeof e!=="string"){throw new Error("The key must be a string.")}this._data.set(e,t)};e.prototype.getData=function(e){if(typeof e!=="string"){throw new Error("The key must be a string.")}return thi+
s._data.get(e)};e.prototype.deleteData=function(e){if(typeof e!=="string"){throw new Error("The key must be a string.")}return this._data.delete(e)};return e}();var Ht=function(e){if(!(e instanceof HTMLElement)){throw new Error("Please provide a sortable+
 to the store function.")}if(!Bt.has(e)){Bt.set(e,new Ut)}return Bt.get(e)};function Vt(e,t,i){if(e instanceof Array){for(var n=0;n<e.length;++n){Vt(e[n],t,i)}return}e.addEventListener(t,i);Ht(e).setData("event"+t,i)}function jt(e,t){if(e instanceof Arra+
y){for(var i=0;i<e.length;++i){jt(e[i],t)}return}e.removeEventListener(t,Ht(e).getData("event"+t));Ht(e).deleteData("event"+t)}function Zt(e,t,i){if(e instanceof Array){for(var n=0;n<e.length;++n){Zt(e[n],t,i)}return}e.setAttribute(t,i)}function Wt(e,t){+
if(e instanceof Array){for(var i=0;i<e.length;++i){Wt(e[i],t)}return}e.removeAttribute(t)}var Gt=function(e){if(!e.parentElement||e.getClientRects().length===0){throw new Error("target element must be part of the dom")}var t=e.getClientRects()[0];return{+
left:t.left+window.pageXOffset,right:t.right+window.pageXOffset,top:t.top+window.pageYOffset,bottom:t.bottom+window.pageYOffset}};var Yt=function(e,t){if(t===void 0){t=0}var i;return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[+
r]}clearTimeout(i);i=setTimeout(function(){e.apply(void 0,n)},t)}};var Xt=function(e,t){if(!(e instanceof HTMLElement)||!(t instanceof NodeList||t instanceof HTMLCollection||t instanceof Array)){throw new Error("You must provide an element and a list of +
elements.")}return Array.from(t).indexOf(e)};var Kt=function(e){if(!(e instanceof HTMLElement)){throw new Error("Element is not a node element.")}return e.parentNode!==null};var Qt=function(e,t,i){if(!(e instanceof HTMLElement)||!(e.parentElement instanc+
eof HTMLElement)){throw new Error("target and element must be a node")}e.parentElement.insertBefore(t,i==="before"?e:e.nextElementSibling)};var Jt=function(e,t){return Qt(e,t,"before")};var ei=function(e,t){return Qt(e,t,"after")};var ti=function(e,t,i){+
if(t===void 0){t=function(e,t){return e}}if(i===void 0){i=function(e){return e}}if(!(e instanceof HTMLElement)||!e.isSortable===true){throw new Error("You need to provide a sortableContainer to be serialized.")}if(typeof t!=="function"||typeof i!=="funct+
ion"){throw new Error("You need to provide a valid serializer for items and the container.")}var n=zt(e,"opts");var r=n.items;var o=qt(e.children,r);var s=o.map(function(t){return{parent:e,node:t,html:t.outerHTML,index:Xt(t,o)}});var a={node:e,itemCount:+
s.length};return{container:i(a),items:s.map(function(i){return t(i,e)})}};var ii=function(e,t,i){var n;if(i===void 0){i="sortable-placeholder"}if(!(e instanceof HTMLElement)){throw new Error("You must provide a valid element as a sortable.")}if(!(t insta+
nceof HTMLElement)&&t!==undefined){throw new Error("You must provide a valid element as a placeholder or set ot to undefined.")}if(t===undefined){if(["UL","OL"].includes(e.tagName)){t=document.createElement("li")}else if(["TABLE","TBODY"].includes(e.tagN+
ame)){t=document.createElement("tr");t.innerHTML='<td colspan="100"></td>'}else{t=document.createElement("div")}}if(typeof i==="string"){(n=t.classList).add.apply(n,i.split(" "))}return t};var ni=function(e){if(!(e instanceof HTMLElement)){throw new Erro+
r("You must provide a valid dom element")}var t=window.getComputedStyle(e);return["height","padding-top","padding-bottom"].map(function(e){var i=parseInt(t.getPropertyValue(e),10);return isNaN(i)?0:i}).reduce(function(e,t){return e+t})};var ri=function(e+
,t){if(!(e instanceof Array)){throw new Error("You must provide a Array of HTMLElements to be filtered.")}if(typeof t!=="string"){return e}return e.filter(function(e){return e.querySelector(t)instanceof HTMLElement||e.shadowRoot&&e.shadowRoot.querySelect+
or(t)instanceof HTMLElement}).map(function(e){return e.querySelector(t)||e.shadowRoot&&e.shadowRoot.querySelector(t)})};var oi=function(e){return e.composedPath&&e.composedPath()[0]||e.target};var si=function(e,t,i){return{element:e,posX:i.pageX-t.left,p+
osY:i.pageY-t.top}};var ai=function(e,t,i){if(!(e instanceof Event)){throw new Error("setDragImage requires a DragEvent as the first argument.")}if(!(t instanceof HTMLElement)){throw new Error("setDragImage requires the dragged element as the second argu+
ment.")}if(!i){i=si}if(e.dataTransfer&&e.dataTransfer.setDragImage){var n=Gt(t);var r=i(t,n,e);if(!(r.element instanceof HTMLElement)||typeof r.posX!=="number"||typeof r.posY!=="number"){throw new Error("The customDragImage function you provided must ret+
urn and object with the properties element[string], posX[integer], posY[integer].")}e.dataTransfer.effectAllowed="copyMove";e.dataTransfer.setData("text/plain",oi(e).id);e.dataTransfer.setDragImage(r.element,r.posX,r.posY)}};var li=function(e,t){if(e.isS+
ortable===true){var i=Ht(e).getConfig("acceptFrom");if(i!==null&&i!==false&&typeof i!=="string"){throw new Error('HTML5Sortable: Wrong argument, "acceptFrom" must be "null", "false", or a valid selector string.')}if(i!==null){return i!==false&&i.split(",+
").filter(function(e){return e.length>0&&t.matches(e)}).length>0}if(e===t){return true}if(Ht(e).getConfig("connectWith")!==undefined&&Ht(e).getConfig("connectWith")!==null){return Ht(e).getConfig("connectWith")===Ht(t).getConfig("connectWith")}}return fa+
lse};var ui={items:null,connectWith:null,disableIEFix:null,acceptFrom:null,copy:false,placeholder:null,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:false,debounce:0,throttleTime:100,maxItems:0,itemSerializer:undefi+
ned,containerSerializer:undefined,customDragImage:null};function hi(e,t){var i=this;if(t===void 0){t=250}if(typeof e!=="function"){throw new Error("You must provide a function as the first argument for throttle.")}if(typeof t!=="number"){throw new Error(+
"You must provide a number as the second argument for throttle.")}var n=null;return function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}var s=Date.now();if(n===null||s-n>=t){n=s;e.apply(i,r)}}}var ci=function(e,t){if(typeof Ht(e).ge+
tConfig("hoverClass")==="string"){var i=Ht(e).getConfig("hoverClass").split(" ");if(t===true){Vt(e,"mousemove",hi(function(t){if(t.buttons===0){qt(e.children,Ht(e).getConfig("items")).forEach(function(e){var n,r;if(e!==t.target){(n=e.classList).remove.ap+
ply(n,i)}else{(r=e.classList).add.apply(r,i)}})}},Ht(e).getConfig("throttleTime")));Vt(e,"mouseleave",function(){qt(e.children,Ht(e).getConfig("items")).forEach(function(e){var t;(t=e.classList).remove.apply(t,i)})})}else{jt(e,"mousemove");jt(e,"mouselea+
ve")}}};var di;var fi;var pi;var mi;var gi;var vi;var _i;var yi;var wi=function(e){jt(e,"dragstart");jt(e,"dragend");jt(e,"dragover");jt(e,"dragenter");jt(e,"drop");jt(e,"mouseenter");jt(e,"mouseleave")};var bi=function(e,t){var i=e;if(Ht(t).getConfig("c+
opy")===true){i=e.cloneNode(true);Zt(i,"aria-copied","true");e.parentElement.appendChild(i);i.style.display="none";i.oldDisplay=e.style.display}return i};var xi=function(e){Ft(e);Wt(e,"aria-dropeffect")};var Li=function(e){Wt(e,"aria-grabbed");Wt(e,"aria+
-copied");Wt(e,"draggable");Wt(e,"role")};function ki(e,t){if(t.composedPath){return t.composedPath().find(function(e){return e.isSortable})}while(e.isSortable!==true){e=e.parentElement}return e}function Ei(e,t){var i=zt(e,"opts");var n=qt(e.children,i.i+
tems);var r=n.filter(function(e){return e.contains(t)||e.shadowRoot&&e.shadowRoot.contains(t)});return r.length>0?r[0]:t}var Ti=function(e){var t=zt(e,"opts")||{};var i=qt(e.children,t.items);var n=ri(i,t.handle);jt(e,"dragover");jt(e,"dragenter");jt(e,"+
drop");xi(e);jt(n,"mousedown");wi(i);Li(i)};var Ci=function(e){var t=zt(e,"opts");var i=qt(e.children,t.items);var n=ri(i,t.handle);Zt(e,"aria-dropeffect","move");zt(e,"_disabled","false");Zt(n,"draggable","true");if(t.disableIEFix===false){var r=(docume+
nt||window.document).createElement("span");if(typeof r.dragDrop==="function"){Vt(n,"mousedown",function(){if(i.indexOf(this)!==-1){this.dragDrop()}else{var e=this.parentElement;while(i.indexOf(e)===-1){e=e.parentElement}e.dragDrop()}})}}};var Di=function+
(e){var t=zt(e,"opts");var i=qt(e.children,t.items);var n=ri(i,t.handle);Zt(e,"aria-dropeffect","none");zt(e,"_disabled","true");Zt(n,"draggable","false");jt(n,"mousedown")};var Si=function(e){var t=zt(e,"opts");var i=qt(e.children,t.items);var n=ri(i,t.+
handle);zt(e,"_disabled","false");wi(i);jt(n,"mousedown");jt(e,"dragover");jt(e,"dragenter");jt(e,"drop")};function Mi(e,t){var i=String(t);t=t||{};if(typeof e==="string"){e=document.querySelectorAll(e)}if(e instanceof HTMLElement){e=[e]}e=Array.prototyp+
e.slice.call(e);if(/serialize/.test(i)){return e.map(function(e){var t=zt(e,"opts");return ti(e,t.itemSerializer,t.containerSerializer)})}e.forEach(function(e){if(/enable|disable|destroy/.test(i)){return Mi[i](e)}["connectWith","disableIEFix"].forEach(fu+
nction(e){if(t.hasOwnProperty(e)&&t[e]!==null){console.warn('HTML5Sortable: You are using the deprecated configuration "'+e+'". This will be removed in an upcoming version, make sure to migrate to the new options when updating.')}});t=Object.assign({},ui+
,Ht(e).config,t);Ht(e).config=t;zt(e,"opts",t);e.isSortable=true;Si(e);var n=qt(e.children,t.items);var r;if(t.placeholder!==null&&t.placeholder!==undefined){var o=document.createElement(e.tagName);if(t.placeholder instanceof HTMLElement){o.appendChild(t+
.placeholder)}else{o.innerHTML=t.placeholder}r=o.children[0]}Ht(e).placeholder=ii(e,r,t.placeholderClass);zt(e,"items",t.items);if(t.acceptFrom){zt(e,"acceptFrom",t.acceptFrom)}else if(t.connectWith){zt(e,"connectWith",t.connectWith)}Ci(e);Zt(n,"role","o+
ption");Zt(n,"aria-grabbed","false");ci(e,true);Vt(e,"dragstart",function(e){var i=oi(e);if(i.isSortable===true){return}e.stopImmediatePropagation();if(t.handle&&!i.matches(t.handle)||i.getAttribute("draggable")==="false"){return}var n=ki(i,e);var r=Ei(n+
,i);vi=qt(n.children,t.items);mi=vi.indexOf(r);gi=Xt(r,n.children);pi=n;ai(e,r,t.customDragImage);fi=ni(r);r.classList.add(t.draggingClass);di=bi(r,n);Zt(di,"aria-grabbed","true");n.dispatchEvent(new CustomEvent("sortstart",{detail:{origin:{elementIndex:+
gi,index:mi,container:pi},item:di,originalTarget:i}}))});Vt(e,"dragenter",function(t){var i=oi(t);var n=ki(i,t);if(n&&n!==_i){yi=qt(n.children,zt(n,"items")).filter(function(t){return t!==Ht(e).placeholder});n.dispatchEvent(new CustomEvent("sortenter",{d+
etail:{origin:{elementIndex:gi,index:mi,container:pi},destination:{container:n,itemsBeforeUpdate:yi},item:di,originalTarget:i}}))}_i=n});Vt(e,"dragend",function(i){if(!di){return}di.classList.remove(t.draggingClass);Zt(di,"aria-grabbed","false");if(di.ge+
tAttribute("aria-copied")==="true"&&zt(di,"dropped")!=="true"){di.remove()}di.style.display=di.oldDisplay;delete di.oldDisplay;var n=Array.from(Bt.values()).map(function(e){return e.placeholder}).filter(function(e){return e instanceof HTMLElement}).filte+
r(Kt)[0];if(n){n.remove()}e.dispatchEvent(new CustomEvent("sortstop",{detail:{origin:{elementIndex:gi,index:mi,container:pi},item:di}}));_i=null;di=null;fi=null});Vt(e,"drop",function(i){if(!li(e,di.parentElement)){return}i.preventDefault();i.stopPropaga+
tion();zt(di,"dropped","true");var n=Array.from(Bt.values()).map(function(e){return e.placeholder}).filter(function(e){return e instanceof HTMLElement}).filter(Kt)[0];ei(n,di);n.remove();e.dispatchEvent(new CustomEvent("sortstop",{detail:{origin:{element+
Index:gi,index:mi,container:pi},item:di}}));var r=Ht(e).placeholder;var o=qt(pi.children,t.items).filter(function(e){return e!==r});var s=this.isSortable===true?this:this.parentElement;var a=qt(s.children,zt(s,"items")).filter(function(e){return e!==r});+
var l=Xt(di,Array.from(di.parentElement.children).filter(function(e){return e!==r}));var u=Xt(di,a);if(gi!==l||pi!==s){e.dispatchEvent(new CustomEvent("sortupdate",{detail:{origin:{elementIndex:gi,index:mi,container:pi,itemsBeforeUpdate:vi,items:o},desti+
nation:{index:u,elementIndex:l,container:s,itemsBeforeUpdate:yi,items:a},item:di}}))}});var s=Yt(function(e,i,n){if(!di){return}if(t.forcePlaceholderSize){Ht(e).placeholder.style.height=fi+"px"}if(Array.from(e.children).indexOf(i)>-1){var r=ni(i);var o=X+
t(Ht(e).placeholder,i.parentElement.children);var s=Xt(i,i.parentElement.children);if(r>fi){var a=r-fi;var l=Gt(i).top;if(o<s&&n<l){return}if(o>s&&n>l+r-a){return}}if(di.oldDisplay===undefined){di.oldDisplay=di.style.display}if(di.style.display!=="none")+
{di.style.display="none"}var u=false;try{var h=Gt(i).top+i.offsetHeight/2;u=n>=h}catch(e){u=o<s}if(u){ei(i,Ht(e).placeholder)}else{Jt(i,Ht(e).placeholder)}Array.from(Bt.values()).filter(function(e){return e.placeholder!==undefined}).forEach(function(t){i+
f(t.placeholder!==Ht(e).placeholder){t.placeholder.remove()}})}else{var c=Array.from(Bt.values()).filter(function(e){return e.placeholder!==undefined}).map(function(e){return e.placeholder});if(c.indexOf(i)===-1&&e===i&&!qt(i.children,t.items).length){c.+
forEach(function(e){return e.remove()});i.appendChild(Ht(e).placeholder)}}},t.debounce);var a=function(e){var t=e.target;var i=t.isSortable===true?t:ki(t,e);t=Ei(i,t);if(!di||!li(i,di.parentElement)||zt(i,"_disabled")==="true"){return}var n=zt(i,"opts");+
if(parseInt(n.maxItems)&&qt(i.children,zt(i,"items")).length>=parseInt(n.maxItems)&&di.parentElement!==i){return}e.preventDefault();e.stopPropagation();e.dataTransfer.dropEffect=Ht(i).getConfig("copy")===true?"copy":"move";s(i,t,e.pageY)};Vt(n.concat(e),+
"dragover",a);Vt(n.concat(e),"dragenter",a)});return e}Mi.destroy=function(e){Ti(e)};Mi.enable=function(e){Ci(e)};Mi.disable=function(e){Di(e)};Mi.__testing={_data:zt,_removeItemEvents:wi,_removeItemData:Li,_removeSortableData:xi};var Pi=Mi;class Ii exte+
nds Ve{static get selector(){return".question input.rank"}static get list(){return true}_init(){const e=this;const t=this.originalInputValue;const n=a.touch?Se("rankwidget.tapstart"):Se("rankwidget.clickstart");this.itemSelector="label:not(.itemset-templ+
ate)";this.list=i(this.element).next(".option-wrapper").addClass("widget rank-widget")[0];i(this.list).toggleClass("rank-widget--empty",!t).append(this.resetButtonHtml).append(`<div class="rank-widget__overlay"><span class="rank-widget__overlay__content"+
 data-i18n="rankwidget.clickstart">${n}</span></div>`).on("click",function(){if(!e.element.disabled){this.classList.remove("rank-widget--empty");e.originalInputValue=e.value;e.element.dispatchEvent(te.FakeFocus())}});this.list.querySelector(".btn-reset")+
.addEventListener("click",e=>{this._reset();e.stopPropagation()});this.element.classList.add("hide");this.value=t;Pi(this.list,{items:this.itemSelector,containerSerializer(t){return{value:[].slice.call(t.node.querySelectorAll(`${e.itemSelector} input`)).+
map(e=>e.value).join(" ")}}})[0].addEventListener("sortupdate",()=>{this.originalInputValue=this.value;this.element.dispatchEvent(te.FakeFocus())});if(this.props.readonly){this.disable()}}_reset(){this.originalInputValue=""}get value(){const e=Pi(this.li+
st,"serialize");return e[0].container.value}set value(e){if(!e){return this._reset()}const t=this;const n=e.split(" ");const r=[...this.list.querySelectorAll(`${this.itemSelector} input`)];if(n.length!==r.length){throw new Error("Could not load rank widg+
et value. Number of items mismatch.")}r.sort((e,t)=>{const i=n.indexOf(e.value);const r=n.indexOf(t.value);if(i===-1||r===-1){throw new Error("Could not load rank widget value. Mismatch in item values.")}return i-r});r.forEach(e=>{i(t.list).find(".btn-re+
set").before(i(e.parentNode).detach())})}disable(){i(this.element).prop("disabled",true).next(".widget").find("input, button").prop("disabled",true);Pi(this.list,"disable")}enable(){i(this.element).prop("disabled",false).next(".widget").find("input, butt+
on").prop("disabled",false);Pi(this.list,"enable")}update(){const e=this.element.value;Pi(this.list);if(e){this.value=e;this.originalInputValue=e}else{this._reset()}}get originalInputValue(){return super.originalInputValue}set originalInputValue(e){super+
.originalInputValue=e;this.list.classList.toggle("rank-widget--empty",!e)}}class Ni extends Ve{static get selector(){return'.or-appearance-url input[type="text"]'}_init(){const e=document.createRange().createContextualFragment('<a class="widget url-widge+
t" target="_blank" rel="noopener"/>');this.element.classList.add("hide");this.element.after(e);this.value=this.originalInputValue}update(){this.value=this.originalInputValue}get value(){return this.question.querySelector(".url-widget").href}set value(e){+
e=e||"";const t=this.question.querySelector(".url-widget");t.href=e;t.title=e;t.textContent=e}}class Ai extends Ve{static get selector(){return'[data-type-xml="string"]'}_init(){const e=Number(S.textMaxChars);if(!isNaN(e)&&e>0){this.element.setAttribute(+
"maxlength",S.textMaxChars)}}}class Oi extends Ve{static get selector(){return'.question input[type="date"]'}static condition(e){return!C.has(e,"DatepickerExtended")&&r.ios}_init(){console.log("Adding iOS readonly datepicker workaround.");this.element.ad+
dEventListener("focus",()=>{if(this.element.readOnly){this.element.blur()}})}}var Ri=[Ue,Ke,Qe,it,ct,dt,ft,pt,gt,vt,_t,yt,wt,bt,kt,Mt,Pt,It,At,Ot,Rt,$t,Nt,Ii,Ni,Ai,Oi];const $i=Ri.filter(e=>e.selector);let zi;let Fi;function qi(e,t={}){if(!this.form){thr+
ow new Error("Widgets module not correctly instantiated with form property.")}zi=t;Fi=this.form.view.html;const i=e&&e.length?e[0]:Fi;$i.forEach(e=>{Vi(e,i)});return true}function Bi(e){$i.forEach(t=>{const i=Hi(e,t.selector).filter(e=>e.nodeName.toLower+
Case()==="select"?!e.getAttribute("readonly"):!e.readOnly);new Gi(i).enable(t)})}function Ui(e){$i.forEach(t=>{const i=Hi(e,t.selector);new Gi(i).disable(t)})}function Hi(e,t){if(t){if(t==="form"){return[Fi]}if(e.classList.contains("question")){return[..+
.e.querySelectorAll("input:not(.ignore), select:not(.ignore), textarea:not(.ignore)")].filter(e=>e.matches(t))}return[...e.querySelectorAll(t)]}return[]}function Vi(e,t){let i={};if(!e.name){return console.error("widget doesn't have a name")}if(e.helpers+
Required&&e.helpersRequired.length>0){i.helpers={};e.helpersRequired.forEach(e=>{i.helpers[e]=zi[e]})}const n=Hi(t,e.selector);if(!n.length){return}new Gi(n).instantiate(e,i);ji(e,n);Zi(e,n);Wi(e,n)}function ji(e,t){if(t.length>0){Fi.addEventListener(te.+
ChangeLanguage().type,()=>{new Gi(t).update(e)})}}function Zi(e,t){if(t.length>0&&e.list){i(t).on("changeoption",function(){new Gi(this).update(e)})}}function Wi(e,t){if(t.length>0&&t[0].matches("input, select, textarea")){t.forEach(t=>t.addEventListener+
(te.InputUpdate().type,t=>{new Gi(t.target).update(e)}))}}class Gi{constructor(e){if(!Array.isArray(e)){e=[e]}this.elements=e}_instantiateSingleWidget(e,t,i={}){if(!t.condition(e)){return}if(C.has(e,t)){return}const n=new t(e,i);if(n instanceof Promise){+
n.then(i=>C.put(e,t.name,i))}else{C.put(e,t.name,n)}}_methodCall(e,t){this.elements.forEach(i=>{const n=C.get(i,e.name);if(n){n[t]()}})}instantiate(e,t){this.elements.forEach(i=>this._instantiateSingleWidget(i,e,t))}update(e){this._methodCall(e,"update")+
}disable(e){this._methodCall(e,"disable")}enable(e){this._methodCall(e,"enable")}}var Yi={init:qi,enable:Bi,disable:Ui};var Xi={init(e){if(!this.form){throw new Error("Language module not correctly instantiated with form property.")}const t=this.form.vie+
w.html.closest("body")||this.form.view.html.parentNode;if(!t){return}const i=t.querySelector(".form-language-selector");const n=this.form.view.html.querySelector("#form-languages");if(!n){return}const r=[...n.querySelectorAll("option")].map(e=>e.value);i+
f(i){i.append(n);if(r.length>1){i.classList.remove("hide")}}this.formLanguages=t.querySelector("#form-languages");if(e&&r.includes(e)){this._currentLang=e;this.setUi(this._currentLang)}else{this._currentLang=this.formLanguages.dataset.defaultLang||r[0]||+
""}const o=this.formLanguages.querySelector(`[value="${this._currentLang}"]`);const s=o&&o.dataset.dir||"ltr";this.formLanguages.value=this._currentLang;this.form.view.html.setAttribute("dir",s);if(r.length<2){return}this.formLanguages.addEventListener(t+
e.Change().type,e=>{e.preventDefault();this._currentLang=e.target.value;this.setUi(this._currentLang)});this.form.view.html.addEventListener(te.AddRepeat().type,e=>this.setUi(this._currentLang,e.target))},get currentLang(){return this._currentLang},get c+
urrentLangDesc(){const e=this.formLanguages.querySelector(`[value="${this._currentLang}"]`);return e?e.textContent:null},setUi(e,t=this.form.view.html){const i=this.formLanguages.querySelector(`[value="${e}"]`).dataset.dir||"ltr";const n=[...t.querySelec+
torAll("[lang]")];this.form.view.html.setAttribute("dir",i);n.forEach(e=>e.classList.remove("active"));n.filter(t=>t.matches(`[lang="${e}"], [lang=""]`)&&(!t.classList.contains("or-form-short")||t.classList.contains("or-form-short")&&b(t,".or-form-long")+
.length===0)).forEach(e=>e.classList.add("active"));window.enketoFormLocale=e;this.form.view.html.querySelectorAll("select, datalist").forEach(e=>this.setSelect(e));this.form.view.html.dispatchEvent(te.ChangeLanguage())},setSelect(e){const t=e.nodeName.t+
oLowerCase();const i=e.closest(".question");const n=i?i.querySelector(".or-option-translations"):null;if(!n){return}[...e.children].filter(e=>e.matches("option")&&!e.matches('[value=""], [data-value=""]')).forEach(e=>{const i=t==="datalist"?e.value:e.tex+
tContent;const r=t==="datalist"?e.dataset.value:e.value;const o=n.querySelector(`.active[data-option-value="${r}"]`);let s=i;if(o&&o.textContent){s=o.textContent}e.value=r;e.textContent=s})}};var Ki={init(){const e=this;if(!this.form){throw new Error("Pr+
eload module not correctly instantiated with form property.")}this.form.view.$.find("input[data-preload], select[data-preload], textarea[data-preload]").each(function(){const t=i(this);const n=this;const r=e.form.input.getProps(n);const o=t.attr("data-pr+
eload").toLowerCase();const s=t.attr("data-preload-params").toLowerCase();if(typeof e[o]!=="undefined"){const t=e.form.model.node(r.path,r.index);if(t.getElements().length){const i=t.getVal();const n=e[o]({param:s,curVal:i,dataNode:t});t.setVal(n,r.xmlTy+
pe)}}else{console.log(`Preload "${o}" not supported. May or may not be a big deal.`)}})},timestamp:function(e){let t;const i=this;if(e.param==="start"){return e.curVal.length>0?e.curVal:this.form.model.evaluate("now()","string")}if(e.param==="end"){this.+
form.view.$.on("beforesave",()=>{t=i.form.model.evaluate("now()","string");e.dataNode.setVal(t,"datetime")});return this.form.model.evaluate("now()","string")}return"error - unknown timestamp parameter"},date:function(e){let t;let i;let n;let r;if(e.curV+
al.length===0){t=new Date(this.form.model.evaluate("today()","string"));i=t.getFullYear().toString().pad(4);n=(t.getMonth()+1).toString().pad(2);r=t.getDate().toString().pad(2);return`${i}-${n}-${r}`}return e.curVal},property:function(e){let t;if(e.curVa+
l.length===0){t=this.form.model.node(`instance("__session")/session/context/${e.param}`);if(t.getElements().length){return t.getVal()}else{return`no ${e.param} property in enketo`}}return e.curVal},context:function(e){if(e.curVal.length===0){return e.par+
am==="application"?"enketo":`${e.param} not supported in enketo`}return e.curVal},patient:function(e){if(e.curVal.length===0){return"patient preload item not supported in enketo"}return e.curVal},user:function(e){if(e.curVal.length===0){return"user prelo+
ad item not supported in enketo yet"}return e.curVal},uid:function(e){if(e.curVal.length===0){return this.form.model.evaluate('concat("uuid:", uuid())',"string")}return e.curVal}};var Qi={update(e){const t={};let n="";const r=this;if(!this.form){throw ne+
w Error("Output module not correctly instantiated with form property.")}const o=this.form.getRelatedNodes("data-value",".or-output",e);const s=this.form.repeatsPresent&&this.form.view.html.querySelector(".or-repeat.clone");o.each(function(){const e=i(thi+
s);const o=this;if(e.closest(".or-branch").parent().closest(".disabled").length){return}const a=o.dataset.value;let l=o.closest(".question, .or-group");if(!l.matches(".or-group")){l=l.querySelector("[name]")}let u=r.form.input.getName(l);if(i(l).children+
(`.or-repeat-info[data-name="${u}"]`).length&&!i(l).children(`.or-repeat[name="${u}"]`).length){u=null}const h=s&&e.parentsUntil(".or",".or-repeat").length>0;const c=h&&e.parentsUntil(".or",".or-repeat.clone").length>0;const d=c&&u?r.form.input.getIndex(+
l):0;if(typeof t[a]!=="undefined"){n=t[a]}else{n=r.form.model.evaluate(a,"string",u,d,true);if(!h){t[a]=n}}if(e.text()!==n){e.text(n)}})}};var Ji={update(e={},t=""){let n;const r=this;if(!this.form){throw new Error("Calculation module not correctly insta+
ntiated with form property.")}if(e.relevantPath){n=this.form.getRelatedNodes("data-calculate",`[name^="${e.relevantPath}/"]${t}`).add(this.form.getRelatedNodes("data-calculate",`[name="${e.relevantPath}"]${t}`)).add(this.form.getRelatedNodes("data-calcul+
ate",`[data-name="${e.relevantPath}"]${t}`))}else{n=this.form.getRelatedNodes("data-calculate",t,e)}n.each(function(){let t;const n=i(this);const o=this;const s=r.form.input.getName(o);const a=s.lastIndexOf("/")!==-1?s.substring(s.lastIndexOf("/")+1):s;c+
onst l=r.form.input.getCalculation(o);const u=r.form.input.getXmlType(o);const h=r.form.input.getRelevant(o);const c=r.form.model.node(s);const d=c.getElements();if(d.length>1){if(e.repeatPath&&s.indexOf(e.repeatPath+"/")!==-1){const i=r.form.model.node(+
e.repeatPath,e.repeatIndex).getElement().querySelector(a);t=d.indexOf(i);f(t)}else if(n[0].type==="hidden"){d.forEach((e,t)=>{f(t)})}else{const e=n.closest(".or-repeat").siblings(".or-repeat").addBack();if(e.length===d.length){t=e.index(n.closest(".or-re+
peat"));f(t)}}}else if(d.length===1){t=0;f(t)}function f(e){const t=s.split("/");const n=t.splice(0,t.length-1).join("/");let a;if(e===0){a=r.form.view.html.querySelector(`.or-group[name="${n}"],.or-group-data[name="${n}"]`)}else{a=r.form.view.html.query+
SelectorAll(`.or-repeat[name="${n}"]`)[e]||r.form.view.html.querySelectorAll(`.or-group[name="${n}"],.or-group-data[name="${n}"]`)[e]}const d=a?[a].concat(k(a,".or-group, .or-group-data")):[];if(d.length){var f=d.filter(e=>e.matches("[data-relevant]")).m+
ap(e=>{const t=i(e);const n=r.form.input.getName(e);return{context:n,index:r.form.view.$.find(`.or-group[name="${n}"], .or-group-data[name="${n}"]`).index(t),expr:r.form.input.getRelevant(e)}}).concat([{context:s,index:e,expr:h}]).every(e=>e.expr?r.form.+
model.evaluate(e.expr,"boolean",e.context,e.index):true)}else{f=h?r.form.model.evaluate(h,"boolean",s,e):true}const p=r.form.replaceChoiceNameFn(l,"string",s,e);const m=r.form.input.getInputType(o)==="number"?"number":"string";const g=f&&p?r.form.model.e+
valuate(p,m,s,e):"";c.setIndex(e);c.setVal(g,u);r.form.input.setVal(o,c.getVal())}})}};var en={update(e){const t=this;const n={};if(!this.form){throw new Error("Required module not correctly instantiated with form property.")}const r=this.form.getRelated+
Nodes("data-required","",e);const o=this.form.repeatsPresent&&this.form.view.html.querySelector(".or-repeat.clone");r.each(function(){const e=i(this);const r=this;const s=t.form.input.getRequired(r);const a=t.form.input.getName(r);const l=o?t.form.input.+
getIndex(r):0;const u=`${s}__${a.substring(0,a.lastIndexOf("/"))}__${l}`;if(typeof n[u]==="undefined"){n[u]=t.form.model.node(a,l).isRequired(s)}e.closest(".question").find(".required").toggleClass("hide",!n[u])})}};const tn="xvc";function nn(){rn('[data+
-type-xml="int"]',/^(-?[0-9]+$)/,"-0123456789");rn('[data-type-xml="decimal"]',/^(-?[0-9]+[.,]?[0-9]*$)/,"-0123456789.,")}function rn(e,t,n){i(e).on("keydown",e=>{if(on(e)||sn(e)||n.indexOf(e.key)!==-1){return true}return false}).on("paste",function(e){c+
onst n=v(e);if(n&&t.test(n.trim())){return true}i(this).val("").trigger("change");return false}).on("blur",function(){if(typeof this.validity!=="undefined"&&typeof this.validity.badInput!=="undefined"&&this.validity.badInput){this.value=""}else if(typeof+
 this.validity.badInput==="undefined"&&this.value&&!t.test(this.value.trim())){this.value=""}})}function on(e){return e.key.length>1&&e.key!=="Spacebar"}function sn(e){return tn.indexOf(e.key)!==-1&&(e.metaKey||e.ctrlKey)}var an={init:nn};var ln={update(+
e){const t=this.form.getRelatedNodes("readonly","",e);t.each(function(){i(this).closest(".question").addClass("readonly");if(!this.value&&!this.dataset.calculate&&!this.classList.contains("readonly-forced")){this.classList.add("empty")}})}};i.fn.clearInp+
uts=function(e,t){e=e||"edit";t=t||"";return this.each(function(){i(this).find(".file-preview").remove();i(this).find("input, select, textarea").not(".ignore").each(function(){const n=i(this);let r=n.attr("type");let o;if(n.prop("nodeName").toUpperCase()+
==="SELECT"){r="select"}if(n.prop("nodeName").toUpperCase()==="TEXTAREA"){r="textarea"}switch(r){case"file":o=this.dataset.loadedFileName;delete this.dataset.loadedFileName;case"date":case"datetime":case"time":case"number":case"search":case"color":case"r+
ange":case"url":case"email":case"password":case"text":case"tel":case"hidden":case"textarea":if(n.val()!==""||o){n.val("").trigger(e).trigger(t)}break;case"radio":case"checkbox":if(n.prop("checked")){n.prop("checked",false);n.trigger(e).trigger(t)}break;c+
ase"select":if(n[0].selectedIndex>0){n[0].selectedIndex=0;n.trigger(e).trigger(t)}break;default:console.error("Unrecognized input type found when trying to reset",this)}})})};i.fn.reverse=[].reverse;function un(e,t,n){const r=i(e);this.$nonRepeats={};thi+
s.$all={};this.options=typeof n!=="object"?{}:n;if(typeof this.options.clearIrrelevantImmediately==="undefined"){this.options.clearIrrelevantImmediately=true}this.view={$:r,html:r[0],$clone:r.clone()};this.model=new Te(t);this.repeatsPresent=!!this.view.+
html.querySelector(".or-repeat");this.widgetsInitialized=false;this.pageNavigationBlocked=false;this.initialized=false}un.prototype={evaluationCascadeAdditions:[],get evaluationCascade(){return[this.calc.update.bind(this.calc),this.repeats.countUpdate.bi+
nd(this.repeats),this.relevant.update.bind(this.relevant),this.output.update.bind(this.output),this.itemset.update.bind(this.itemset),this.required.update.bind(this.required),this.readonly.update.bind(this.readonly),this.validationUpdate].concat(this.eva+
luationCascadeAdditions)},get recordName(){return this.view.$.attr("name")},set recordName(e){this.view.$.attr("name",e)},get editStatus(){return this.view.html.dataset.edited==="true"},set editStatus(e){if(e&&e!==this.editStatus){this.view.html.dispatch+
Event(te.Edited())}this.view.html.dataset.edited=e},get surveyName(){return this.view.$.find("#form-title").text()},get instanceID(){return this.model.instanceID},get deprecatedID(){return this.model.deprecatedID},get instanceName(){return this.model.ins+
tanceName},get version(){return this.model.version},get encryptionKey(){return this.view.$.data("base64rsapublickey")},get action(){return this.view.$.attr("action")},get method(){return this.view.$.attr("method")},get id(){return this.view.html.id}};un.+
prototype.addModule=function(e){return Object.create(e,{form:{value:this}})};un.prototype.init=function(){let e=[];const t=this;e=e.concat(this.model.init());if(typeof this.model==="undefined"||!(this.model instanceof Te)){e.push("Form could not be initi+
alized without a model.");return e}this.model.events.addEventListener("dataupdate",e=>{t.view.html.dispatchEvent(te.DataUpdate(e.detail))});this.model.events.addEventListener("removed",e=>{t.view.html.dispatchEvent(te.Removed(e.detail))});this.pages=this+
.addModule(ze);this.langs=this.addModule(Xi);this.progress=this.addModule(Be);this.widgets=this.addModule(Yi);this.preloads=this.addModule(Ki);this.relevant=this.addModule(Fe);this.repeats=this.addModule(Re);this.input=this.addModule(Me);this.output=this+
.addModule(Qi);this.itemset=this.addModule(qe);this.calc=this.addModule(Ji);this.required=this.addModule(en);this.mask=this.addModule(an);this.readonly=this.addModule(ln);try{this.preloads.init();this.view.$.data({instanceID:this.model.instanceID});this.+
grosslyViolateStandardComplianceByIgnoringCertainCalcs();this.calc.update();this.langs.init(this.options.language);this.pages.init();this.repeats.init();this.output.update();this.itemset.update();this.setAllVals();this.readonly.update();this.options.inpu+
t=this.input;this.options.pathToAbsolute=this.pathToAbsolute.bind(this);this.options.evaluate=this.model.evaluate.bind(this.model);this.options.formClasses=f(this.view.html.classList);this.options.getModelValue=this.getModelValue.bind(this);this.widgetsI+
nitialized=this.widgets.init(null,this.options);this.relevant.update();this.setEventHandlers();this.calc.update();this.required.update();this.mask.init();this.editStatus=false;if(this.options.printRelevantOnly!==false){this.view.$.addClass("print-relevan+
t-only")}setTimeout(()=>{t.progress.update()},0);this.initialized=true;return e}catch(t){console.error(t);e.push(`${t.name}: ${t.message}`)}document.querySelector("body").scrollIntoView();console.debug("loadErrors",e);return e};un.prototype.goTo=function+
(e){const t=[];if(!this.goToTarget(this.getGoToTarget(e))){t.push(Se("alert.gotonotfound.msg",{path:location.hash.substring(1)}))}return t};un.prototype.getDataStr=function(e){e=typeof e!=="object"||e===null?{}:e;if(e.irrelevant===false){return this.getD+
ataStrWithoutIrrelevantNodes()}return this.model.getStr()};un.prototype.resetView=function(){i("#form-languages").remove();this.view.$.replaceWith(this.view.$clone)};un.prototype.replaceChoiceNameFn=function(e,t,n,r,o){const s=this;const a=h(e,"jr:choice+
-name");a.forEach(a=>{const l=a[1];if(l.length===2){let u="";const h=s.model.evaluate(l[0],t,n,r,o);const d=c(l[1]).trim();const f=s.view.$.find(`[name="${d}"]`);if(!h){u=""}else if(f.length>0&&f.prop("nodeName").toLowerCase()==="select"){u=f.find(`[valu+
e="${h}"]`).text()}else if(f.length>0&&f.prop("nodeName").toLowerCase()==="input"){if(!f.attr("list")){u=f.filter(function(){return i(this).attr("value")===h}).siblings(".option-label.active").text()}else{u=f.siblings(`datalist#${f.attr("list")}`).find(`+
[data-value="${h}"]`).attr("value")}}e=e.replace(a[0],`"${u}"`)}else{throw new D(`jr:choice-name function has incorrect number of parameters: ${a[0]}`)}});return e};un.prototype.setAllVals=function(e,t){const i=this;const n=e&&e.attr("name")?e.attr("name+
"):null;t=typeof t!=="undefined"?t:null;this.model.node(n,t).getElements().reduce((e,t)=>{const i=[...t.querySelectorAll("*")].filter(e=>e.children.length===0&&e.textContent);return e.concat(i)},[]).forEach(e=>{try{var t=e.textContent;var n=i.model.getXP+
ath(e,"instance");const r=i.model.node(n).getElements().indexOf(e);const o=i.input.find(n,r);if(o){i.input.setVal(o,t)}}catch(e){console.error(e);throw new Error(`Could not load input field value with name: ${n} and value: ${t}`)}});return};un.prototype.+
getModelValue=function(e){const t=e[0];const i=this.input.getName(t);const n=this.input.getIndex(t);return this.model.node(i,n).getVal()};un.prototype.getRelatedNodes=function(e,t,n){let r;let o=null;let s;let a=[];const l=this;n=n||{};t=t||"";if(!this.$+
nonRepeats[e]){s=this.view.$.find(`:not(.or-repeat-info)[${e}]`).filter(function(){return i(this).closest(".or-repeat").length===0});this.$nonRepeats[e]=this.filterRadioCheckSiblings(s)}if(typeof n.repeatPath!=="undefined"&&n.repeatIndex>=0){s=this.view.+
$.find(`.or-repeat[name="${n.repeatPath}"]`).eq(n.repeatIndex).find(`[${e}]`);o=this.filterRadioCheckSiblings(s)}if(!this.$all[e]||n.repeatPath&&!n.cloned){this.$all[e]=this.filterRadioCheckSiblings(this.view.$.find(`[${e}]`))}else if(n.cloned&&o){this.$+
all[e]=this.$all[e].add(o)}if(o){r=this.$nonRepeats[e].add(o)}else{r=this.$all[e]}if(!n.nodes||n.nodes.length===0){a=a.concat([t])}else{n.nodes.forEach(i=>{a=a.concat(l.getQuerySelectorsForLogic(t,e,i))});a=a.concat(l.getQuerySelectorsForLogic(t,e,"*"))}+
const u=a.join(", ");r=u?r.filter(u):r;return r};un.prototype.filterRadioCheckSiblings=(e=>{const t=[];return e.filter(function(){const e=this.type==="radio"||this.type==="checkbox"?i(this.parentNode).parent(".option-wrapper")[0]:null;if(e){if(t.indexOf(+
e)!==-1){return false}t.push(e)}return true})});un.prototype.getQuerySelectorsForLogic=((e,t,i)=>[`${e}[${t}*="/${i} "]`,`${e}[${t}*="/${i})"]`,`${e}[${t}*="/${i},"]`,`${e}[${t}$="/${i}"]`,`${e}[${t}*="/${i}]"]`,`${e}[${t}*="/${i}["]`]);un.prototype.getD+
ataStrWithoutIrrelevantNodes=function(){const e=this;const t=new Te(this.model.getStr());t.init();this.getRelatedNodes("data-relevant").reverse().each(function(){const n=i(this);const r=this;const o=e.input.getRelevant(r);const s=e.input.getIndex(r);cons+
t a=e.input.getName(r);let l;if(n.children(`.or-repeat-info[data-name="${a}"]`).length&&!n.children(`.or-repeat[name="${a}"]`).length){l=null}else{l=a}if(l&&!e.model.evaluate(o,"boolean",l,s)){t.node(l,s).remove()}});return t.getStr()};un.prototype.gross+
lyViolateStandardComplianceByIgnoringCertainCalcs=function(){const e=this.view.$.find('[name$="instanceID"][data-calculate]');if(e.length>0){e.removeAttr("data-calculate")}};un.prototype.validationUpdate=function(e){};un.prototype.setEventHandlers=functi+
on(){const e=this;this.view.$.attr("onsubmit","return false;");this.view.$.on("change.file","input:not(.ignore), select:not(.ignore), textarea:not(.ignore)",function(){const t=i(this);const n=this;const r={path:e.input.getName(n),inputType:e.input.getInp+
utType(n),xmlType:e.input.getXmlType(n),val:e.input.getVal(n),index:e.input.getIndex(n)};if(r.val.length>0&&r.inputType==="file"&&n.files[0]&&n.files[0].size>0){r.val=d(n.files[0],n.dataset.filenamePostfix)}if(r.val.length>0&&r.inputType==="drawing"){r.v+
al=d({name:r.val},n.dataset.filenamePostfix)}const o=e.model.node(r.path,r.index).setVal(r.val,r.xmlType);if(o){e.validateInput(n).then(e=>{t.trigger("valuechange",e)})}});this.view.html.addEventListener("focusin",e=>{this.progress.update(e.target)});thi+
s.view.html.addEventListener(te.FakeFocus().type,e=>{this.progress.update(e.target)});this.model.events.addEventListener("dataupdate",t=>{e.evaluationCascade.forEach(i=>{i.call(e,t.detail)},true);e.editStatus=true});this.view.html.addEventListener(te.Add+
Repeat().type,t=>{const n=t.detail?t.detail[0]:undefined;const r=i(t.target);const o={repeatPath:r.attr("name"),repeatIndex:n,cloned:true};e.setAllVals(r,n);e.evaluationCascade.forEach(t=>{t.call(e,o)});e.progress.update()});this.view.html.addEventListen+
er(te.RemoveRepeat().type,()=>{e.progress.update()});this.view.html.addEventListener(te.ChangeLanguage().type,()=>{e.output.update()});this.view.$.find(".or-group > h4").on("click",function(){i(this).closest(".or-group").toggleClass("or-appearance-compac+
t").trigger("resize")})};un.prototype.setValid=function(e,t){const i=t?[`invalid-${t}`]:["invalid-constraint","invalid-required","invalid-relevant"];this.input.getWrapNode(e).classList.remove(...i)};un.prototype.setInvalid=function(e,t){t=t||"constraint"+
;this.input.getWrapNode(e).classList.add(`invalid-${t}`)};un.prototype.blockPageNavigation=function(){const e=this;this.pageNavigationBlocked=true;window.clearTimeout(this.blockPageNavigationTimeout);this.blockPageNavigationTimeout=window.setTimeout(()=>+
{e.pageNavigationBlocked=false},600)};un.prototype.isValid=function(e){if(e){const t=this.input.getWrapNode(e);const i=t.classList;return!i.contains("invalid-required")&&!i.contains("invalid-constraint")&&!i.contains("invalid-relevant")}return this.view.+
html.querySelector(".invalid-required, .invalid-constraint, .invalid-relevant")===null};un.prototype.clearIrrelevant=function(){this.relevant.update(null,true)};un.prototype.validateAll=function(){const e=this;if(this.options.clearIrrelevantImmediately==+
=false){this.clearIrrelevant()}return this.validateContent(this.view.$).then(t=>{e.view.html.dispatchEvent(te.ValidationComplete());return t})};un.prototype.validate=un.prototype.validateAll;un.prototype.validateContent=function(e){let t;const i=this;e.f+
ind("fieldset:disabled input, fieldset:disabled select, fieldset:disabled textarea, "+"input:disabled, select:disabled, textarea:disabled").each(function(){i.setValid(this)});const n=e.find(".question").addBack(".question").map(function(){const e=this.qu+
erySelector("input:not(.ignore):not(:disabled), select:not(.ignore):not(:disabled), textarea:not(.ignore):not(:disabled)");if(!e){return Promise.resolve()}return i.validateInput(e)}).toArray();return Promise.all(n).then(()=>{t=e.find(".invalid-required, +
.invalid-constraint, .invalid-relevant").addBack(".invalid-required, .invalid-constraint, .invalid-relevant").eq(0);if(t.length>0){i.goToTarget(t[0])}return t.length===0}).catch(()=>false)};un.prototype.pathToAbsolute=function(e,t){let i;if(e.indexOf("/"+
)===0){return e}i=this.model.evaluate(e,"node",t,0,true);return this.model.getXPath(i,"instance",false)};un.prototype.validateInput=function(e){if(!this.initialized){return Promise.resolve()}const t=this;let i;const n={path:this.input.getName(e),inputTyp+
e:this.input.getInputType(e),xmlType:this.input.getXmlType(e),enabled:this.input.isEnabled(e),constraint:this.input.getConstraint(e),calculation:this.input.getCalculation(e),required:this.input.getRequired(e),readonly:this.input.getReadonly(e),val:this.i+
nput.getVal(e)};if(n.readonly&&!n.val&&!n.required&&!n.constraint&&!n.calculation){return Promise.resolve()}if(n.enabled&&n.inputType!=="hidden"){n.ind=this.input.getIndex(e);i=this.model.node(n.path,n.ind).validate(n.constraint,n.required,n.xmlType)}els+
e{i=Promise.resolve({requiredValid:true,constraintValid:true})}return i.then(i=>{let r=false;const o=i.requiredValid!==false&&i.constraintValid!==false;if(n.inputType!=="hidden"){n.q=t.input.getWrapNode(e);r=n.q.classList.contains("invalid-required")||n.+
q.classList.contains("invalid-constraint");if(i.requiredValid===false){t.setValid(e,"constraint");t.setInvalid(e,"required")}else if(i.constraintValid===false){t.setValid(e,"required");t.setInvalid(e,"constraint")}else{t.setValid(e,"constraint");t.setVal+
id(e,"required")}}if(!o&&!r){e.dispatchEvent(te.Invalidated())}return o}).catch(i=>{console.error("validation error",i);t.setInvalid(e,"constraint");throw i})};un.prototype.getGoToTarget=function(e){let t;let i;let n;let r;let o="";const s=/([^[]+)\[(\d++
)\]([^[]*$)?/g;if(!e){return}i=this.model.node(e).getElement();if(!i){return}e=this.model.getXPath(i,"instance",true);n=this.view.html.querySelector(`[name="${e}"]`);if(!n){r=this.view.html;while((t=s.exec(e))!==null&&r){o+=t[1];r=r.querySelectorAll(`[na+
me="${o}"], [data-name="${o}"]`)[t[2]];if(r&&t[3]){o+=t[3];r=r.querySelector(`[name="${o}"],[data-name="${o}"]`)}n=r}}return n?this.input.getWrapNode(n):n};un.prototype.goToTarget=function(e){if(e){if(this.pages.active){this.pages.flipToPageContaining(i(+
e))}if(e.closest(".or-branch.disabled")){e.dispatchEvent(te.GoToHidden())}e.scrollIntoView();const t=e.querySelector("input:not(.ignore), textarea:not(.ignore), select:not(.ignore)");t.focus();t.dispatchEvent(te.ApplyFocus())}return!!e};un.requiredTransf+
ormerVersion="1.32.0";return un});                                                                                                                                                                                                                             